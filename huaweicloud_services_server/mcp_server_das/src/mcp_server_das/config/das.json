{
  "openapi" : "3.0.0",
  "info" : {
    "description" : "DAS-获取API版本",
    "title" : "DAS",
    "version" : "2025-06-13"
  },
  "servers" : [ {
    "url" : "/"
  } ],
  "components" : {
    "parameters" : { },
    "schemas" : {
      "ShowApiVersionResp" : {
        "properties" : {
          "version" : {
            "$ref" : "#/components/schemas/ApiVersion"
          }
        },
        "type" : "object"
      },
      "ApiVersion" : {
        "description" : "API版本详细信息列表。",
        "required" : [ "id", "status", "updated", "version" ],
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "API版本号,如v3。"
          },
          "status" : {
            "type" : "string",
            "description" : "版本状态。 取值“CURRENT”,表示该版本为主推版本。取值“SUPPORTED”,表示为老版本,但是现在还继续支持。 取值“DEPRECATED”,表示为废弃版本,存在后续删除的可能。"
          },
          "updated" : {
            "type" : "string",
            "description" : "版本发布时间。 格式为“yyyy-mm-ddThh:mm:ssZ”。 其中,T指某个时间的开始;Z指UTC时间。"
          },
          "version" : {
            "type" : "string",
            "description" : "API的微版本,如果不支持微版本,则为空"
          }
        },
        "type" : "object"
      },
      "ErrorResp" : {
        "description" : "失败时返回的错误对象",
        "required" : [ "error_code", "error_msg" ],
        "properties" : {
          "error_code" : {
            "description" : "错误码",
            "type" : "string",
            "minLength" : 8,
            "maxLength" : 36
          },
          "error_msg" : {
            "description" : "错误描述",
            "type" : "string",
            "minLength" : 2,
            "maxLength" : 512
          }
        },
        "type" : "object"
      },
      "ChangeChargeModeBody" : {
        "type" : "object",
        "required" : [ "instance_id_list", "datastore_type" ],
        "properties" : {
          "instance_id_list" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "example" : [ "5c59fa7d6f09456b947f32922f9aeda1in01" ],
            "description" : "实例ID列表"
          },
          "datastore_type" : {
            "type" : "string",
            "example" : "mysql",
            "description" : "引擎类型"
          }
        }
      },
      "ChangePaymentModeResp" : {
        "type" : "object",
        "required" : [ "success" ],
        "properties" : {
          "success" : {
            "type" : "boolean",
            "example" : true,
            "description" : "是否成功"
          }
        }
      },
      "ListFullSqlTasksResp" : {
        "required" : [ "tasks", "total" ],
        "properties" : {
          "tasks" : {
            "type" : "array",
            "description" : "SQL洞察任务列表。",
            "items" : {
              "$ref" : "#/components/schemas/FullSqlTask"
            }
          },
          "total" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "总数。"
          }
        },
        "type" : "object"
      },
      "FullSqlTask" : {
        "required" : [ "id", "instance_id", "instance_name", "node_id", "start_at", "end_at", "batch_id", "user_list", "keyword", "operation_list", "thread_id_list", "trx_id_list", "status_list", "sql_template_ids", "status", "progress", "reason", "create_at", "update_at" ],
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "任务ID。"
          },
          "instance_id" : {
            "type" : "string",
            "description" : "实例ID。"
          },
          "instance_name" : {
            "type" : "string",
            "description" : "实例名称。"
          },
          "node_id" : {
            "type" : "string",
            "description" : "节点ID。"
          },
          "start_at" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "开始时间(Unix timestamp),单位:毫秒。"
          },
          "end_at" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "结束时间(Unix timestamp),单位:毫秒。"
          },
          "batch_id" : {
            "type" : "string",
            "description" : "批次ID。"
          },
          "user_list" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "用户名。"
          },
          "keyword" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "关键字。"
          },
          "db_list" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "数据库。"
          },
          "operation_list" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "操作类型。"
          },
          "thread_id_list" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "线程ID。"
          },
          "trx_id_list" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "事务ID。"
          },
          "status_list" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "执行状态(0:成功,1:失败)。"
          },
          "sql_template_ids" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "SQL模板ID。"
          },
          "status" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "任务状态(0:等待解析,1:解析中,2:解析完成,-1:失败)。"
          },
          "progress" : {
            "type" : "number",
            "format" : "double",
            "description" : "任务进度,取值为0-100。"
          },
          "reason" : {
            "type" : "string",
            "description" : "失败原因。"
          },
          "create_at" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "创建时间(Unix timestamp),单位:毫秒。"
          },
          "update_at" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "更新时间(Unix timestamp),单位:毫秒。"
          }
        },
        "type" : "object"
      },
      "SwitchStatusResp" : {
        "required" : [ "status", "retention_days" ],
        "properties" : {
          "status" : {
            "type" : "string",
            "description" : "开关状态。取值: Enabled:已开启, Disabled:已关闭, Switching:开关切换中"
          },
          "retention_days" : {
            "type" : "integer",
            "description" : "SQL数据保存天数。",
            "format" : "int64"
          }
        },
        "type" : "object"
      },
      "DeleteSqlLimitRulesBody" : {
        "type" : "object",
        "description" : "删除SQL限流规则请求体",
        "required" : [ "datastore_type", "sql_limit_rule_ids" ],
        "properties" : {
          "datastore_type" : {
            "type" : "string",
            "description" : "数据库类型",
            "enum" : [ "MySQL", "PostgreSQL" ]
          },
          "sql_limit_rule_ids" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "SQL限流规则ID"
          },
          "database_name" : {
            "type" : "string",
            "description" : "数据库名(PostgreSQL必填)"
          }
        }
      },
      "IndexAdviceInfo" : {
        "type" : "object",
        "properties" : {
          "schema_name" : {
            "type" : "string",
            "description" : "schema名"
          },
          "table_name" : {
            "type" : "string",
            "description" : "表名"
          },
          "index_name" : {
            "type" : "string",
            "description" : "索引名"
          },
          "columns" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "列"
          },
          "unique" : {
            "type" : "boolean",
            "description" : "是否唯一"
          },
          "track_id" : {
            "type" : "string",
            "description" : "追踪id"
          },
          "quality" : {
            "type" : "object",
            "description" : "质量"
          },
          "ddl_add_index" : {
            "type" : "string",
            "description" : "ddl需要添加的索引"
          }
        }
      },
      "FeedbackInfo" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "编号"
          },
          "project_id" : {
            "type" : "string",
            "description" : "项目Id"
          },
          "message_id" : {
            "type" : "string",
            "description" : "任务消息唯一Id"
          },
          "feedback_grade" : {
            "type" : "string",
            "description" : "反馈等级"
          },
          "feedback_content" : {
            "type" : "string",
            "description" : "反馈内容"
          },
          "gmt_created" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "创建时间"
          },
          "gmt_modified" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "修改时间"
          }
        }
      },
      "TuningResultResp" : {
        "type" : "object",
        "properties" : {
          "tune_result" : {
            "$ref" : "#/components/schemas/AdviceResult"
          }
        }
      },
      "AdviceResult" : {
        "type" : "object",
        "properties" : {
          "message_id" : {
            "type" : "string",
            "description" : "messageId"
          },
          "status_code" : {
            "type" : "string",
            "description" : "状态码"
          },
          "error_code" : {
            "type" : "string",
            "description" : "错误码"
          },
          "error_message" : {
            "type" : "string",
            "description" : "错误信息"
          },
          "index_advice" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/IndexAdviceInfo"
            },
            "description" : "索引建议"
          },
          "tuning_advice" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "诊断建议"
          },
          "formatted_sql" : {
            "type" : "string",
            "description" : "格式化SQL"
          },
          "original_sql" : {
            "type" : "string",
            "description" : "原始SQL"
          },
          "explain" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/Explain"
            },
            "description" : "执行计划"
          },
          "tb_pos_infos" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/TbPosInfo"
            },
            "description" : "表位置信息"
          },
          "feedback_infos" : {
            "$ref" : "#/components/schemas/FeedbackInfo",
            "description" : "反馈信息"
          }
        }
      },
      "Explain" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "select子句的编号"
          },
          "select_type" : {
            "type" : "string",
            "description" : "select子句的类型"
          },
          "table" : {
            "type" : "string",
            "description" : "SQL优化器选择的表join顺序。"
          },
          "type" : {
            "type" : "string",
            "description" : "查找表中行的访问类型(从好到坏依次为:null>system>const>eq_ref>ref>range>index>all)。"
          },
          "possible_keys" : {
            "type" : "string",
            "description" : "有助于高效查找行的索引。"
          },
          "key" : {
            "type" : "string",
            "description" : "出于最小化查询成本考虑,SQL优化器实际使用的索引"
          },
          "key_len" : {
            "type" : "string",
            "description" : "key列所示索引的长度(字节)"
          },
          "ref" : {
            "type" : "string",
            "description" : "在使用key列所示索引查找数据时用到的列或常量"
          },
          "rows" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "key列所示索引的长度(字节)"
          },
          "filtered" : {
            "type" : "number",
            "format" : "double",
            "description" : "sql解析的额外信息:当出现using index时,说明SQL使用覆盖索引,性能较好;而当出现 using filesort、using temporary、using where时,说明查询需要优化。"
          },
          "extra" : {
            "type" : "string",
            "description" : "sql解析的额外信息:当出现using index时,说明SQL使用覆盖索引,性能较好;而当出现 using filesort、using temporary、using where时,说明查询需要优化。"
          }
        }
      },
      "TbPosInfo" : {
        "type" : "object",
        "properties" : {
          "origin_name" : {
            "type" : "string",
            "description" : "原始名称"
          },
          "name" : {
            "type" : "string",
            "description" : "名称"
          },
          "start" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "开始"
          },
          "end" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "结束"
          }
        }
      },
      "DeleteDbUserResp" : {
        "description" : "删除注册的数据库用户",
        "required" : [ "result" ],
        "properties" : {
          "result" : {
            "type" : "string",
            "description" : "删除结果,删除成功返回OK"
          }
        },
        "type" : "object"
      },
      "ShareConnUserInfo" : {
        "type" : "object",
        "properties" : {
          "user_id" : {
            "type" : "string",
            "description" : "用户ID"
          },
          "user_name" : {
            "type" : "string",
            "description" : "用户名"
          }
        },
        "required" : [ "user_id", "user_name" ]
      },
      "CancelShareConnectionsRequestBody" : {
        "type" : "object",
        "required" : [ "shared_conn_id", "users" ],
        "properties" : {
          "shared_conn_id" : {
            "type" : "string",
            "description" : "共享链接ID"
          },
          "users" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/ShareConnUserInfo"
            },
            "description" : "用户"
          }
        }
      },
      "CreateSqlLimitRulesBody" : {
        "type" : "object",
        "required" : [ "datastore_type", "sql_limit_rules" ],
        "properties" : {
          "datastore_type" : {
            "type" : "string",
            "description" : "数据库类型",
            "enum" : [ "MySQL", "PostgreSQL" ]
          },
          "sql_limit_rules" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/CreateSqlLimitRuleOption"
            },
            "description" : "需要创建的SQL限流规则列表,一次最多创建5个"
          },
          "database_name" : {
            "type" : "string",
            "description" : "数据库名(PostgreSQL必填)"
          }
        },
        "description" : "创建SQL限流规则请求提"
      },
      "CreateSqlLimitRuleOption" : {
        "type" : "object",
        "required" : [ "sql_type", "max_concurrency", "pattern" ],
        "properties" : {
          "sql_type" : {
            "type" : "string",
            "description" : "SQL类型",
            "enum" : [ "SELECT", "UPDATE", "DELETE", "INSERT", "QUERY_ID", "QUERY_STR" ]
          },
          "max_concurrency" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "最大并发数"
          },
          "max_waiting" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "最大等待时间"
          },
          "pattern" : {
            "type" : "string",
            "description" : "SQL限流规则。限流规则以~分隔关键字,例如select~a。规则举例详细说明:例如关键字是\"select~a\", 含义为:select以及a为该并发控制所包含的两个关键字,~为关键字间隔符,即若执行SQL命令包含select与a两个关键字视为命中此条并发控制规则。"
          },
          "his_sql_limit_switch" : {
            "type" : "boolean",
            "description" : "历史SQL限流开关。"
          }
        }
      },
      "ListDbUserResp" : {
        "description" : "注册的数据库用户列表",
        "required" : [ "total", "db_users" ],
        "properties" : {
          "total" : {
            "type" : "integer",
            "description" : "总数",
            "format" : "int32"
          },
          "db_users" : {
            "type" : "array",
            "description" : "数据库用户列表",
            "items" : {
              "$ref" : "#/components/schemas/DbUser"
            }
          }
        },
        "type" : "object"
      },
      "DbUser" : {
        "description" : "注册的数据库用户信息",
        "required" : [ "db_user_id", "db_username" ],
        "properties" : {
          "db_user_id" : {
            "type" : "string",
            "description" : "数据库用户ID"
          },
          "db_username" : {
            "type" : "string",
            "description" : "数据库用户名称"
          }
        },
        "type" : "object"
      },
      "SqlExplainResp" : {
        "properties" : {
          "execution_plans" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/ExecutionPlan"
            },
            "description" : "SQL执行计划列表"
          },
          "error_message" : {
            "type" : "string",
            "description" : "SQL执行失败时,显示执行错误信息"
          }
        },
        "type" : "object"
      },
      "ExecutionPlan" : {
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "id"
          },
          "select_type" : {
            "type" : "string",
            "description" : "select子句的类型"
          },
          "table" : {
            "type" : "string",
            "description" : "数据库表"
          },
          "partitions" : {
            "type" : "string",
            "description" : "查询将匹配记录的分区"
          },
          "type" : {
            "type" : "string",
            "description" : "访问类型"
          },
          "possible_keys" : {
            "type" : "string",
            "description" : "可能使用的键(索引)"
          },
          "key" : {
            "type" : "string",
            "description" : "实际使用的键(索引)"
          },
          "key_len" : {
            "type" : "string",
            "description" : "决定使用的键的长度"
          },
          "ref" : {
            "type" : "string",
            "description" : "使用哪个列或常数与键一起来选择行"
          },
          "rows" : {
            "type" : "string",
            "description" : "MySQL认为它执行查询时必须检查的行数"
          },
          "filtered" : {
            "type" : "string",
            "description" : "按表条件过滤的表行的估计百分比"
          },
          "extra" : {
            "type" : "string",
            "description" : "其他信息"
          }
        },
        "required" : [ "id", "select_type", "table", "partitions", "type", "possible_keys", "key", "key_len", "ref", "rows", "filtered", "extra" ],
        "type" : "object"
      },
      "SqlLimitRule" : {
        "type" : "object",
        "description" : "SQL限流规则",
        "required" : [ "id", "sql_type", "pattern", "max_concurrency" ],
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "SQL限流规则ID"
          },
          "sql_type" : {
            "type" : "string",
            "description" : "SQL类型"
          },
          "pattern" : {
            "type" : "string",
            "description" : "限流规则"
          },
          "max_concurrency" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "最大并发数"
          },
          "max_waiting" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "最大等待时间"
          }
        }
      },
      "ListSqlLimitRulesResp" : {
        "type" : "object",
        "description" : "查询SQL限流规则返回体",
        "required" : [ "sql_limit_rules", "total_count" ],
        "properties" : {
          "sql_limit_rules" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/SqlLimitRule"
            },
            "description" : "SQL限流规则列表"
          },
          "total_count" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "SQL限流规则总数"
          }
        }
      },
      "ApiSetMetricCodeThresholdReq" : {
        "type" : "object",
        "required" : [ "metric_code", "datastore_type", "new_threshold" ],
        "properties" : {
          "metric_code" : {
            "type" : "string",
            "example" : "sys001_cpu_usage",
            "description" : "指标码"
          },
          "datastore_type" : {
            "type" : "string",
            "example" : "mysql",
            "description" : "数据库类型"
          },
          "new_threshold" : {
            "type" : "number",
            "format" : "double",
            "example" : 87,
            "description" : "新阈值"
          }
        }
      },
      "SetMetricThresholdResp" : {
        "type" : "object",
        "properties" : {
          "success" : {
            "type" : "boolean",
            "example" : true,
            "description" : "是否成功"
          }
        }
      },
      "Quotas" : {
        "required" : [ "resources" ],
        "properties" : {
          "resources" : {
            "type" : "array",
            "description" : "资源列表对。",
            "items" : {
              "$ref" : "#/components/schemas/Resource"
            }
          }
        },
        "type" : "object"
      },
      "QuotasResp" : {
        "required" : [ "quotas" ],
        "properties" : {
          "quotas" : {
            "type" : "object",
            "description" : "配额列表对象。",
            "items" : {
              "$ref" : "#/components/schemas/Quotas"
            }
          }
        },
        "type" : "object"
      },
      "Resource" : {
        "required" : [ "type", "used", "quota", "min" ],
        "properties" : {
          "type" : {
            "type" : "string",
            "description" : "根据type过滤查询指定类型的配额。"
          },
          "used" : {
            "type" : "integer",
            "description" : "已创建的资源个数。",
            "format" : "int64"
          },
          "quota" : {
            "type" : "integer",
            "description" : "资源的最大配额数。",
            "format" : "int64"
          },
          "min" : {
            "type" : "integer",
            "description" : "允许修改的配额最小值。",
            "format" : "int64"
          }
        },
        "type" : "object"
      },
      "SynchronizeInstancesReq" : {
        "type" : "object",
        "properties" : {
          "engine_type" : {
            "type" : "string",
            "description" : "数据库引擎类型。"
          }
        }
      },
      "SynchronizeInstancesResp" : {
        "type" : "object",
        "required" : [ "success" ],
        "properties" : {
          "success" : {
            "type" : "boolean",
            "description" : "任务创建是否成功。"
          }
        }
      },
      "InstanceListResp" : {
        "type" : "object",
        "required" : [ "instance_list", "total_count" ],
        "properties" : {
          "instance_list" : {
            "type" : "array",
            "maxItems" : 200,
            "minItems" : 0,
            "items" : {
              "$ref" : "#/components/schemas/DASInstanceInfo"
            },
            "description" : "实例列表。"
          },
          "total_count" : {
            "type" : "integer",
            "format" : "int32",
            "minimum" : 0,
            "maximum" : 10000,
            "description" : "总数。"
          }
        }
      },
      "DASInstanceInfo" : {
        "type" : "object",
        "required" : [ "instance_id", "instance_name", "instance_status", "version", "engine_type", "ip", "port", "cpu", "mem", "login_flag", "slow_sql_flag", "deadlock_flag", "lock_blocking_flag", "charge_flag", "full_sql_flag" ],
        "properties" : {
          "instance_id" : {
            "type" : "string",
            "description" : "实例id。",
            "maxLength" : 64,
            "minLength" : 1
          },
          "instance_name" : {
            "type" : "string",
            "description" : "实例名称。",
            "maxLength" : 64,
            "minLength" : 1
          },
          "instance_status" : {
            "type" : "string",
            "description" : "实例状态。",
            "maxLength" : 16,
            "minLength" : 1
          },
          "version" : {
            "type" : "string",
            "description" : "实例版本号。"
          },
          "engine_type" : {
            "type" : "string",
            "description" : "引擎类型。",
            "maxLength" : 64,
            "minLength" : 0
          },
          "ip" : {
            "type" : "string",
            "description" : "ip",
            "maxLength" : 128,
            "minLength" : 0
          },
          "port" : {
            "type" : "integer",
            "description" : "端口号",
            "format" : "int32",
            "minimum" : 0,
            "maximum" : 65535
          },
          "cpu" : {
            "type" : "integer",
            "description" : "实例cpu核数",
            "format" : "int32"
          },
          "mem" : {
            "type" : "integer",
            "description" : "实例内存大小",
            "format" : "int32"
          },
          "login_flag" : {
            "type" : "boolean",
            "description" : "实例登录是否启用"
          },
          "slow_sql_flag" : {
            "type" : "boolean",
            "description" : "慢sql是否启用"
          },
          "deadlock_flag" : {
            "type" : "boolean",
            "description" : "死锁分析是否启用"
          },
          "lock_blocking_flag" : {
            "type" : "boolean",
            "description" : "锁阻塞是否启用"
          },
          "charge_flag" : {
            "type" : "boolean",
            "description" : "当前实例是否计费"
          },
          "full_sql_flag" : {
            "type" : "boolean",
            "description" : "全量sql是否启用"
          }
        }
      },
      "CreateInstanceConnectionResp" : {
        "type" : "object",
        "required" : [ "connection_id" ],
        "properties" : {
          "connection_id" : {
            "type" : "string",
            "description" : "连接编号。"
          }
        }
      },
      "CreateInstanceConnectionReq" : {
        "type" : "object",
        "required" : [ "engine_type", "network_type", "username", "is_save_password", "password" ],
        "properties" : {
          "engine_type" : {
            "type" : "string",
            "description" : "数据库引擎类型。"
          },
          "network_type" : {
            "type" : "string",
            "enum" : [ "gaussdb", "dds", "rds", "ecs", "gemini", "ddm" ],
            "description" : "网络类型。"
          },
          "username" : {
            "type" : "string",
            "description" : "用户名。"
          },
          "is_save_password" : {
            "type" : "boolean",
            "description" : "是否保存密码。"
          },
          "password" : {
            "type" : "string",
            "description" : "密码。"
          },
          "node_ids" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "节点编号。"
          },
          "remarks" : {
            "type" : "string",
            "description" : "备注。"
          },
          "port" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "端口。"
          },
          "database_name" : {
            "type" : "string",
            "description" : "数据库名字。"
          },
          "sql_record_flag" : {
            "type" : "boolean",
            "description" : "sql记录开关。"
          }
        }
      },
      "Process" : {
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "会话ID"
          },
          "user" : {
            "type" : "string",
            "description" : "用户"
          },
          "host" : {
            "type" : "string",
            "description" : "主机"
          },
          "database" : {
            "type" : "string",
            "description" : "数据库"
          },
          "command" : {
            "type" : "string",
            "description" : "命令"
          },
          "time" : {
            "type" : "string",
            "description" : "会话持续时间"
          },
          "state" : {
            "type" : "string",
            "description" : "状态"
          },
          "sql" : {
            "type" : "string",
            "description" : "SQL语句"
          },
          "trx_executed_time" : {
            "type" : "string",
            "description" : "事务持续时间"
          }
        },
        "required" : [ "id", "user", "host", "database", "command", "time", "state", "sql", "trx_executed_time" ],
        "type" : "object"
      },
      "QueryProcessResp" : {
        "properties" : {
          "processes" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/Process"
            },
            "description" : "会话列表"
          },
          "count" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "总记录数"
          }
        },
        "required" : [ "processes", "count" ],
        "type" : "object"
      },
      "FullSqlDetail" : {
        "required" : [ "sql", "sql_template_id", "operate_type", "status", "error_no", "database", "thread_id", "client", "user", "execute_at", "query_time", "lock_time", "rows_examined", "rows_sent", "rows_affected", "trx_id", "cpu_time", "send_bytes", "query_tables", "innodb_io_read_bytes", "innodb_io_read", "innodb_io_read_wait", "innodb_lock_wait", "innodb_queue_wait", "kernel_version", "query_time_detail", "session_id", "node_id" ],
        "properties" : {
          "sql" : {
            "type" : "string",
            "description" : "SQL语句。"
          },
          "sql_template_id" : {
            "type" : "string",
            "description" : "SQL模板ID。"
          },
          "operate_type" : {
            "type" : "string",
            "description" : "操作类型。"
          },
          "status" : {
            "type" : "string",
            "description" : "状态。"
          },
          "error_no" : {
            "type" : "string",
            "description" : "错误码。"
          },
          "database" : {
            "type" : "string",
            "description" : "数据库。"
          },
          "thread_id" : {
            "type" : "string",
            "description" : "线程ID。"
          },
          "client" : {
            "type" : "string",
            "description" : "客户端。"
          },
          "user" : {
            "type" : "string",
            "description" : "用户。"
          },
          "execute_at" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "执行开始时间(Unix timestamp),单位:毫秒。"
          },
          "query_time" : {
            "type" : "number",
            "format" : "double",
            "description" : "执行耗时(毫秒)。"
          },
          "lock_time" : {
            "type" : "number",
            "format" : "double",
            "description" : "锁等待耗时(毫秒)。"
          },
          "rows_examined" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "扫描行数。"
          },
          "rows_sent" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "返回行数。"
          },
          "rows_affected" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "更新行数。"
          },
          "trx_id" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "事务ID。"
          },
          "cpu_time" : {
            "type" : "number",
            "format" : "double",
            "description" : "CPU耗时(微秒)。"
          },
          "send_bytes" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "网络发送字节数。"
          },
          "query_tables" : {
            "type" : "string",
            "description" : "查询中所有的表名(格式:库名.表名|库名.表名)。"
          },
          "innodb_io_read_bytes" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "物理I/O读字节数。"
          },
          "innodb_io_read" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "物理I/O读次数。"
          },
          "innodb_io_read_wait" : {
            "type" : "number",
            "format" : "double",
            "description" : "物理I/O读取等待耗时(毫秒)。"
          },
          "innodb_lock_wait" : {
            "type" : "number",
            "format" : "double",
            "description" : "行锁等待耗时(毫秒)。"
          },
          "innodb_queue_wait" : {
            "type" : "number",
            "format" : "double",
            "description" : "进入innodb的等待耗时(毫秒)。"
          },
          "kernel_version" : {
            "type" : "string",
            "description" : "内核版本号,DDM实例使用。"
          },
          "query_time_detail" : {
            "type" : "string",
            "description" : "SQL执行各阶段细分耗时,DDM实例使用。"
          },
          "session_id" : {
            "type" : "string",
            "description" : "会话ID。"
          },
          "node_id" : {
            "type" : "string",
            "description" : "节点ID。"
          }
        },
        "type" : "object"
      },
      "ExportFullSqlDetailsResp" : {
        "required" : [ "full_sql_details", "total" ],
        "properties" : {
          "full_sql_details" : {
            "type" : "array",
            "description" : "全量SQL明细列表。",
            "items" : {
              "$ref" : "#/components/schemas/FullSqlDetail"
            }
          },
          "total" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "总数。"
          }
        },
        "type" : "object"
      },
      "QueryRiskItems" : {
        "type" : "object",
        "properties" : {
          "datastore_type" : {
            "type" : "string",
            "example" : "mysql",
            "description" : "数据库类型"
          },
          "items" : {
            "type" : "array",
            "items" : {
              "properties" : {
                "metric_code" : {
                  "type" : "string",
                  "example" : "sys001_cpu_usage",
                  "description" : "指标码"
                },
                "threshold" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 2,
                  "description" : "阈值"
                },
                "unit" : {
                  "type" : "string",
                  "example" : "%",
                  "description" : "单位"
                }
              }
            },
            "description" : "风险指标项"
          }
        }
      },
      "ChangeSqlSwitchBody" : {
        "required" : [ "type", "status", "datastore_type" ],
        "properties" : {
          "type" : {
            "type" : "string",
            "description" : "开关类型。取值DAS SQL Explorer和DAS Slow Query Log,分别表示DAS收集全量SQL开关和DAS收集慢SQL开关。"
          },
          "status" : {
            "type" : "integer",
            "description" : "开关状态,取值0和1,分别代表要关闭和开启。",
            "format" : "int32"
          },
          "datastore_type" : {
            "type" : "string",
            "description" : "数据库类型。当前全量SQL支持的数据库类型包括MySQL和GaussDB(for MySQL),慢SQL支持的类型:MySQL、GaussDB(for MySQL)、PostgreSQL。"
          },
          "retention_days" : {
            "type" : "integer",
            "description" : "SQL数据保存时长(天)。默认为7天,最长可保留30天,到期后数据自动删除。如果要保留30天以上,请到DAS页面进行操作。",
            "format" : "int64"
          }
        },
        "type" : "object"
      },
      "ChangeSqlSwitchResp" : {
        "required" : [ "status" ],
        "properties" : {
          "status" : {
            "type" : "string",
            "description" : "开关状态。取值: Enabled:已开启, Disabled:已关闭, Switching:开关切换中"
          }
        },
        "type" : "object"
      },
      "TopInstanceSlowLog" : {
        "type" : "object",
        "properties" : {
          "top_execute_slow_logs" : {
            "type" : "array",
            "items" : {
              "properties" : {
                "template_id" : {
                  "type" : "string",
                  "example" : "1D7880577913B207",
                  "description" : "SQL模板ID"
                },
                "template" : {
                  "type" : "string",
                  "example" : "SELECT sleep(?);",
                  "description" : "SQL模板"
                },
                "databases" : {
                  "type" : "array",
                  "items" : {
                    "type" : "string"
                  },
                  "example" : [ ],
                  "description" : "数据库名称"
                },
                "times" : {
                  "type" : "integer",
                  "format" : "int64",
                  "example" : 21,
                  "description" : "执行次数"
                },
                "avg_query_time" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 6.429124786740258,
                  "description" : "平均执行时间"
                },
                "max_query_time" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 10,
                  "description" : "最大执行时间"
                },
                "avg_rows_examined" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 0,
                  "description" : "平均扫描行数"
                },
                "sum_rows_examined" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 0,
                  "description" : "扫描行数总和"
                },
                "avg_rows_sent" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 1,
                  "description" : "平均返回行数"
                }
              }
            },
            "description" : "执行次数列表"
          },
          "top_avg_query_time_slow_logs" : {
            "type" : "array",
            "items" : {
              "properties" : {
                "template_id" : {
                  "type" : "string",
                  "example" : "1D7880577913B207",
                  "description" : "SQL模板ID"
                },
                "template" : {
                  "type" : "string",
                  "example" : "SELECT sleep(?);",
                  "description" : "SQL模板"
                },
                "databases" : {
                  "type" : "array",
                  "items" : {
                    "type" : "string"
                  },
                  "example" : [ ],
                  "description" : "数据库名称"
                },
                "times" : {
                  "type" : "integer",
                  "format" : "int64",
                  "example" : 21,
                  "description" : "执行次数"
                },
                "avg_query_time" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 6.429124786740258,
                  "description" : "平均执行时间"
                },
                "max_query_time" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 10,
                  "description" : "最大执行时间"
                },
                "avg_rows_examined" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 0,
                  "description" : "平均扫描行数"
                },
                "sum_rows_examined" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 0,
                  "description" : "扫描行数总和"
                },
                "avg_rows_sent" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 1,
                  "description" : "平均返回行数"
                }
              }
            },
            "description" : "平均执行时间列表"
          },
          "top_max_query_time_slow_logs" : {
            "type" : "array",
            "items" : {
              "properties" : {
                "template_id" : {
                  "type" : "string",
                  "example" : "1D7880577913B207",
                  "description" : "SQL模板ID"
                },
                "template" : {
                  "type" : "string",
                  "example" : "SELECT sleep(?);",
                  "description" : "SQL模板"
                },
                "databases" : {
                  "type" : "array",
                  "items" : {
                    "type" : "string"
                  },
                  "example" : [ ],
                  "description" : "数据库名称"
                },
                "times" : {
                  "type" : "integer",
                  "format" : "int64",
                  "example" : 21,
                  "description" : "执行次数"
                },
                "avg_query_time" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 6.429124786740258,
                  "description" : "平均执行时间"
                },
                "max_query_time" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 10,
                  "description" : "最大执行时间"
                },
                "avg_rows_examined" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 0,
                  "description" : "平均扫描行数"
                },
                "sum_rows_examined" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 0,
                  "description" : "扫描行数总和"
                },
                "avg_rows_sent" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 1,
                  "description" : "平均返回行数"
                }
              }
            },
            "description" : "最大执行时间列表"
          },
          "rows_examined_exceeding" : {
            "type" : "array",
            "items" : {
              "properties" : {
                "template_id" : {
                  "type" : "string",
                  "example" : "1D7880577913B207",
                  "description" : "SQL模板ID"
                },
                "template" : {
                  "type" : "string",
                  "example" : "SELECT sleep(?);",
                  "description" : "SQL模板"
                },
                "databases" : {
                  "type" : "array",
                  "items" : {
                    "type" : "string"
                  },
                  "example" : [ ],
                  "description" : "数据库名称"
                },
                "times" : {
                  "type" : "integer",
                  "format" : "int64",
                  "example" : 21,
                  "description" : "执行次数"
                },
                "avg_query_time" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 6.429124786740258,
                  "description" : "平均执行时间"
                },
                "max_query_time" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 10,
                  "description" : "最大执行时间"
                },
                "avg_rows_examined" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 0,
                  "description" : "平均扫描行数"
                },
                "sum_rows_examined" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 0,
                  "description" : "最大执行时间"
                },
                "avg_rows_sent" : {
                  "type" : "number",
                  "format" : "double",
                  "example" : 1,
                  "description" : "平均返回行数"
                }
              }
            },
            "description" : "扫描返回比列表"
          }
        }
      },
      "TopSqlTrendDetailsResp" : {
        "type" : "object",
        "required" : [ "interval_millis", "top_sql_trend_items", "total_count" ],
        "properties" : {
          "interval_millis" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "返回列表两个时间点之间的时间间隔。总查询时长一小时之内间隔10s,一小时到六小时范围内间隔60s。单位为毫秒。"
          },
          "top_sql_trend_items" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/TopSqlTrendItem"
            },
            "description" : "SQL执行耗时区间数据。"
          },
          "total_count" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "耗时区间数据总数。"
          }
        }
      },
      "TopSqlTrendItem" : {
        "type" : "object",
        "required" : [ "execute_at", "query_time_in_100ms", "query_time_in_500ms", "query_time_in_1s", "query_time_over_1s" ],
        "properties" : {
          "execute_at" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "执行时间点,毫秒时间戳。表示统计数据的时间范围为execute_at到execute_at + interval_millis。"
          },
          "query_time_in_100ms" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "执行耗时小于100ms。"
          },
          "query_time_in_500ms" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "执行耗时100ms-500ms。"
          },
          "query_time_in_1s" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "执行耗时500ms-1000ms"
          },
          "query_time_over_1s" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "执行耗时大于1000ms。"
          }
        }
      },
      "TransactionSwitchReq" : {
        "type" : "object",
        "required" : [ "switch_status", "datastore_type" ],
        "properties" : {
          "switch_status" : {
            "type" : "string",
            "example" : "Enabled",
            "description" : "开关状态",
            "enum" : [ "Enabled", "Disabled" ]
          },
          "datastore_type" : {
            "type" : "string",
            "example" : "MySQL",
            "description" : "数据库类型。仅支持MySQL",
            "enum" : [ "MySQL" ]
          }
        }
      },
      "SetTransactionSwitchResp" : {
        "type" : "object",
        "required" : [ "switch_status" ],
        "properties" : {
          "switch_status" : {
            "type" : "string",
            "description" : "开关状态",
            "enum" : [ "Enabled", "Disabled" ]
          }
        }
      },
      "QuerySqlPlanBody" : {
        "properties" : {
          "db_user_id" : {
            "type" : "string",
            "description" : "数据库用户ID"
          },
          "database" : {
            "type" : "string",
            "description" : "数据库名称"
          },
          "sql" : {
            "type" : "string",
            "description" : "SQL语句"
          }
        },
        "type" : "object"
      },
      "CreateTuningResp" : {
        "type" : "object",
        "properties" : {
          "message_id" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "诊断信息id"
          },
          "status" : {
            "type" : "boolean",
            "description" : "状态"
          },
          "quota_exceeded" : {
            "type" : "boolean",
            "description" : "诊断配额状态"
          }
        }
      },
      "CreateTuningReq" : {
        "type" : "object",
        "required" : [ "database_name", "sql_script" ],
        "properties" : {
          "database_name" : {
            "type" : "string",
            "description" : "数据库名称"
          },
          "schema_name" : {
            "type" : "string",
            "description" : "schema名称"
          },
          "sql_script" : {
            "type" : "string",
            "description" : "sql脚本"
          },
          "node_type" : {
            "type" : "string",
            "description" : "节点类型"
          },
          "node_id" : {
            "type" : "string",
            "description" : "节点Id"
          }
        }
      },
      "CreateSpaceAnalysisTaskResp" : {
        "description" : "创建空间分析任务返回消息",
        "properties" : {
          "execution_time" : {
            "type" : "integer",
            "description" : "执行时间,毫秒为单位的时间戳",
            "format" : "int64"
          }
        },
        "required" : [ "execution_time" ],
        "type" : "object"
      },
      "CreateSpaceAnalysisTaskBody" : {
        "required" : [ "operate", "datastore_type" ],
        "properties" : {
          "operate" : {
            "type" : "string",
            "description" : "操作类型",
            "enum" : [ "reanalysis" ]
          },
          "datastore_type" : {
            "type" : "string",
            "description" : "引擎类型",
            "enum" : [ "MySQL", "GaussDB(for MySQL)" ]
          }
        },
        "type" : "object"
      },
      "SlowSqlStatisticsResp" : {
        "type" : "object",
        "required" : [ "statistics_list", "total_count" ],
        "properties" : {
          "statistics_list" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/SlowSqlStatistics"
            },
            "description" : "慢SQL统计列表。"
          },
          "total_count" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "总数。"
          }
        }
      },
      "SlowSqlStatistics" : {
        "type" : "object",
        "required" : [ "execute_count", "avg_execute_time", "max_execute_time", "avg_lock_wait_time", "max_lock_wait_time", "avg_rows_sent", "max_rows_sent", "avg_rows_examined", "max_rows_examined", "avg_key_examined", "max_key_examined" ],
        "properties" : {
          "execute_count" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "执行次数。"
          },
          "avg_execute_time" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均执行耗时(s)。"
          },
          "max_execute_time" : {
            "type" : "number",
            "format" : "double",
            "description" : "最大执行耗时(s)。"
          },
          "avg_lock_wait_time" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均锁等待时间(s)。"
          },
          "max_lock_wait_time" : {
            "type" : "number",
            "format" : "double",
            "description" : "最大锁等待时间(s)。"
          },
          "avg_rows_sent" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均返回文档数。"
          },
          "max_rows_sent" : {
            "type" : "number",
            "format" : "double",
            "description" : "最大返回文档数。"
          },
          "avg_rows_examined" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均扫描文档数。"
          },
          "max_rows_examined" : {
            "type" : "number",
            "format" : "double",
            "description" : "最大扫描文档数。"
          },
          "avg_key_examined" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均扫描索引数。"
          },
          "max_key_examined" : {
            "type" : "number",
            "format" : "double",
            "description" : "最大扫描索引数。"
          },
          "node_id" : {
            "type" : "string",
            "description" : "节点ID,按node_id统计时赋值。"
          },
          "node_name" : {
            "type" : "string",
            "description" : "节点名称,按node_id统计时赋值。"
          },
          "sql_type" : {
            "type" : "string",
            "description" : "语句类型,按sql_type统计时赋值。"
          },
          "db_name" : {
            "type" : "string",
            "description" : "库名,按db_name、collection统计时赋值。"
          },
          "collection" : {
            "type" : "string",
            "description" : "数据库表,按collection统计时赋值。"
          },
          "user" : {
            "type" : "string",
            "description" : "用户名,按user统计时赋值。"
          },
          "client" : {
            "type" : "string",
            "description" : "客户端,按client统计时赋值。"
          }
        }
      },
      "ExportSlowSqlStatisticsRequestBody" : {
        "required" : [ "datastore_type", "start_at", "end_at" ],
        "properties" : {
          "datastore_type" : {
            "type" : "string",
            "description" : "数据库类型。慢SQL统计支持的类型:DDS-Community。",
            "enum" : [ "DDS-Community" ]
          },
          "start_at" : {
            "type" : "integer",
            "description" : "开始时间(Unix timestamp),单位:毫秒。",
            "format" : "int64"
          },
          "end_at" : {
            "type" : "integer",
            "description" : "结束时间(Unix timestamp),单位:毫秒。",
            "format" : "int64"
          },
          "node_ids" : {
            "type" : "array",
            "description" : "节点ID列表。",
            "items" : {
              "type" : "string"
            }
          },
          "statistics_field" : {
            "type" : "string",
            "description" : "统计字段。支持统计的字段:node_id、sql_type、db_name、collection、user、client。默认使用node_id统计。",
            "enum" : [ "node_id", "sql_type", "db_name", "collection", "user", "client" ]
          },
          "offset" : {
            "type" : "integer",
            "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
            "minimum" : 0,
            "maximum" : 200
          },
          "limit" : {
            "type" : "integer",
            "description" : "每页记录数,默认为20,最大取值100。",
            "minimum" : 1,
            "maximum" : 100
          }
        },
        "type" : "object"
      },
      "InnodbLockWaits" : {
        "properties" : {
          "requesting_trx_id" : {
            "type" : "string",
            "description" : "申请锁资源的事务ID"
          },
          "requested_lock_id" : {
            "type" : "string",
            "description" : "申请的锁的ID"
          },
          "blocking_trx_id" : {
            "type" : "string",
            "description" : "阻塞的事务ID"
          },
          "blocking_lock_id" : {
            "type" : "string",
            "description" : "阻塞的锁的ID"
          }
        },
        "required" : [ "requesting_trx_id", "requested_lock_id", "blocking_trx_id", "blocking_lock_id" ],
        "type" : "object"
      },
      "QueryInnoDBLockResp" : {
        "properties" : {
          "innodb_trx" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/InnodbTrx"
            },
            "description" : "当前持有或等待锁的事务信息"
          },
          "innodb_lock_waits" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/InnodbLockWaits"
            },
            "description" : "每个事务请求的锁以及阻塞该请求的锁的对应关系"
          },
          "count" : {
            "type" : "integer",
            "description" : "当前持有或等待锁的事务数量",
            "format" : "int32"
          }
        },
        "required" : [ "innodb_trx", "innodb_lock_waits", "count" ],
        "type" : "object"
      },
      "InnodbLock" : {
        "properties" : {
          "lock_id" : {
            "type" : "string",
            "description" : "锁ID"
          },
          "lock_trx_id" : {
            "type" : "string",
            "description" : "事务ID"
          },
          "lock_mode" : {
            "type" : "string",
            "description" : "锁模式,取值为S[,GAP], X[,GAP], IS[,GAP], IX[,GAP], AUTO_INC, and UNKNOWN。"
          },
          "lock_type" : {
            "type" : "string",
            "description" : "锁类型,取值为RECORD或TABLE。RECORD为行锁, TABLE为表锁"
          },
          "lock_table" : {
            "type" : "string",
            "description" : "加锁的表"
          },
          "lock_index" : {
            "type" : "string",
            "description" : "如果是lock_type='RECORD' 行级锁 ,为锁住的索引,如果是表锁为null"
          },
          "lock_space" : {
            "type" : "string",
            "description" : "如果是lock_type='RECORD' 行级锁 ,为锁住的索引,如果是表锁为null"
          },
          "lock_page" : {
            "type" : "string",
            "description" : "如果是lock_type='RECORD' 行级锁 ,为锁住的页号,如果是表锁为null"
          },
          "lock_rec" : {
            "type" : "string",
            "description" : "如果是lock_type='RECORD' 行级锁 ,为锁住的堆号,如果是表锁为null"
          },
          "lock_data" : {
            "type" : "string",
            "description" : "事务锁住的主键值,若是表锁,则该值为null"
          }
        },
        "required" : [ "lock_id", "lock_trx_id", "lock_mode", "lock_type", "lock_table", "lock_index", "lock_space", "lock_page", "lock_rec", "lock_data" ],
        "type" : "object"
      },
      "InnodbTrx" : {
        "properties" : {
          "trx_id" : {
            "type" : "string",
            "description" : "事务ID"
          },
          "trx_state" : {
            "type" : "string",
            "description" : "事务状态"
          },
          "trx_started" : {
            "type" : "string",
            "description" : "事务开始时间"
          },
          "trx_wait_started" : {
            "type" : "string",
            "description" : "事务等待开始时间"
          },
          "trx_mysql_thread_id" : {
            "type" : "string",
            "description" : "会话ID,同ListProcesses接口返回的id。"
          },
          "trx_query" : {
            "type" : "string",
            "description" : "事务运行的SQL语句"
          },
          "trx_tables_locked" : {
            "type" : "string",
            "description" : "加行锁的表数量"
          },
          "trx_rows_locked" : {
            "type" : "string",
            "description" : "锁定的行数量(近似值)"
          },
          "trx_rows_modified" : {
            "type" : "string",
            "description" : "事务插入或者修改的行数"
          },
          "trx_isolation_level" : {
            "type" : "string",
            "description" : "隔离级别"
          },
          "innodb_wait_locks" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/InnodbLock"
            },
            "description" : "等待锁信息"
          },
          "innodb_hold_locks" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/InnodbLock"
            },
            "description" : "持有锁信息"
          }
        },
        "required" : [ "trx_id", "trx_state", "trx_started", "trx_wait_started", "trx_mysql_thread_id", "trx_query", "trx_tables_locked", "trx_rows_locked", "trx_rows_modified", "trx_isolation_level", "innodb_wait_locks", "innodb_hold_locks" ],
        "type" : "object"
      },
      "FullSql" : {
        "required" : [ "sql", "operate_type", "status", "error_no", "database", "client", "thread_id", "user", "execute_at", "query_time", "lock_time", "rows_examined", "rows_sent", "rows_affected" ],
        "properties" : {
          "sql" : {
            "type" : "string",
            "description" : "SQL语句。"
          },
          "operate_type" : {
            "type" : "string",
            "description" : "操作类型。"
          },
          "status" : {
            "type" : "string",
            "description" : "状态。"
          },
          "error_no" : {
            "type" : "string",
            "description" : "错误码。"
          },
          "database" : {
            "type" : "string",
            "description" : "数据库名。"
          },
          "client" : {
            "type" : "string",
            "description" : "客户端。"
          },
          "thread_id" : {
            "type" : "string",
            "description" : "线程ID。"
          },
          "user" : {
            "type" : "string",
            "description" : "用户。"
          },
          "execute_at" : {
            "type" : "integer",
            "description" : "执行开始时间(Unix timestamp),单位:毫秒。",
            "format" : "int64"
          },
          "query_time" : {
            "type" : "number",
            "description" : "执行耗时(毫秒)。",
            "format" : "double"
          },
          "lock_time" : {
            "type" : "number",
            "description" : "锁等待耗时(毫秒)。",
            "format" : "double"
          },
          "rows_examined" : {
            "type" : "integer",
            "description" : "扫描行数。",
            "format" : "int64"
          },
          "rows_sent" : {
            "type" : "integer",
            "description" : "返回行数。",
            "format" : "int64"
          },
          "rows_affected" : {
            "type" : "integer",
            "description" : "更新行数。",
            "format" : "int64"
          }
        },
        "type" : "object"
      },
      "ExportFullSqlResp" : {
        "required" : [ "statements", "next_marker" ],
        "properties" : {
          "statements" : {
            "type" : "array",
            "description" : "全量SQL集合。当集合为空时,说明SQL已全部导出。",
            "items" : {
              "$ref" : "#/components/schemas/FullSql"
            }
          },
          "next_marker" : {
            "type" : "string",
            "description" : "获取下一页所需的标识符。marker仅在3分钟内有效。"
          }
        },
        "type" : "object"
      },
      "TransactionSwitchResp" : {
        "type" : "object",
        "required" : [ "switch_status" ],
        "properties" : {
          "switch_status" : {
            "type" : "string",
            "example" : "Enabled",
            "description" : "开关状态",
            "enum" : [ "Enabled", "Disabled" ]
          }
        }
      },
      "CreateShareConnectionsRequestBody" : {
        "type" : "object",
        "properties" : {
          "shared_conn_id" : {
            "type" : "string",
            "description" : "共享连接ID"
          },
          "expired_time" : {
            "type" : "string",
            "description" : "过期时间",
            "example" : "2023-05-10T11:36:00.200Z"
          },
          "users" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/ShareConnUserInfo"
            },
            "description" : "用户"
          }
        },
        "required" : [ "shared_conn_id", "users" ]
      },
      "TopSlowLog" : {
        "type" : "object",
        "properties" : {
          "top_slow_log_list" : {
            "type" : "array",
            "items" : {
              "properties" : {
                "instance_id" : {
                  "type" : "string",
                  "example" : "5c59fa7d6f09456b947f32922f9aeda1in01",
                  "description" : "实例ID"
                },
                "instance_name" : {
                  "type" : "string",
                  "example" : "DAS-MYSQL-AT",
                  "description" : "实例数量"
                },
                "slow_log_num" : {
                  "type" : "integer",
                  "format" : "int64",
                  "example" : 21,
                  "description" : "慢SQL数量"
                }
              }
            },
            "description" : "TOP慢SQL列表"
          }
        }
      },
      "DeleteProcessReqBody" : {
        "properties" : {
          "db_user_id" : {
            "type" : "string",
            "description" : "数据库用户ID"
          },
          "process_ids" : {
            "type" : "array",
            "description" : "会话ID列表。process_ids、user、database至少指定一个参数。",
            "items" : {
              "type" : "string"
            }
          },
          "user" : {
            "type" : "string",
            "description" : "用户"
          },
          "database" : {
            "type" : "string",
            "description" : "数据库名称"
          }
        },
        "required" : [ "db_user_id" ],
        "type" : "object"
      },
      "RegisterDbUserRequestBody" : {
        "description" : "注册数据库用户请求",
        "required" : [ "db_username", "db_user_password", "datastore_type" ],
        "properties" : {
          "db_username" : {
            "type" : "string",
            "description" : "数据库用户名称"
          },
          "db_user_password" : {
            "type" : "string",
            "description" : "数据库用户密码"
          },
          "datastore_type" : {
            "type" : "string",
            "description" : "数据库类型,取值为MySQL"
          }
        },
        "type" : "object"
      },
      "RegisterDbUserResp" : {
        "description" : "注册数据库用户信息",
        "required" : [ "db_user_id" ],
        "properties" : {
          "db_user_id" : {
            "type" : "string",
            "description" : "数据库用户ID"
          }
        },
        "type" : "object"
      },
      "SlowLog" : {
        "required" : [ "sql", "sql_template_id", "database", "client", "user", "execute_at", "query_time", "lock_time", "rows_examined", "rows_sent" ],
        "properties" : {
          "sql" : {
            "type" : "string",
            "description" : "SQL语句。"
          },
          "sql_template_id" : {
            "type" : "string",
            "description" : "SQL模板ID。"
          },
          "database" : {
            "type" : "string",
            "description" : "数据库名。"
          },
          "client" : {
            "type" : "string",
            "description" : "客户端。"
          },
          "user" : {
            "type" : "string",
            "description" : "用户。"
          },
          "execute_at" : {
            "type" : "integer",
            "description" : "执行开始时间(Unix timestamp),单位:毫秒。",
            "format" : "int64"
          },
          "query_time" : {
            "type" : "number",
            "description" : "执行耗时(秒)。",
            "format" : "double"
          },
          "lock_time" : {
            "type" : "number",
            "description" : "锁等待耗时(秒)。",
            "format" : "double"
          },
          "rows_examined" : {
            "type" : "integer",
            "description" : "扫描行数。",
            "format" : "int64"
          },
          "rows_sent" : {
            "type" : "integer",
            "description" : "返回行数。",
            "format" : "int64"
          }
        },
        "type" : "object"
      },
      "ExportSlowLogsResp" : {
        "required" : [ "slow_logs", "next_marker" ],
        "properties" : {
          "slow_logs" : {
            "type" : "array",
            "description" : "慢SQL集合。当集合为空时,说明慢SQL已全部导出。",
            "items" : {
              "$ref" : "#/components/schemas/SlowLog"
            }
          },
          "next_marker" : {
            "type" : "string",
            "description" : "获取下一页所需的标识符。marker仅在3分钟内有效。"
          }
        },
        "type" : "object"
      },
      "ShowDbUserResp" : {
        "description" : "查询数据库用户信息",
        "required" : [ "db_user" ],
        "properties" : {
          "db_user" : {
            "$ref" : "#/components/schemas/DbUser"
          }
        },
        "type" : "object"
      },
      "DbObjectSpaceInfo" : {
        "description" : "数据库对象空间信息,数据来源于information_schema.tables系统表。已用空间包含数据空间、索引空间和碎片空间。",
        "required" : [ "object_type", "object_name" ],
        "properties" : {
          "object_type" : {
            "type" : "string",
            "description" : "对象类型,如果是table,同时需要传database_id",
            "enum" : [ "database", "table" ]
          },
          "object_name" : {
            "type" : "string",
            "description" : "对象名称"
          },
          "object_id" : {
            "type" : "string",
            "description" : "对象ID"
          },
          "used_size" : {
            "type" : "integer",
            "description" : "已使用空间,以字节为单位",
            "format" : "int64"
          },
          "data_size" : {
            "type" : "integer",
            "description" : "数据空间,以字节为单位",
            "format" : "int64"
          },
          "index_size" : {
            "type" : "integer",
            "description" : "索引空间,以字节为单位",
            "format" : "int64"
          },
          "free_size" : {
            "type" : "integer",
            "description" : "碎片空间,以字节为单位",
            "format" : "int64"
          },
          "free_rate" : {
            "type" : "number",
            "description" : "碎片率",
            "format" : "double"
          },
          "estimated_rows" : {
            "type" : "integer",
            "description" : "估算值行数,以字节为单位",
            "format" : "int64"
          }
        },
        "type" : "object"
      },
      "ListSpaceAnalysisResp" : {
        "description" : "空间分析结果",
        "required" : [ "total", "db_objects" ],
        "properties" : {
          "total" : {
            "type" : "integer",
            "description" : "记录总数",
            "format" : "int64"
          },
          "db_objects" : {
            "type" : "array",
            "description" : "数据库对象列表",
            "items" : {
              "$ref" : "#/components/schemas/DbObjectSpaceInfo"
            }
          },
          "instance_info" : {
            "$ref" : "#/components/schemas/InstanceSpaceInfo"
          }
        },
        "type" : "object"
      },
      "InstanceSpaceInfo" : {
        "description" : "实例空间信息。数据来源于文件系统。已用空间包含数据空间、日志空间和其他空间,其他空间包括引擎产生的临时文件等。",
        "properties" : {
          "total_size" : {
            "type" : "integer",
            "description" : "实例总空间,以字节为单位。GaussDB(for MySQL)不会返回总空间",
            "format" : "int64"
          },
          "used_size" : {
            "type" : "integer",
            "description" : "已使用空间,以字节为单位",
            "format" : "int64"
          },
          "data_size" : {
            "type" : "integer",
            "description" : "数据空间,以字节为单位",
            "format" : "int64"
          },
          "log_size" : {
            "type" : "integer",
            "description" : "日志空间,以字节为单位",
            "format" : "int64"
          },
          "avg_daily_growth" : {
            "type" : "integer",
            "description" : "近七日的数据平均日增长量,以字节为单位",
            "format" : "int64"
          },
          "last_result_time" : {
            "type" : "integer",
            "description" : "最后一次分析的结果时间,毫秒单位时间戳",
            "format" : "int64"
          }
        },
        "type" : "object"
      },
      "SlowSqlTrendDetailsResp" : {
        "type" : "object",
        "required" : [ "slow_sql_trend_items", "interval_millis", "total_count" ],
        "properties" : {
          "slow_sql_trend_items" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/SlowSqlTrendItem"
            },
            "description" : "慢SQL数量趋势。"
          },
          "interval_millis" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "返回列表两个时间点之间的时间间隔。总查询时长3小时之内间隔1分钟,3小时到6小时范围内间隔5分钟,6小时到12小时范围内间隔30分钟,12小时以上间隔1小时。单位为毫秒。"
          },
          "total_count" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "趋势数据总数。"
          }
        }
      },
      "SlowSqlTrendItem" : {
        "type" : "object",
        "required" : [ "timestamp", "slow_log_count" ],
        "properties" : {
          "timestamp" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "毫秒时间戳。表示统计数据的时间范围为timestamp到timestamp + interval_millis。"
          },
          "slow_log_count" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "慢SQL数量。"
          }
        }
      },
      "ParseSqlLimitingRuleResp" : {
        "type" : "object",
        "properties" : {
          "rule" : {
            "type" : "string",
            "description" : "SQL限流关键字"
          }
        }
      },
      "ParseSqlLimitRulesReq" : {
        "type" : "object",
        "required" : [ "datastore_type", "original_sql", "use_template", "keep_operators" ],
        "properties" : {
          "datastore_type" : {
            "type" : "string",
            "description" : "数据库类型,目前支持MySQL、MariaDB、GaussDB(for MySQL)三种引擎。",
            "enum" : [ "MySQL", "MariaDB", "GaussDB(for MySQL)" ]
          },
          "original_sql" : {
            "type" : "string",
            "description" : "原始SQL语句",
            "maxLength" : 1024
          },
          "use_template" : {
            "type" : "boolean",
            "description" : "是否校验SQL语句"
          },
          "keep_operators" : {
            "type" : "boolean",
            "description" : "是否保留操作符"
          }
        },
        "description" : "{\"originalSql\":\"select * from das_conn_info\",\"useTemplate\":true,\"keepOperators\":true}"
      },
      "ListInstanceMultiNodesSingleMetric" : {
        "type" : "object",
        "required" : [ "metric_name", "start_at", "end_at", "instance_infos" ],
        "properties" : {
          "metric_name" : {
            "type" : "string",
            "example" : "mem_usage",
            "description" : "指标名称"
          },
          "start_at" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1736402167049,
            "description" : "开始时间"
          },
          "end_at" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1736403967049,
            "description" : "结束时间"
          },
          "instance_infos" : {
            "type" : "array",
            "items" : {
              "required" : [ "datastore_type", "node_infos" ],
              "properties" : {
                "datastore_type" : {
                  "type" : "string",
                  "example" : "mysql",
                  "description" : "数据库类型"
                },
                "node_infos" : {
                  "type" : "array",
                  "items" : {
                    "required" : [ "instance_id", "node_ids" ],
                    "properties" : {
                      "instance_id" : {
                        "type" : "string",
                        "example" : "5c59fa7d6f09456b947f32922f9aeda1in01",
                        "description" : "实例ID"
                      },
                      "node_ids" : {
                        "type" : "array",
                        "items" : {
                          "type" : "string"
                        },
                        "example" : [ "09ab88b8a12340569ac056af284011d9no01" ],
                        "description" : "节点ID列表"
                      }
                    }
                  },
                  "description" : "节点列表"
                }
              }
            },
            "description" : "实例信息列表"
          }
        }
      },
      "MultiNodesSingleMetric" : {
        "type" : "object",
        "properties" : {
          "metric_name" : {
            "type" : "string",
            "example" : "mem_usage",
            "description" : "指标名称"
          },
          "unit" : {
            "type" : "string",
            "example" : "%",
            "description" : "单位"
          },
          "metrics" : {
            "type" : "array",
            "items" : {
              "properties" : {
                "instance_id" : {
                  "type" : "string",
                  "example" : "5c59fa7d6f09456b947f32922f9aeda1in01",
                  "description" : "实例ID"
                },
                "node_id" : {
                  "type" : "string",
                  "example" : "09ab88b8a12340569ac056af284011d9no01",
                  "description" : "节点ID"
                },
                "series" : {
                  "type" : "array",
                  "items" : {
                    "type" : "number",
                    "format" : "double"
                  },
                  "example" : [ 54.2, 54.18, 54.13, 54.1, 54.13, 54.15, 54.2, 54.17, 54.13, 54.18, 54.17, 54.27, 54.15, 54.1, 54.2, 54.2, 54.22, 54.17, 54.15, 54.17, 54.18, 54.17, 54.2, 54.18, 54.23, 54.17, 54.13, 54.1 ],
                  "description" : "指标"
                },
                "timestamps" : {
                  "type" : "array",
                  "items" : {
                    "type" : "integer",
                    "format" : "int64"
                  },
                  "example" : [ 1736402220, 1736402280, 1736402340, 1736402400, 1736402460, 1736402520, 1736402580, 1736402640, 1736402700, 1736402760, 1736402820, 1736402880, 1736402940, 1736403000, 1736403060, 1736403120, 1736403180, 1736403240, 1736403300, 1736403360, 1736403420, 1736403480, 1736403540, 1736403600, 1736403660, 1736403720, 1736403780, 1736403840 ],
                  "description" : "时间戳"
                }
              }
            },
            "description" : "指标值"
          }
        }
      },
      "QueryMetadataLockResp" : {
        "properties" : {
          "metadata_locks" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/MetadataLock"
            },
            "description" : "元数据锁列表"
          },
          "count" : {
            "type" : "integer",
            "description" : "元数据锁数量",
            "format" : "int32"
          }
        },
        "required" : [ "metadata_locks", "count" ],
        "type" : "object"
      },
      "MetadataLock" : {
        "description" : "元数据锁",
        "properties" : {
          "thread_id" : {
            "type" : "string",
            "description" : "会话ID"
          },
          "lock_status" : {
            "type" : "string",
            "description" : "锁状态,取值为PENDING和GRANTED,分别表示等待锁和持有锁。"
          },
          "lock_mode" : {
            "type" : "string",
            "description" : "加锁模式,取值为MDL_SHARED 、MDL_EXCLUSIVE 、MDL_SHARED_READ、MDL_SHARED_WRITE等。"
          },
          "lock_type" : {
            "type" : "string",
            "description" : "锁类型,取值为Table metadata lock、Schema metadata lock、Tablespace lock、Global read lock,分别表示表元数据锁、库元数据锁、表空间锁、全局读锁。"
          },
          "lock_duration" : {
            "type" : "string",
            "description" : "锁范围,取值为MDL_STATEMENT、MDL_TRANSACTION、MDL_EXPLICIT,分别表示语句级别、事务级别、global级别"
          },
          "table_schema" : {
            "type" : "string",
            "description" : "锁所在的数据库,对于部分Global read lock级别的元数据锁,该值为空。"
          },
          "table_name" : {
            "type" : "string",
            "description" : "表名"
          },
          "user" : {
            "type" : "string",
            "description" : "用户"
          },
          "time" : {
            "type" : "string",
            "description" : "时间"
          },
          "host" : {
            "type" : "string",
            "description" : "主机"
          },
          "database" : {
            "type" : "string",
            "description" : "会话所在的数据库"
          },
          "command" : {
            "type" : "string",
            "description" : "命令"
          },
          "state" : {
            "type" : "string",
            "description" : "状态"
          },
          "sql" : {
            "type" : "string",
            "description" : "SQL语句"
          },
          "trx_exec_time" : {
            "type" : "string",
            "description" : "事务执行时间"
          },
          "block_process" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/Process"
            },
            "description" : "阻塞会话列表"
          },
          "wait_process" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/Process"
            },
            "description" : "等待会话列表"
          }
        },
        "required" : [ "thread_id", "lock_status", "lock_mode", "lock_type", "lock_duration", "table_schema", "table_name", "user", "time", "host", "database", "command", "state", "sql", "trx_exec_time", "block_process", "wait_process" ],
        "type" : "object"
      },
      "QueryRiskTrend" : {
        "type" : "object",
        "properties" : {
          "metric_code" : {
            "type" : "string",
            "example" : "sys001_cpu_usage",
            "description" : "指标码"
          },
          "metric" : {
            "description" : "指标值",
            "properties" : {
              "series" : {
                "type" : "array",
                "items" : {
                  "type" : "number",
                  "format" : "double"
                },
                "example" : [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
                "description" : "数值"
              },
              "timestamps" : {
                "type" : "array",
                "items" : {
                  "type" : "integer",
                  "format" : "int64"
                },
                "example" : [ 1736402220, 1736402280, 1736402340, 1736402400, 1736402460, 1736402520, 1736402580, 1736402640, 1736402700, 1736402760, 1736402820, 1736402880, 1736402940, 1736403000, 1736403060, 1736403120, 1736403180, 1736403240, 1736403300, 1736403360, 1736403420, 1736403480, 1736403540, 1736403600, 1736403660, 1736403720, 1736403780, 1736403840 ],
                "description" : "时间戳"
              }
            }
          }
        }
      },
      "UpdateDbUserResp" : {
        "description" : "修改数据库用户",
        "required" : [ "result" ],
        "properties" : {
          "result" : {
            "type" : "string",
            "description" : "修改结果,修改成功返回OK"
          }
        },
        "type" : "object"
      },
      "UpdateDbUserRequestBody" : {
        "description" : "修改注册的数据库用户请求",
        "required" : [ "db_username", "db_user_password" ],
        "properties" : {
          "db_username" : {
            "type" : "string",
            "description" : "数据库用户名称"
          },
          "db_user_password" : {
            "type" : "string",
            "description" : "数据库用户密码"
          }
        },
        "type" : "object"
      },
      "HealthReportTask" : {
        "type" : "object",
        "required" : [ "task_id", "instance_id", "create_at", "report_status", "risk_count", "origin", "start_at", "end_at" ],
        "properties" : {
          "task_id" : {
            "type" : "string",
            "description" : "报告ID"
          },
          "instance_id" : {
            "type" : "string",
            "description" : "实例ID"
          },
          "create_at" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "创建时间(Unix timestamp),单位:毫秒。"
          },
          "report_status" : {
            "type" : "string",
            "description" : "诊断状态"
          },
          "risk_count" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "风险点数量"
          },
          "origin" : {
            "type" : "string",
            "description" : "触发源"
          },
          "start_at" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "日报诊断区间的起始时间(Unix timestamp),单位:毫秒。"
          },
          "end_at" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "日报诊断区间的结束时间(Unix timestamp),单位:毫秒。"
          }
        }
      },
      "HealthReportTaskListResp" : {
        "type" : "object",
        "required" : [ "total", "health_report_task_list" ],
        "properties" : {
          "total" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "诊断报告总数"
          },
          "health_report_task_list" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportTask"
            },
            "description" : "诊断报告列表"
          }
        }
      },
      "SqlLimitJobResp" : {
        "type" : "object",
        "required" : [ "job_id", "job_status" ],
        "properties" : {
          "job_id" : {
            "type" : "string",
            "description" : "任务ID"
          },
          "job_status" : {
            "type" : "string",
            "description" : "任务状态",
            "enum" : [ "RUNNING", "COMPLETED", "FAILED" ]
          },
          "fail_reason" : {
            "type" : "string",
            "description" : "失败原因"
          }
        }
      },
      "TopRiskInfo" : {
        "type" : "object",
        "required" : [ "instance_id", "instance_name", "node_id", "metric_names", "metric_values" ],
        "properties" : {
          "instance_id" : {
            "type" : "string",
            "description" : "实例id。",
            "maxLength" : 1024,
            "minLength" : 1
          },
          "instance_name" : {
            "type" : "string",
            "description" : "实例名称。",
            "maxLength" : 1024,
            "minLength" : 1
          },
          "node_id" : {
            "type" : "string",
            "description" : "节点ID。",
            "maxLength" : 1024,
            "minLength" : 1
          },
          "metric_names" : {
            "type" : "array",
            "description" : "指标名称。",
            "maxItems" : 1024,
            "minItems" : 1,
            "items" : {
              "type" : "string",
              "maxLength" : 1024,
              "minLength" : 1
            }
          },
          "metric_values" : {
            "type" : "array",
            "description" : "指标值,单位%。",
            "maxItems" : 1024,
            "minItems" : 1,
            "items" : {
              "type" : "number",
              "format" : "double",
              "minimum" : 0,
              "maximum" : 100
            }
          }
        }
      },
      "TopRiskResp" : {
        "type" : "object",
        "required" : [ "top_risk_info", "total_count" ],
        "properties" : {
          "top_risk_info" : {
            "type" : "array",
            "maxItems" : 1024,
            "minItems" : 1,
            "items" : {
              "$ref" : "#/components/schemas/TopRiskInfo"
            },
            "description" : "风险实例列表。"
          },
          "total_count" : {
            "type" : "integer",
            "format" : "int32",
            "minimum" : 0,
            "maximum" : 1000,
            "description" : "总数。"
          }
        }
      },
      "AddFullSqlTaskBody" : {
        "type" : "object",
        "required" : [ "datastore_type", "start_at", "end_at" ],
        "properties" : {
          "datastore_type" : {
            "type" : "string",
            "example" : "mysql",
            "description" : "数据库引擎"
          },
          "node_id" : {
            "type" : "string",
            "example" : "09ab88b8a12340569ac056af284011d9no01",
            "description" : "节点ID,有值时创建节点维度任务"
          },
          "start_at" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1742815900000,
            "description" : "开始时间(Unix timestamp),单位:毫秒"
          },
          "end_at" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1742819500000,
            "description" : "结束时间(Unix timestamp),单位:毫秒"
          },
          "user_list" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "example" : [ "a" ],
            "description" : "用户名列表,最大长度20"
          },
          "keyword_list" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "example" : [ "b" ],
            "description" : "关键字列表,最大长度20"
          },
          "db_list" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "example" : [ "c", "sdfssdff" ],
            "description" : "数据库列表,最大长度20"
          },
          "operation_list" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "example" : [ "SELECT" ],
            "description" : "操作类型列表,最大长度20"
          },
          "thread_id_list" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "example" : [ "1" ],
            "description" : "线程id列表,最大长度20"
          },
          "status_list" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "example" : [ "0" ],
            "description" : "执行状态列表,\"0\"为成功,\"1\"为失败,最大长度20"
          }
        }
      },
      "AddFullSqlTaskResp" : {
        "type" : "object",
        "required" : [ "task_id" ],
        "properties" : {
          "task_id" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 4405,
            "description" : "任务ID"
          }
        }
      },
      "InstanceEngineDistributionList" : {
        "type" : "object",
        "properties" : {
          "total" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 1,
            "description" : "总数"
          },
          "engine_distribution" : {
            "type" : "array",
            "items" : {
              "properties" : {
                "datastore_type" : {
                  "type" : "string",
                  "example" : "PostgreSQL",
                  "description" : "数据库类型"
                },
                "total" : {
                  "type" : "integer",
                  "format" : "int32",
                  "example" : 1,
                  "description" : "总数"
                },
                "instance_infos" : {
                  "type" : "array",
                  "items" : {
                    "properties" : {
                      "status" : {
                        "type" : "string",
                        "example" : "OTHERS",
                        "description" : "实例状态"
                      },
                      "num" : {
                        "type" : "integer",
                        "format" : "int32",
                        "example" : 1,
                        "description" : "实例数量"
                      }
                    }
                  },
                  "description" : "实例信息"
                }
              }
            },
            "description" : "引擎分布"
          }
        }
      },
      "HealthReportInspectionStat" : {
        "type" : "object",
        "required" : [ "inspection_score", "analyze_success", "error_message" ],
        "properties" : {
          "inspection_score" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportInspectionScore"
            },
            "description" : "巡检评分。"
          },
          "analyze_success" : {
            "type" : "boolean",
            "description" : "统计分析是否成功。"
          },
          "error_message" : {
            "type" : "string",
            "description" : "错误信息。"
          }
        }
      },
      "HealthReportLostPointsDetail" : {
        "type" : "object",
        "required" : [ "metric", "lost_points", "risk_level" ],
        "properties" : {
          "metric" : {
            "type" : "string",
            "description" : "扣分项。"
          },
          "lost_points" : {
            "type" : "number",
            "format" : "double",
            "description" : "所扣分数。"
          },
          "risk_level" : {
            "type" : "string",
            "description" : "事件等级。"
          }
        }
      },
      "HealthReportSingleValueStat" : {
        "type" : "object",
        "required" : [ "metric", "value", "max_value", "normalized", "stage", "timestamp" ],
        "properties" : {
          "metric" : {
            "type" : "string",
            "description" : "指标名。"
          },
          "value" : {
            "type" : "number",
            "format" : "double",
            "description" : "数值。"
          },
          "max_value" : {
            "type" : "number",
            "format" : "double",
            "description" : "最大值。"
          },
          "normalized" : {
            "type" : "number",
            "format" : "double",
            "description" : "归一化值。"
          },
          "stage" : {
            "type" : "string",
            "description" : "当前状态。"
          },
          "timestamp" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "指标采集时间。"
          }
        }
      },
      "HealthReportInstanceInfo" : {
        "type" : "object",
        "required" : [ "tenant_id", "project_id", "instance_id", "master_node_id", "instance_name", "cpu", "mem", "disk_size", "disk_type", "engine", "engine_version" ],
        "properties" : {
          "tenant_id" : {
            "type" : "string",
            "description" : "账号ID。"
          },
          "project_id" : {
            "type" : "string",
            "description" : "项目ID。"
          },
          "instance_id" : {
            "type" : "string",
            "description" : "实例ID。"
          },
          "master_node_id" : {
            "type" : "string",
            "description" : "主节点ID。"
          },
          "instance_name" : {
            "type" : "string",
            "description" : "实例名称。"
          },
          "cpu" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "实例cpu核数。"
          },
          "mem" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "实例内存大小。"
          },
          "disk_size" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "磁盘大小。"
          },
          "disk_type" : {
            "type" : "string",
            "description" : "磁盘类型。"
          },
          "engine" : {
            "type" : "string",
            "description" : "实例引擎类型。"
          },
          "engine_version" : {
            "type" : "string",
            "description" : "引擎内核版本。"
          }
        }
      },
      "HealthReportTableSpaceInfo" : {
        "type" : "object",
        "required" : [ "database", "table", "db_engine", "table_size", "data_size", "index_size", "rows" ],
        "properties" : {
          "database" : {
            "type" : "string",
            "description" : "数据库名。"
          },
          "table" : {
            "type" : "string",
            "description" : "表名。"
          },
          "db_engine" : {
            "type" : "string",
            "description" : "数据库引擎。"
          },
          "table_size" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "表大小。"
          },
          "data_size" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "数据大小。"
          },
          "index_size" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "索引大小。"
          },
          "rows" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "行数量。"
          }
        }
      },
      "HealthReportTableSpaceStat" : {
        "type" : "object",
        "required" : [ "size_top", "rows_top", "size_incr_top", "rows_incr_top", "analyze_success", "error_message" ],
        "properties" : {
          "size_top" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportTableSpaceInfo"
            },
            "description" : "表大小Top列表。"
          },
          "rows_top" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportTableSpaceInfo"
            },
            "description" : "表行数量Top列表。"
          },
          "size_incr_top" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportTableSpaceIncrInfo"
            },
            "description" : "表大小增长Top列表。"
          },
          "rows_incr_top" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportTableSpaceIncrInfo"
            },
            "description" : "表行数量增长Top列表。"
          },
          "analyze_success" : {
            "type" : "boolean",
            "description" : "统计分析是否成功。"
          },
          "error_message" : {
            "type" : "string",
            "description" : "错误信息。"
          }
        }
      },
      "HealthReportDiskStat" : {
        "type" : "object",
        "required" : [ "peak_stats", "ratio_stats", "analyze_success", "error_message" ],
        "properties" : {
          "peak_stats" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportSingleValueStat"
            },
            "description" : "峰值统计信息列表。"
          },
          "ratio_stats" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportRatioStat"
            },
            "description" : "比率值数据列表。"
          },
          "analyze_success" : {
            "type" : "boolean",
            "description" : "统计分析是否成功。"
          },
          "error_message" : {
            "type" : "string",
            "description" : "错误信息。"
          }
        }
      },
      "InstanceHealthReportResp" : {
        "type" : "object",
        "required" : [ "success", "start_at", "end_at", "task_id", "summary_info", "instance_info", "performance_stat", "disk_stat", "table_space_stat", "slow_log_stat", "full_sql_stat", "inspection_stat" ],
        "properties" : {
          "success" : {
            "type" : "boolean",
            "description" : "日报诊断是否成功。"
          },
          "start_at" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "日报诊断区间的起始时间(Unix timestamp),单位:毫秒。"
          },
          "end_at" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "日报诊断区间的结束时间(Unix timestamp),单位:毫秒。"
          },
          "task_id" : {
            "type" : "string",
            "description" : "报告ID。"
          },
          "summary_info" : {
            "type" : "object",
            "$ref" : "#/components/schemas/HealthReportSummaryInfo",
            "description" : "日报内容摘要信息"
          },
          "instance_info" : {
            "type" : "object",
            "$ref" : "#/components/schemas/HealthReportInstanceInfo",
            "description" : "实例信息列表。"
          },
          "performance_stat" : {
            "type" : "object",
            "$ref" : "#/components/schemas/HealthReportPerformanceStat",
            "description" : "性能统计分析列表。"
          },
          "disk_stat" : {
            "type" : "object",
            "$ref" : "#/components/schemas/HealthReportDiskStat",
            "description" : "磁盘统计分析列表。"
          },
          "table_space_stat" : {
            "type" : "object",
            "$ref" : "#/components/schemas/HealthReportTableSpaceStat",
            "description" : "表空间统计分析列表。"
          },
          "slow_log_stat" : {
            "type" : "object",
            "$ref" : "#/components/schemas/HealthReportSlowLogStat",
            "description" : "慢SQL统计分析列表。"
          },
          "full_sql_stat" : {
            "type" : "object",
            "$ref" : "#/components/schemas/HealthReportFullSqlStat",
            "description" : "全量SQL统计分析列表。"
          },
          "inspection_stat" : {
            "type" : "object",
            "$ref" : "#/components/schemas/HealthReportInspectionStat",
            "description" : "巡检评分统计分析列表。"
          },
          "error_message" : {
            "type" : "string",
            "description" : "错误信息。"
          }
        }
      },
      "HealthReportSqlTemplate" : {
        "type" : "object",
        "required" : [ "template_id", "template", "databases", "times", "avg_query_time", "max_query_time", "avg_rows_examined", "max_rows_examined", "sum_rows_examined", "avg_rows_sent", "max_rows_sent" ],
        "properties" : {
          "template_id" : {
            "type" : "string",
            "description" : "模版ID。"
          },
          "template" : {
            "type" : "string",
            "description" : "模版内容。"
          },
          "databases" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "数据库列表。"
          },
          "times" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "执行次数。"
          },
          "avg_query_time" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均执行时间。"
          },
          "max_query_time" : {
            "type" : "number",
            "format" : "double",
            "description" : "最大执行时间。"
          },
          "avg_rows_examined" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均扫描行数。"
          },
          "max_rows_examined" : {
            "type" : "number",
            "format" : "double",
            "description" : "最大扫描行数。"
          },
          "sum_rows_examined" : {
            "type" : "number",
            "format" : "double",
            "description" : "总扫描行数。"
          },
          "avg_rows_sent" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均返回行数。"
          },
          "max_rows_sent" : {
            "type" : "number",
            "format" : "double",
            "description" : "最大返回行数。"
          }
        }
      },
      "HealthReportTableSpaceIncrInfo" : {
        "type" : "object",
        "required" : [ "database", "table", "increment", "analyze_success", "error_message" ],
        "properties" : {
          "database" : {
            "type" : "string",
            "description" : "数据库名。"
          },
          "table" : {
            "type" : "string",
            "description" : "表名。"
          },
          "increment" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "增长量。"
          },
          "analyze_success" : {
            "type" : "boolean",
            "description" : "统计分析是否成功。"
          },
          "error_message" : {
            "type" : "string",
            "description" : "错误信息。"
          }
        }
      },
      "HealthReportPerformanceStat" : {
        "type" : "object",
        "required" : [ "peak_stats", "ratio_stats", "analyze_success", "error_message" ],
        "properties" : {
          "peak_stats" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportSingleValueStat"
            },
            "description" : "峰值统计信息列表。"
          },
          "ratio_stats" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportRatioStat"
            },
            "description" : "比率值数据列表。"
          },
          "analyze_success" : {
            "type" : "boolean",
            "description" : "统计分析是否成功。"
          },
          "error_message" : {
            "type" : "string",
            "description" : "错误信息。"
          }
        }
      },
      "HealthReportSlowLogStat" : {
        "type" : "object",
        "required" : [ "collect_slow_log", "top_execute_slow_logs", "top_avg_query_time_slow_logs", "top_max_query_time_slow_logs", "rows_examined_exceeding", "analyze_success", "error_message" ],
        "properties" : {
          "collect_slow_log" : {
            "type" : "boolean",
            "description" : "是否收集慢SQL。"
          },
          "top_execute_slow_logs" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportSqlTemplate"
            },
            "description" : "慢SQL Top执行次数列表。"
          },
          "top_avg_query_time_slow_logs" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportSqlTemplate"
            },
            "description" : "慢SQL Top平均执行时间列表。"
          },
          "top_max_query_time_slow_logs" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportSqlTemplate"
            },
            "description" : "慢SQL Top最大执行时间列表。"
          },
          "rows_examined_exceeding" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportSqlTemplate"
            },
            "description" : "慢SQL Top扫描返回比列表。"
          },
          "analyze_success" : {
            "type" : "boolean",
            "description" : "统计分析是否成功。"
          },
          "error_message" : {
            "type" : "string",
            "description" : "错误信息。"
          }
        }
      },
      "HealthReportRiskReason" : {
        "type" : "object",
        "required" : [ "reason_code", "reason_content", "suggestions" ],
        "properties" : {
          "reason_code" : {
            "type" : "string",
            "description" : "可能原因编码。"
          },
          "reason_content" : {
            "type" : "string",
            "description" : "可能原因内容。"
          },
          "suggestions" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportRiskSuggestion"
            },
            "description" : "建议优化措施列表。"
          }
        }
      },
      "HealthReportRiskSuggestion" : {
        "type" : "object",
        "required" : [ "suggestion_code", "suggestion_content" ],
        "properties" : {
          "suggestion_code" : {
            "type" : "string",
            "description" : "建议优化措施编码。"
          },
          "suggestion_content" : {
            "type" : "string",
            "description" : "建议优化措施。"
          }
        }
      },
      "HealthReportRatioStat" : {
        "type" : "object",
        "required" : [ "metric", "max_value", "critical_ratio", "medium_ratio", "light_ratio" ],
        "properties" : {
          "metric" : {
            "type" : "string",
            "description" : "指标名。"
          },
          "max_value" : {
            "type" : "number",
            "format" : "double",
            "description" : "最大值。"
          },
          "critical_ratio" : {
            "type" : "number",
            "format" : "double",
            "description" : "高水位占比。"
          },
          "medium_ratio" : {
            "type" : "number",
            "format" : "double",
            "description" : "中水位占比。"
          },
          "light_ratio" : {
            "type" : "number",
            "format" : "double",
            "description" : "低水位占比。"
          }
        }
      },
      "HealthReportFullSqlStat" : {
        "type" : "object",
        "required" : [ "collect_full_sql", "execute_top_templates", "sum_rows_examined_top_templates", "execute_over_examined_top_templates", "rows_over_examined_top_templates", "avg_cost_top_templates", "analyze_success", "error_message" ],
        "properties" : {
          "collect_full_sql" : {
            "type" : "boolean",
            "description" : "是否收集全量SQL。"
          },
          "execute_top_templates" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportSqlTemplate"
            },
            "description" : "全量SQL Top总执行次数列表。"
          },
          "sum_rows_examined_top_templates" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportSqlTemplate"
            },
            "description" : "全量SQL Top总扫描行数列表。"
          },
          "avg_cost_top_templates" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportSqlTemplate"
            },
            "description" : "全量SQL Top平均执行耗时列表。"
          },
          "analyze_success" : {
            "type" : "boolean",
            "description" : "统计分析是否成功。"
          },
          "error_message" : {
            "type" : "string",
            "description" : "错误信息。"
          }
        }
      },
      "HealthReportSummaryInfo" : {
        "type" : "object",
        "required" : [ "health_rank", "analysis_results" ],
        "properties" : {
          "analysis_results" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportAnalysisResult"
            },
            "description" : "分析结果列表"
          }
        }
      },
      "HealthReportInspectionScore" : {
        "type" : "object",
        "required" : [ "score", "critical", "medium", "light", "cpu_usage", "mem_usage", "space_usage", "connection_rate", "iops_usage", "thread_running", "slow_sql_total", "lost_points_detail_list" ],
        "properties" : {
          "score" : {
            "type" : "number",
            "format" : "double",
            "description" : "得分。"
          },
          "critical" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "严重事件。"
          },
          "medium" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "警告事件。"
          },
          "light" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "优化事件。"
          },
          "cpu_usage" : {
            "type" : "number",
            "format" : "double",
            "description" : "CPU使用率。"
          },
          "mem_usage" : {
            "type" : "number",
            "format" : "double",
            "description" : "内存使用率。"
          },
          "space_usage" : {
            "type" : "number",
            "format" : "double",
            "description" : "空间使用率。"
          },
          "connection_rate" : {
            "type" : "number",
            "format" : "double",
            "description" : "连接使用率。"
          },
          "iops_usage" : {
            "type" : "number",
            "format" : "double",
            "description" : "IOPS使用率。"
          },
          "thread_running" : {
            "type" : "number",
            "format" : "double",
            "description" : "活跃会话。"
          },
          "slow_sql_total" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "慢SQL数量。"
          },
          "lost_points_detail_list" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportLostPointsDetail"
            },
            "description" : "扣分详情。"
          }
        }
      },
      "HealthReportAnalysisResult" : {
        "type" : "object",
        "required" : [ "risk_code", "risk_level", "risk_content", "reasons" ],
        "properties" : {
          "risk_code" : {
            "type" : "string",
            "description" : "风险点编码。"
          },
          "risk_level" : {
            "type" : "string",
            "description" : "风险点级别。"
          },
          "risk_content" : {
            "type" : "string",
            "description" : "风险点内容。"
          },
          "reasons" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/HealthReportRiskReason"
            },
            "description" : "可能原因列表。"
          }
        }
      },
      "SqlLimitSwitchStatusResp" : {
        "type" : "object",
        "description" : "SQL限流开关状态返回体",
        "required" : [ "switch_status" ],
        "properties" : {
          "switch_status" : {
            "type" : "string",
            "description" : "开关状态",
            "enum" : [ "ON", "OFF" ]
          }
        }
      },
      "ListApiVersionResp" : {
        "description" : "API版本列表",
        "properties" : {
          "versions" : {
            "type" : "array",
            "description" : "API版本详细信息列表。",
            "items" : {
              "$ref" : "#/components/schemas/ApiVersion"
            }
          }
        },
        "type" : "object"
      },
      "GetTransactionListResp" : {
        "type" : "object",
        "properties" : {
          "total" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 120,
            "description" : "历史事务总数"
          },
          "transaction_info_list" : {
            "items" : {
              "properties" : {
                "last_sec" : {
                  "type" : "integer",
                  "format" : "int32",
                  "example" : 5,
                  "description" : "事务持续时间"
                },
                "wait_locks" : {
                  "type" : "integer",
                  "format" : "int32",
                  "example" : 3,
                  "description" : "等待锁数量"
                },
                "hold_locks" : {
                  "type" : "integer",
                  "format" : "int32",
                  "example" : 3,
                  "description" : "持有锁数量"
                },
                "occurrence_time" : {
                  "type" : "integer",
                  "format" : "int32",
                  "example" : 1717398965000,
                  "description" : "发生时间"
                },
                "detail" : {
                  "type" : "string",
                  "example" : "MySQL thread id 17485282, OS thread handle 140455451772672, query id 48549222 100.125.9.95 root updating\ndelete from dead_lock_test where v1 = 5 and v2 = 5\n*** HOLDS THE LOCK:\nRECORD LOCKS space id 34691 page no 3 n bits 80 index PRIMARY of table `at_cloud_dba_001`.`dead_lock_test` trx id 690888 lock_mode X locks rec but not gap\nRecord lock, heap no 7 PHYSICAL RECORD: n_fields 5; compact format; info bits 0\n",
                  "description" : "事务内容"
                },
                "collect_time" : {
                  "type" : "integer",
                  "format" : "int64",
                  "description" : "收集时间"
                }
              },
              "required" : [ "last_sec", "wait_locks", "hold_locks", "occurrence_time", "detail", "collect_time" ]
            },
            "type" : "array",
            "description" : "历史事务信息列表"
          }
        },
        "description" : "历史事务列表返回体",
        "required" : [ "total", "transaction_info_list" ]
      },
      "ChangeSqlLimitSwitchStatusResp" : {
        "type" : "object",
        "required" : [ "job_id" ],
        "properties" : {
          "job_id" : {
            "type" : "string",
            "description" : "SQL限流任务ID"
          }
        },
        "description" : "设置SQL限流开关返回体"
      },
      "ChangeSqlLimitSwitchStatusBody" : {
        "type" : "object",
        "description" : "设置SQL限流开关状态请求体",
        "required" : [ "switch_status", "datastore_type" ],
        "properties" : {
          "switch_status" : {
            "type" : "string",
            "description" : "开关状态",
            "enum" : [ "ON", "OFF" ]
          },
          "datastore_type" : {
            "type" : "string",
            "description" : "数据库类型",
            "enum" : [ "MySQL", "PostgreSQL" ]
          }
        }
      },
      "UpdateSqlLimitRulesBody" : {
        "type" : "object",
        "description" : "修改SQL限流规则请求体",
        "required" : [ "datastore_type", "sql_limit_rule_ids", "sql_limit_rule" ],
        "properties" : {
          "datastore_type" : {
            "type" : "string",
            "description" : "数据库类型",
            "enum" : [ "PostgreSQL" ]
          },
          "sql_limit_rule_ids" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "SQL限流规则ID"
          },
          "database_name" : {
            "type" : "string",
            "description" : "数据库名(PostgreSQL必填)"
          },
          "sql_limit_rule" : {
            "description" : "需要修改的SQL限流规则",
            "$ref" : "#/components/schemas/UpdateSqlLimitRuleOption"
          }
        }
      },
      "UpdateSqlLimitRuleOption" : {
        "type" : "object",
        "required" : [ "max_concurrency" ],
        "properties" : {
          "max_concurrency" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "最大并发数"
          },
          "max_waiting" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "最大等待时间"
          }
        }
      },
      "InstanceNodesInfo" : {
        "type" : "object",
        "properties" : {
          "instance_id" : {
            "type" : "string",
            "example" : "5c59fa7d6f09456b947f32922f9aeda1in01",
            "description" : "实例ID"
          },
          "instance_name" : {
            "type" : "string",
            "example" : "DAS-MYSQL-AT",
            "description" : "实例名称"
          },
          "instance_nodes" : {
            "type" : "array",
            "items" : {
              "properties" : {
                "id" : {
                  "type" : "string",
                  "example" : "09ab88b8a12340569ac056af284011d9no01",
                  "description" : "节点ID"
                },
                "name" : {
                  "type" : "string",
                  "example" : "DAS-MYSQL-AT_node0",
                  "description" : "节点名"
                },
                "role" : {
                  "type" : "string",
                  "example" : "master",
                  "description" : "节点角色"
                },
                "status" : {
                  "type" : "string",
                  "example" : "normal",
                  "description" : "节点状态"
                },
                "type" : {
                  "type" : "string",
                  "example" : "master",
                  "description" : "节点类型"
                }
              }
            },
            "description" : "实例节点列表"
          }
        }
      },
      "CreateHealthReportResp" : {
        "type" : "object",
        "required" : [ "create_success" ],
        "properties" : {
          "create_success" : {
            "type" : "boolean",
            "description" : "诊断任务创建是否成功"
          }
        }
      },
      "CreateHealthReportReq" : {
        "type" : "object",
        "required" : [ "start_at", "end_at" ],
        "properties" : {
          "start_at" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "开始时间(Unix timestamp),单位:毫秒。"
          },
          "end_at" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "结束时间(Unix timestamp),单位:毫秒。"
          }
        }
      },
      "ApiListConnectionsInfoResp" : {
        "type" : "object",
        "required" : [ "total_record", "das_conn_info_list" ],
        "properties" : {
          "total_record" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "总记录数目"
          },
          "das_conn_info_list" : {
            "type" : "array",
            "items" : {
              "properties" : {
                "connection_id" : {
                  "type" : "string",
                  "description" : "连接Id"
                },
                "instance_id" : {
                  "type" : "string",
                  "description" : "实例Id"
                },
                "instance_name" : {
                  "type" : "string",
                  "description" : "实例名称"
                },
                "network_type" : {
                  "type" : "string",
                  "description" : "数据库来源"
                },
                "engine_type" : {
                  "type" : "string",
                  "description" : "数据库引擎"
                },
                "datastore_version" : {
                  "type" : "string",
                  "description" : "数据存储版本"
                },
                "user_name" : {
                  "type" : "string",
                  "description" : "用户名"
                },
                "database_name" : {
                  "type" : "string",
                  "description" : "数据库名称"
                },
                "is_save_password" : {
                  "type" : "boolean",
                  "description" : "是否保存密码"
                },
                "ip_address" : {
                  "type" : "string",
                  "description" : "ip地址"
                },
                "port" : {
                  "type" : "integer",
                  "format" : "int32",
                  "description" : "端口号"
                },
                "remarks" : {
                  "type" : "string",
                  "description" : "备注"
                },
                "create_at" : {
                  "type" : "integer",
                  "format" : "int64",
                  "description" : "连接的创建时间"
                },
                "status" : {
                  "type" : "string",
                  "description" : "状态,NORMAL-正常,INSTANCE_DELETE-实例删除"
                },
                "conn_share_type" : {
                  "type" : "string",
                  "description" : "连接类型,NORMAL-正常连接,SHARE-共享连接"
                },
                "shared_user_name" : {
                  "type" : "string",
                  "description" : "共享人名称"
                },
                "shared_user_id" : {
                  "type" : "string",
                  "description" : "共享人ID"
                },
                "expired_time" : {
                  "type" : "integer",
                  "format" : "int64",
                  "description" : "共享过期时间"
                }
              }
            },
            "description" : "连接信息列表"
          }
        }
      },
      "SupportMetricNameList" : {
        "type" : "object",
        "properties" : {
          "support_metric_names" : {
            "type" : "array",
            "items" : {
              "properties" : {
                "datastore_type" : {
                  "type" : "array",
                  "items" : {
                    "type" : "string"
                  },
                  "example" : [ "MySQL", "MariaDB", "GaussDB(for MySQL)", "DDM" ],
                  "description" : "数据库类型"
                },
                "metric_name" : {
                  "type" : "string",
                  "example" : "slow_queries",
                  "description" : "指标名称"
                },
                "unit" : {
                  "type" : "string",
                  "example" : "count/min",
                  "description" : "单位"
                },
                "description" : {
                  "type" : "string",
                  "example" : "Number of slow SQL statements",
                  "description" : "描述"
                }
              }
            },
            "description" : "支持指标名称列表"
          }
        }
      },
      "TopSqlTemplatesDetailsResp" : {
        "type" : "object",
        "required" : [ "top_sql_templates", "total_count" ],
        "properties" : {
          "top_sql_templates" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/TopSqlTemplate"
            },
            "description" : "SQL模板列表。"
          },
          "total_count" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "SQL模板总数。"
          }
        }
      },
      "TopSqlTemplate" : {
        "type" : "object",
        "required" : [ "sql_template", "sql_sample_string", "sql_type", "db_name", "execute_num", "total_cost", "avg_cost", "avg_rows_sent", "avg_rows_affected", "avg_lock_time", "total_rows_examined", "avg_rows_examined", "total_cost_ratio", "total_examined_ratio", "execute_num_ratio" ],
        "properties" : {
          "sql_template" : {
            "type" : "string",
            "description" : "SQL模板。"
          },
          "sql_sample_string" : {
            "type" : "string",
            "description" : "SQL样本。"
          },
          "sql_type" : {
            "type" : "string",
            "description" : "SQL操作类型。"
          },
          "db_name" : {
            "type" : "string",
            "description" : "数据库名称。"
          },
          "execute_num" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "总执行次数。"
          },
          "total_cost" : {
            "type" : "number",
            "format" : "double",
            "description" : "总耗时(ms)。"
          },
          "avg_cost" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均耗时(ms)。"
          },
          "avg_rows_sent" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均返回行数。"
          },
          "avg_rows_affected" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均影响行数。"
          },
          "avg_lock_time" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均锁等待耗时(ms)。"
          },
          "total_rows_examined" : {
            "type" : "number",
            "format" : "double",
            "description" : "总扫描行数。"
          },
          "avg_rows_examined" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均扫描行数。"
          },
          "total_cost_ratio" : {
            "type" : "string",
            "description" : "总耗时占比。"
          },
          "total_examined_ratio" : {
            "type" : "string",
            "description" : "扫描行数占比。"
          },
          "execute_num_ratio" : {
            "type" : "string",
            "description" : "执行次数占比。"
          }
        }
      },
      "SlowSqlTemplatesDetailsResp" : {
        "type" : "object",
        "required" : [ "slow_sql_templates", "total_count" ],
        "properties" : {
          "slow_sql_templates" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/SlowSqlTemplate"
            },
            "description" : "慢日志模板数据列表。"
          },
          "total_count" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "慢日志模板总数。"
          }
        }
      },
      "SlowSqlTemplate" : {
        "type" : "object",
        "required" : [ "sql_template", "db_names", "execute_count", "avg_execute_time", "max_execute_time", "avg_lock_wait_time", "max_lock_wait_time", "avg_rows_examined", "max_rows_examined", "avg_rows_sent", "max_rows_sent" ],
        "properties" : {
          "sql_template" : {
            "type" : "string",
            "description" : "SQL模板。"
          },
          "sql_sample" : {
            "type" : "string",
            "description" : "SQL样本。"
          },
          "sql_sample_user" : {
            "type" : "string",
            "description" : "SQL样本执行用户。"
          },
          "db_names" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "库名。"
          },
          "execute_count" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "执行次数。"
          },
          "avg_execute_time" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均执行耗时(ms)。"
          },
          "max_execute_time" : {
            "type" : "number",
            "format" : "double",
            "description" : "最大执行耗时(ms)。"
          },
          "avg_lock_wait_time" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均锁等待时间(ms)。"
          },
          "max_lock_wait_time" : {
            "type" : "number",
            "format" : "double",
            "description" : "最大锁等待时间(ms)。"
          },
          "avg_rows_examined" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均扫描行数。"
          },
          "max_rows_examined" : {
            "type" : "number",
            "format" : "double",
            "description" : "最大扫描行数。"
          },
          "avg_rows_sent" : {
            "type" : "number",
            "format" : "double",
            "description" : "平均返回行数。"
          },
          "max_rows_sent" : {
            "type" : "number",
            "format" : "double",
            "description" : "最大返回行数。"
          }
        }
      }
    },
    "securitySchemes" : { }
  },
  "paths" : {
    "/ShowApiVersion" : {
      "get" : {
        "tags" : [ "获取API版本" ],
        "summary" : "查询指定的API版本信息",
        "description" : "查询指定的API版本信息",
        "operationId" : "ShowApiVersion",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ShowApiVersionResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "version",
          "in" : "path",
          "description" : "API版本",
          "required" : true,
          "schema" : {
            "description" : "API版本",
            "type" : "string"
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowApiVersion",
      "x-url" : "{endpoint}/das/{version}"
    },
    "/ChangeChargeMode" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "设置付费模式",
        "description" : "设置付费实例",
        "operationId" : "ChangeChargeMode",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ChangePaymentModeResp"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/ChangeChargeModeBody"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ChangeChargeMode",
      "x-url" : "{endpoint}/v3/{project_id}/cloud-dba/change-payment-mode"
    },
    "/ListFullSqlTasks" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询SQL洞察任务列表",
        "description" : "全量SQL开关打开后,查询SQL洞察任务列表。该功能仅支持付费实例。",
        "operationId" : "ListFullSqlTasks",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ListFullSqlTasksResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID。",
          "required" : true,
          "schema" : {
            "description" : "实例ID。",
            "type" : "string"
          }
        }, {
          "name" : "range_left",
          "in" : "query",
          "description" : "最小任务起止时间(Unix timestamp),单位:毫秒。",
          "required" : false,
          "schema" : {
            "description" : "最小任务起止时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "range_right",
          "in" : "query",
          "description" : "最大任务起止时间(Unix timestamp),单位:毫秒。",
          "required" : false,
          "schema" : {
            "description" : "最大任务起止时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "create_at_left",
          "in" : "query",
          "description" : "最小任务创建时间(Unix timestamp),单位:毫秒。",
          "required" : false,
          "schema" : {
            "description" : "最小任务创建时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "create_at_right",
          "in" : "query",
          "description" : "最大任务创建时间(Unix timestamp),单位:毫秒。",
          "required" : false,
          "schema" : {
            "description" : "最大任务创建时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "user",
          "in" : "query",
          "description" : "用户名。",
          "required" : false,
          "schema" : {
            "description" : "用户名。",
            "type" : "string"
          }
        }, {
          "name" : "keyword",
          "in" : "query",
          "description" : "关键字。",
          "required" : false,
          "schema" : {
            "description" : "关键字。",
            "type" : "string"
          }
        }, {
          "name" : "db_name",
          "in" : "query",
          "description" : "数据库名。",
          "required" : false,
          "schema" : {
            "description" : "数据库名。",
            "type" : "string"
          }
        }, {
          "name" : "operation",
          "in" : "query",
          "description" : "操作类型。",
          "required" : false,
          "schema" : {
            "description" : "操作类型。",
            "type" : "string"
          }
        }, {
          "name" : "thread_id",
          "in" : "query",
          "description" : "线程ID。",
          "required" : false,
          "schema" : {
            "description" : "线程ID。",
            "type" : "string"
          }
        }, {
          "name" : "trx_id",
          "in" : "query",
          "description" : "事务ID。",
          "required" : false,
          "schema" : {
            "description" : "事务ID。",
            "type" : "string"
          }
        }, {
          "name" : "status",
          "in" : "query",
          "description" : "执行状态(0:成功,1:失败)。",
          "required" : false,
          "schema" : {
            "description" : "执行状态(0:成功,1:失败)。",
            "type" : "string"
          }
        }, {
          "name" : "sql_template_id",
          "in" : "query",
          "description" : "SQL模板ID。",
          "required" : false,
          "schema" : {
            "description" : "SQL模板ID。",
            "type" : "string"
          }
        }, {
          "name" : "sort_field",
          "in" : "query",
          "description" : "排序字段(create_at:任务创建时间, range_start_at,range_end_at:任务起止时间)。",
          "required" : false,
          "schema" : {
            "description" : "排序字段(create_at:任务创建时间, range_start_at,range_end_at:任务起止时间)。",
            "type" : "string",
            "default" : "create_at"
          }
        }, {
          "name" : "asc",
          "in" : "query",
          "description" : "排序顺序(true:正序, false:逆序)。",
          "required" : false,
          "schema" : {
            "description" : "排序顺序(true:正序, false:逆序)。",
            "type" : "boolean",
            "default" : false
          }
        }, {
          "name" : "page",
          "in" : "query",
          "description" : "页码。",
          "required" : false,
          "schema" : {
            "description" : "页码。",
            "type" : "integer",
            "format" : "int32",
            "default" : 1,
            "minimum" : 1
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "每页记录数。最大为100。",
          "required" : false,
          "schema" : {
            "description" : "每页记录数。最大为100。",
            "type" : "integer",
            "format" : "int32",
            "default" : 20,
            "maximum" : 100,
            "minimum" : 1
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListFullSqlTasks",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/full-sql-tasks"
    },
    "/ShowSqlSwitchStatus" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询全量SQL和慢SQL的开关状态",
        "description" : "查询DAS收集全量SQL和慢SQL的开关状态。该功能仅支持付费实例。",
        "operationId" : "ShowSqlSwitchStatus",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SwitchStatusResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID。",
          "required" : true,
          "schema" : {
            "description" : "实例ID。",
            "type" : "string"
          }
        }, {
          "name" : "type",
          "in" : "query",
          "description" : "开关类型。取值DAS SQL Explorer和DAS Slow Query Log,分别表示DAS收集全量SQL开关和DAS收集慢SQL开关。",
          "required" : true,
          "schema" : {
            "description" : "开关类型。取值DAS SQL Explorer和DAS Slow Query Log,分别表示DAS收集全量SQL开关和DAS收集慢SQL开关。",
            "type" : "string"
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型。当前全量SQL支持的数据库类型包括MySQL和GaussDB(for MySQL),慢SQL支持的类型:MySQL、GaussDB(for MySQL)、PostgreSQL。",
          "required" : true,
          "schema" : {
            "description" : "数据库类型。当前全量SQL支持的数据库类型包括MySQL和GaussDB(for MySQL),慢SQL支持的类型:MySQL、GaussDB(for MySQL)、PostgreSQL。",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowSqlSwitchStatus",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/sql/switch"
    },
    "/DeleteSqlLimitRules" : {
      "delete" : {
        "tags" : [ "云DBA" ],
        "summary" : "删除SQL限流规则",
        "description" : "删除SQL限流规则。目前仅支持MySQL和PostgreSQL数据库",
        "operationId" : "DeleteSqlLimitRules",
        "responses" : {
          "200" : {
            "description" : "Success."
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/DeleteSqlLimitRulesBody"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "delete",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "DeleteSqlLimitRules",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/sql-limit/rules"
    },
    "/ShowTuning" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "获取诊断结果",
        "description" : "获取诊断结果",
        "operationId" : "ShowTuning",
        "responses" : {
          "200" : {
            "description" : "",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/TuningResultResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "message_id",
          "in" : "path",
          "description" : "诊断messageId",
          "required" : true,
          "schema" : {
            "description" : "诊断messageId",
            "type" : "string"
          }
        }, {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目Id",
          "required" : true,
          "schema" : {
            "description" : "项目Id",
            "type" : "string"
          }
        }, {
          "name" : "connection_id",
          "in" : "path",
          "description" : "连接Id",
          "required" : true,
          "schema" : {
            "description" : "连接Id",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string"
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowTuning",
      "x-url" : "{endpoint}/v3/{project_id}/connections/{connection_id}/tuning/{message_id}/show-tuning-result"
    },
    "/DeleteDbUser" : {
      "delete" : {
        "tags" : [ "云DBA" ],
        "summary" : "删除数据库用户",
        "description" : "删除注册在DAS里的数据库用户。此接口只是将注册的数据库用户在DAS系统里删除,不会真正删除数据库用户对象。",
        "operationId" : "DeleteDbUser",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DeleteDbUserResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "db_user_id",
          "in" : "path",
          "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
          "required" : true,
          "schema" : {
            "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ]
      },
      "x-method" : "delete",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "DeleteDbUser",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/db-users/{db_user_id}"
    },
    "/CancelShareConnections" : {
      "delete" : {
        "tags" : [ "开发工具" ],
        "summary" : "删除共享链接",
        "description" : "删除共享链接,",
        "operationId" : "CancelShareConnections",
        "responses" : {
          "200" : {
            "description" : ""
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CancelShareConnectionsRequestBody"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "delete",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "CancelShareConnections",
      "x-url" : "{endpoint}/v3/{project_id}/connections/share"
    },
    "/CreateSqlLimitRules" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "创建SQL限流规则",
        "description" : "添加SQL限流规则。目前仅支持MySQL和PostgreSQL数据库。",
        "operationId" : "CreateSqlLimitRules",
        "responses" : {
          "200" : {
            "description" : "Success."
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateSqlLimitRulesBody"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "CreateSqlLimitRules",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/sql-limit/rules"
    },
    "/ListDbUsers" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询数据库用户列表",
        "description" : "查询注册在DAS里的数据库用户列表,后续调用其他接口时(如查询实例会话列表接口)需要用到此接口返回的db_user_id。此接口不会返回数据库实例上的数据库用户对象。",
        "operationId" : "ListDbUsers",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ListDbUserResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
          "required" : false,
          "schema" : {
            "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "查询记录数。默认为100,不能为负数,最小值为1,最大值为100。",
          "required" : false,
          "schema" : {
            "description" : "查询记录数。默认为100,不能为负数,最小值为1,最大值为100。",
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "db_user_id",
          "in" : "query",
          "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
          "required" : false,
          "schema" : {
            "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
            "type" : "string"
          }
        }, {
          "name" : "db_username",
          "in" : "query",
          "description" : "数据库用户名称",
          "required" : false,
          "schema" : {
            "description" : "数据库用户名称",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListDbUsers",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/db-users"
    },
    "/ShowSqlExecutionPlan" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询SQL执行计划",
        "description" : "查询SQL执行计划。",
        "operationId" : "ShowSqlExecutionPlan",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SqlExplainResp"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "db_user_id",
          "in" : "query",
          "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
          "required" : true,
          "schema" : {
            "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
            "type" : "string"
          }
        }, {
          "name" : "database",
          "in" : "query",
          "description" : "数据库名称",
          "required" : true,
          "schema" : {
            "description" : "数据库名称",
            "type" : "string"
          }
        }, {
          "name" : "sql",
          "in" : "query",
          "description" : "SQL语句",
          "required" : true,
          "schema" : {
            "description" : "SQL语句",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowSqlExecutionPlan",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/sql/explain"
    },
    "/ListSqlLimitRules" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询SQL限流规则列表",
        "description" : "查询SQL限流规则。目前仅支持MySQL和PostgreSQL数据库。",
        "operationId" : "ListSqlLimitRules",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ListSqlLimitRulesResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
          "required" : false,
          "schema" : {
            "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "查询记录数。默认为100,不能为负数,最小值为1,最大值为100。",
          "required" : false,
          "schema" : {
            "description" : "查询记录数。默认为100,不能为负数,最小值为1,最大值为100。",
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型",
          "required" : true,
          "schema" : {
            "description" : "数据库类型",
            "type" : "string",
            "enum" : [ "MySQL", "PostgreSQL" ]
          }
        }, {
          "name" : "database_name",
          "in" : "query",
          "description" : "数据库名(PostgreSQL必填)",
          "required" : false,
          "schema" : {
            "description" : "数据库名(PostgreSQL必填)",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListSqlLimitRules",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/sql-limit/rules"
    },
    "/SetThresholdForMetric" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "设置指标阈值",
        "description" : "设置指标阈值",
        "operationId" : "SetThresholdForMetric",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SetMetricThresholdResp"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/ApiSetMetricCodeThresholdReq"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "SetThresholdForMetric",
      "x-url" : "{endpoint}/v3/{project_id}/set-metric-threshold"
    },
    "/ShowQuotas" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询云DBA配额",
        "description" : "查询云DBA配额",
        "operationId" : "ShowQuotas",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/QuotasResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowQuotas",
      "x-url" : "{endpoint}/v3/{project_id}/quotas"
    },
    "/SynchronizeInstances" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "同步实例列表",
        "description" : "同步实例列表。",
        "operationId" : "SynchronizeInstances",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SynchronizeInstancesResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string",
            "maxLength" : 1024,
            "minLength" : 1
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/SynchronizeInstancesReq"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "SynchronizeInstances",
      "x-url" : "{endpoint}/v3/{project_id}/instances/synchronize-instance-list"
    },
    "/ListCloudDbaInstances" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "获取DAS云DBA实例列表",
        "description" : "获取DAS云DBA实例列表。",
        "operationId" : "ListCloudDbaInstances",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/InstanceListResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string",
            "maxLength" : 1024,
            "minLength" : 1
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型。",
          "required" : true,
          "schema" : {
            "description" : "数据库类型。",
            "type" : "string"
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
          "required" : false,
          "schema" : {
            "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
            "type" : "integer",
            "format" : "int32",
            "maximum" : 5000,
            "minimum" : 0
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "每页记录数,默认为20,最大取值200。",
          "required" : false,
          "schema" : {
            "description" : "每页记录数,默认为20,最大取值200。",
            "type" : "integer",
            "format" : "int32",
            "maximum" : 200,
            "minimum" : 0
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListCloudDbaInstances",
      "x-url" : "{endpoint}/v3/{project_id}/instances"
    },
    "/CreateInstanceConnection" : {
      "post" : {
        "tags" : [ "开发工具" ],
        "summary" : "创建实例连接",
        "description" : "创建实例连接",
        "operationId" : "CreateInstanceConnection",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/CreateInstanceConnectionResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string",
            "maxLength" : 1024,
            "minLength" : 1
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID。",
          "required" : true,
          "schema" : {
            "description" : "实例ID。",
            "type" : "string",
            "maxLength" : 1024,
            "minLength" : 1
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateInstanceConnectionReq"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "CreateInstanceConnection",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/create-connection"
    },
    "/ListProcesses" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询实例会话列表",
        "description" : "支持根据数据库、用户查询实例会话列表。",
        "operationId" : "ListProcesses",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/QueryProcessResp"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "db_user_id",
          "in" : "query",
          "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
          "required" : true,
          "schema" : {
            "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
            "type" : "string"
          }
        }, {
          "name" : "user",
          "in" : "query",
          "description" : "用户",
          "required" : false,
          "schema" : {
            "description" : "用户",
            "type" : "string"
          }
        }, {
          "name" : "database",
          "in" : "query",
          "description" : "数据库",
          "required" : false,
          "schema" : {
            "description" : "数据库",
            "type" : "string"
          }
        }, {
          "name" : "node_id",
          "in" : "query",
          "description" : "节点ID",
          "required" : false,
          "schema" : {
            "description" : "节点ID",
            "type" : "string"
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
          "required" : false,
          "schema" : {
            "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "每页记录数,默认为20,最大取值100。",
          "required" : false,
          "schema" : {
            "description" : "每页记录数,默认为20,最大取值100。",
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListProcesses",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/processes"
    },
    "/ExportFullSqlDetails" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "导出全量SQL明细",
        "description" : "全量SQL开关打开后,创建SQL洞察任务,支持按节点、用户名、数据库、操作类型等导出全量SQL明细数据。该功能仅支持付费实例。",
        "operationId" : "ExportFullSqlDetails",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ExportFullSqlDetailsResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID。",
          "required" : true,
          "schema" : {
            "description" : "实例ID。",
            "type" : "string"
          }
        }, {
          "name" : "start_at",
          "in" : "query",
          "description" : "开始时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "开始时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "end_at",
          "in" : "query",
          "description" : "结束时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "结束时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "task_ids",
          "in" : "query",
          "description" : "SQL洞察任务ID列表,时间范围大于1天的SQL洞察任务后台将拆分为多个任务解析,该场景支持多任务过滤导出。",
          "required" : false,
          "schema" : {
            "description" : "SQL洞察任务ID列表,时间范围大于1天的SQL洞察任务后台将拆分为多个任务解析,该场景支持多任务过滤导出。",
            "type" : "array",
            "items" : {
              "type" : "integer",
              "format" : "int64"
            }
          }
        }, {
          "name" : "node_id",
          "in" : "query",
          "description" : "节点ID。",
          "required" : false,
          "schema" : {
            "description" : "节点ID。",
            "type" : "string"
          }
        }, {
          "name" : "keyword",
          "in" : "query",
          "description" : "关键字(可组合,用逗号分隔)。",
          "required" : false,
          "schema" : {
            "description" : "关键字(可组合,用逗号分隔)。",
            "type" : "string"
          }
        }, {
          "name" : "fuzzy",
          "in" : "query",
          "description" : "是否模糊匹配。",
          "required" : false,
          "schema" : {
            "description" : "是否模糊匹配。",
            "type" : "string"
          }
        }, {
          "name" : "user_list",
          "in" : "query",
          "description" : "用户名(可组合,用空格分隔)。",
          "required" : false,
          "schema" : {
            "description" : "用户名(可组合,用空格分隔)。",
            "type" : "string"
          }
        }, {
          "name" : "db_list",
          "in" : "query",
          "description" : "数据库(可组合,用空格分隔)。",
          "required" : false,
          "schema" : {
            "description" : "数据库(可组合,用空格分隔)。",
            "type" : "string"
          }
        }, {
          "name" : "operation_list",
          "in" : "query",
          "description" : "操作类型(可组合,用空格分隔)。",
          "required" : false,
          "schema" : {
            "description" : "操作类型(可组合,用空格分隔)。",
            "type" : "string"
          }
        }, {
          "name" : "client_ip_list",
          "in" : "query",
          "description" : "客户端IP(可组合,用空格分隔)。",
          "required" : false,
          "schema" : {
            "description" : "客户端IP(可组合,用空格分隔)。",
            "type" : "string"
          }
        }, {
          "name" : "thread_id_list",
          "in" : "query",
          "description" : "线程ID(可组合,用空格分隔)。",
          "required" : false,
          "schema" : {
            "description" : "线程ID(可组合,用空格分隔)。",
            "type" : "string"
          }
        }, {
          "name" : "trx_id_list",
          "in" : "query",
          "description" : "事务ID(可组合,用空格分隔)。",
          "required" : false,
          "schema" : {
            "description" : "事务ID(可组合,用空格分隔)。",
            "type" : "string"
          }
        }, {
          "name" : "session_id_list",
          "in" : "query",
          "description" : "会话ID(可组合,用空格分隔)。",
          "required" : false,
          "schema" : {
            "description" : "会话ID(可组合,用空格分隔)。",
            "type" : "string"
          }
        }, {
          "name" : "status_list",
          "in" : "query",
          "description" : "执行状态(0:成功,1:失败,可组合,用空格分隔)。",
          "required" : false,
          "schema" : {
            "description" : "执行状态(0:成功,1:失败,可组合,用空格分隔)。",
            "type" : "string"
          }
        }, {
          "name" : "sql_template_ids",
          "in" : "query",
          "description" : "SQL模板ID(可组合,用空格分隔)。",
          "required" : false,
          "schema" : {
            "description" : "SQL模板ID(可组合,用空格分隔)。",
            "type" : "string"
          }
        }, {
          "name" : "cost_min",
          "in" : "query",
          "description" : "最小执行耗时(毫秒)。",
          "required" : false,
          "schema" : {
            "description" : "最小执行耗时(毫秒)。",
            "type" : "number",
            "format" : "double"
          }
        }, {
          "name" : "cost_max",
          "in" : "query",
          "description" : "最大执行耗时(毫秒)。",
          "required" : false,
          "schema" : {
            "description" : "最大执行耗时(毫秒)。",
            "type" : "number",
            "format" : "double"
          }
        }, {
          "name" : "scan_min",
          "in" : "query",
          "description" : "最小扫描行数。",
          "required" : false,
          "schema" : {
            "description" : "最小扫描行数。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "scan_max",
          "in" : "query",
          "description" : "最大扫描行数。",
          "required" : false,
          "schema" : {
            "description" : "最大扫描行数。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "affect_min",
          "in" : "query",
          "description" : "最小影响行数。",
          "required" : false,
          "schema" : {
            "description" : "最小影响行数。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "affect_max",
          "in" : "query",
          "description" : "最大影响行数。",
          "required" : false,
          "schema" : {
            "description" : "最大影响行数。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "return_min",
          "in" : "query",
          "description" : "最小返回行数。",
          "required" : false,
          "schema" : {
            "description" : "最小返回行数。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "return_max",
          "in" : "query",
          "description" : "最大返回行数。",
          "required" : false,
          "schema" : {
            "description" : "最大返回行数。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "sort_field",
          "in" : "query",
          "description" : "排序字段(execute_at:执行时间, execute_cost:执行耗时, lock_wait_time:锁等待时间, rows_examined:扫描行数, rows_returned:返回行数)。",
          "required" : false,
          "schema" : {
            "description" : "排序字段(execute_at:执行时间, execute_cost:执行耗时, lock_wait_time:锁等待时间, rows_examined:扫描行数, rows_returned:返回行数)。",
            "type" : "string",
            "default" : "execute_at"
          }
        }, {
          "name" : "asc",
          "in" : "query",
          "description" : "排序顺序(true:正序, false:逆序)。",
          "required" : false,
          "schema" : {
            "description" : "排序顺序(true:正序, false:逆序)。",
            "type" : "boolean",
            "default" : false
          }
        }, {
          "name" : "page",
          "in" : "query",
          "description" : "页码。",
          "required" : false,
          "schema" : {
            "description" : "页码。",
            "type" : "integer",
            "format" : "int32",
            "default" : 1,
            "minimum" : 1
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "每页记录数。最大为100。",
          "required" : false,
          "schema" : {
            "description" : "每页记录数。最大为100。",
            "type" : "integer",
            "format" : "int32",
            "default" : 20,
            "maximum" : 100,
            "minimum" : 1
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ExportFullSqlDetails",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/full-sql-search"
    },
    "/ListRiskItems" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询资源风险实例风险项",
        "description" : "查询资源风险实例风险项",
        "operationId" : "ListRiskItems",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/QueryRiskItems"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型",
          "required" : true,
          "schema" : {
            "description" : "数据库类型",
            "type" : "string"
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListRiskItems",
      "x-url" : "{endpoint}/v3/{project_id}/get-risk-items"
    },
    "/ChangeSqlSwitch" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "开启/关闭全量SQL、慢SQL开关",
        "description" : "打开或者关闭DAS收集全量SQL开关,开启后,实例的性能损耗在5%以内。开启全量SQL后,本服务会对SQL的文本内容进行存储,以便进行分析。用户可自行设置全量SQL的保存时间范围,到期后会自动删除;如果未设置,数据默认保留7天。",
        "operationId" : "ChangeSqlSwitch",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ChangeSqlSwitchResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/ChangeSqlSwitchBody"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ChangeSqlSwitch",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/sql/switch"
    },
    "/ListInstanceTopSlowLog" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询实例的TOP慢SQL列表",
        "description" : "查询实例的TOP慢SQL列表",
        "operationId" : "ListInstanceTopSlowLog",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/TopInstanceSlowLog"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "num",
          "in" : "query",
          "description" : "TOP数量",
          "required" : true,
          "schema" : {
            "description" : "TOP数量",
            "type" : "integer",
            "format" : "int32",
            "maximum" : 30,
            "minimum" : 1
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        }, {
          "name" : "start_at",
          "in" : "query",
          "description" : "开始时间",
          "required" : true,
          "schema" : {
            "description" : "开始时间",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "end_at",
          "in" : "query",
          "description" : "结束时间",
          "required" : true,
          "schema" : {
            "description" : "结束时间",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListInstanceTopSlowLog",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/top-slow-log"
    },
    "/ExportTopSqlTrendDetails" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "导出SQL执行耗时区间数据",
        "description" : "TopSQL开关打开后,导出SQL执行耗时区间数据。该功能仅支持付费实例。查询时间间隔最长六小时。",
        "operationId" : "ExportTopSqlTrendDetails",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/TopSqlTrendDetailsResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID。",
          "required" : true,
          "schema" : {
            "description" : "实例ID。",
            "type" : "string"
          }
        }, {
          "name" : "start_at",
          "in" : "query",
          "description" : "开始时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "开始时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "end_at",
          "in" : "query",
          "description" : "结束时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "结束时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型。支持MySQL和GaussDB(for MySQL)。",
          "required" : true,
          "schema" : {
            "description" : "数据库类型。支持MySQL和GaussDB(for MySQL)。",
            "type" : "string"
          }
        }, {
          "name" : "node_id",
          "in" : "query",
          "description" : "节点ID。",
          "required" : false,
          "schema" : {
            "description" : "节点ID。",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ExportTopSqlTrendDetails",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/top-sql-trend"
    },
    "/ChangeTransactionSwitchStatus" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "开启/关闭历史事务开关",
        "description" : "开启/关闭历史事务开关,仅支持MySQL引擎,并且依赖开启全量SQL或者慢SQL功能",
        "operationId" : "ChangeTransactionSwitchStatus",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SetTransactionSwitchResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/TransactionSwitchReq"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ChangeTransactionSwitchStatus",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/transaction/switch"
    },
    "/ShowSqlExplain" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询SQL执行计划",
        "description" : "查询SQL执行计划。",
        "operationId" : "ShowSqlExplain",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SqlExplainResp"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/QuerySqlPlanBody"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowSqlExplain",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/sql/explain"
    },
    "/CreateTuning" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "执行SQL诊断",
        "description" : "执行SQL诊断,",
        "operationId" : "CreateTuning",
        "responses" : {
          "200" : {
            "description" : "",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/CreateTuningResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "connection_id",
          "in" : "path",
          "description" : "连接ID",
          "required" : true,
          "schema" : {
            "description" : "连接ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateTuningReq"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "CreateTuning",
      "x-url" : "{endpoint}/v3/{project_id}/connections/{connection_id}/tuning/create-tuning"
    },
    "/CreateSpaceAnalysisTask" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "创建空间分析任务",
        "description" : "创建空间分析任务,如触发重新分析,支持MySQL和GaussDB(for MySQL)引擎",
        "operationId" : "CreateSpaceAnalysisTask",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/CreateSpaceAnalysisTaskResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateSpaceAnalysisTaskBody"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "CreateSpaceAnalysisTask",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/space-analysis"
    },
    "/ExportSlowSqlStatistics" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "导出慢SQL统计数据",
        "description" : "慢SQL开关打开后,导出慢SQL统计数据。",
        "operationId" : "ExportSlowSqlStatistics",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SlowSqlStatisticsResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID。",
          "required" : true,
          "schema" : {
            "description" : "实例ID。",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/ExportSlowSqlStatisticsRequestBody"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ExportSlowSqlStatistics",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/slow-sql-statistics"
    },
    "/ListInnodbLocks" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询InnoDB锁等待列表",
        "description" : "查询InnoDB锁等待列表。",
        "operationId" : "ListInnodbLocks",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/QueryInnoDBLockResp"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "db_user_id",
          "in" : "query",
          "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
          "required" : true,
          "schema" : {
            "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListInnodbLocks",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/innodb-locks"
    },
    "/ExportSqlStatements" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "导出全量SQL",
        "description" : "全量SQL开关打开后,一次性导出指定时间范围内的全量SQL数据,支持分页滚动获取。该功能仅支持付费实例。",
        "operationId" : "ExportSqlStatements",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ExportFullSqlResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID。",
          "required" : true,
          "schema" : {
            "description" : "实例ID。",
            "type" : "string"
          }
        }, {
          "name" : "start_at",
          "in" : "query",
          "description" : "开始时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "开始时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "end_at",
          "in" : "query",
          "description" : "结束时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "结束时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "每页记录数。最大为2000。",
          "required" : true,
          "schema" : {
            "description" : "每页记录数。最大为2000。",
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "marker",
          "in" : "query",
          "description" : "指定一个标识符。获取第一页时不用赋值,获取下一页时取上页查询结果的返回值。",
          "required" : false,
          "schema" : {
            "description" : "指定一个标识符。获取第一页时不用赋值,获取下一页时取上页查询结果的返回值。",
            "type" : "string"
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型。支持MySQL和GaussDB(for MySQL)。",
          "required" : true,
          "schema" : {
            "description" : "数据库类型。支持MySQL和GaussDB(for MySQL)。",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ExportSqlStatements",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/sql-statements"
    },
    "/ShowTransactionSwitchStatus" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询历史事务开关",
        "description" : "查询历史事务开关。",
        "operationId" : "ShowTransactionSwitchStatus",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/TransactionSwitchResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型。仅支持MySQL",
          "required" : true,
          "schema" : {
            "description" : "数据库类型。仅支持MySQL",
            "type" : "string",
            "enum" : [ "MySQL" ]
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowTransactionSwitchStatus",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/transaction/switch"
    },
    "/CreateShareConnections" : {
      "post" : {
        "tags" : [ "开发工具" ],
        "summary" : "设置共享链接",
        "description" : "设置共享链接,",
        "operationId" : "CreateShareConnections",
        "responses" : {
          "200" : {
            "description" : ""
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateShareConnectionsRequestBody"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "CreateShareConnections",
      "x-url" : "{endpoint}/v3/{project_id}/connections/share"
    },
    "/ListTopSlowLog" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询TOP慢SQL列表",
        "description" : "查询TOP慢SQL列表",
        "operationId" : "ListTopSlowLog",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/TopSlowLog"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "num",
          "in" : "query",
          "description" : "TOP数量",
          "required" : true,
          "schema" : {
            "description" : "TOP数量",
            "type" : "integer",
            "format" : "int32",
            "maximum" : 30,
            "minimum" : 1
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        }, {
          "name" : "start_at",
          "in" : "query",
          "description" : "开始时间",
          "required" : true,
          "schema" : {
            "description" : "开始时间",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "end_at",
          "in" : "query",
          "description" : "结束时间",
          "required" : true,
          "schema" : {
            "description" : "结束时间",
            "type" : "integer",
            "format" : "int64"
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListTopSlowLog",
      "x-url" : "{endpoint}/v3/{project_id}/instances/top-slow-log"
    },
    "/DeleteProcess" : {
      "delete" : {
        "tags" : [ "云DBA" ],
        "summary" : "查杀会话",
        "description" : "查杀会话。支持按照用户、数据库、会话列表查杀会话,三个条件至少指定一个。",
        "operationId" : "DeleteProcess",
        "responses" : {
          "200" : {
            "description" : "Success."
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/DeleteProcessReqBody"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "delete",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "DeleteProcess",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/process"
    },
    "/RegisterDbUser" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "注册数据库用户",
        "description" : "此接口是将数据库用户和密码注册进DAS系统,同时会返回一个数据库用户ID ,后续调用其他接口时(如查询实例会话列表接口)需要用到此数据库用户ID。密码为加密存储,且仅用于DAS API相关功能。此接口不会在数据库实例上创建数据库用户对象。请确保输入的用户名和密码是已经存在并且是正确的。",
        "operationId" : "RegisterDbUser",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RegisterDbUserResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/RegisterDbUserRequestBody"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "RegisterDbUser",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/db-users"
    },
    "/ExportSlowQueryLogs" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "导出慢SQL数据",
        "description" : "DAS收集慢SQL开关打开后,一次性导出指定时间范围内的慢SQL数据,支持分页滚动获取。免费实例仅支持查看最近一小时数据。",
        "operationId" : "ExportSlowQueryLogs",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ExportSlowLogsResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID。",
          "required" : true,
          "schema" : {
            "description" : "实例ID。",
            "type" : "string"
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型。支持MySQL、GaussDB(for MySQL)、PostgreSQL。",
          "required" : true,
          "schema" : {
            "description" : "数据库类型。支持MySQL、GaussDB(for MySQL)、PostgreSQL。",
            "type" : "string"
          }
        }, {
          "name" : "start_at",
          "in" : "query",
          "description" : "开始时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "开始时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "end_at",
          "in" : "query",
          "description" : "结束时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "结束时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "每页记录数。最大为2000。",
          "required" : true,
          "schema" : {
            "description" : "每页记录数。最大为2000。",
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "marker",
          "in" : "query",
          "description" : "指定一个标识符。获取第一页时不用赋值,获取下一页时取上页查询结果的返回值。",
          "required" : false,
          "schema" : {
            "description" : "指定一个标识符。获取第一页时不用赋值,获取下一页时取上页查询结果的返回值。",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ExportSlowQueryLogs",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/slow-query-logs"
    },
    "/ShowDbUser" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询数据库用户信息",
        "description" : "查询注册在DAS里的数据库用户信息。此接口不能查询数据库实例上的数据库用户对象。",
        "operationId" : "ShowDbUser",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ShowDbUserResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "db_user_id",
          "in" : "path",
          "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
          "required" : true,
          "schema" : {
            "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowDbUser",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/db-users/{db_user_id}"
    },
    "/ListSpaceAnalysis" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "获取空间分析数据列表",
        "description" : "获取空间分析数据列表。实例级别数据来源于文件系统,库级别和表级别数据来源于information_schema.tables表。空间&元数据分析最多分析10000张表,若缺少库表空间数据,可能是因为数据库实例表个数过多或者账号未保存密码。如果为保存密码,请使用用户管理接口或页面录入数据库账号。 支持MySQL、GaussDB(for MySQL)和SQLServer引擎。",
        "operationId" : "ListSpaceAnalysis",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ListSpaceAnalysisResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string"
          }
        }, {
          "name" : "object_type",
          "in" : "query",
          "description" : "对象类型",
          "required" : true,
          "schema" : {
            "description" : "对象类型",
            "type" : "string",
            "default" : "database",
            "enum" : [ "database", "table" ]
          }
        }, {
          "name" : "database_id",
          "in" : "query",
          "description" : "数据库ID",
          "required" : false,
          "schema" : {
            "description" : "数据库ID",
            "type" : "string"
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。offset必须是limit的整数倍。",
          "required" : false,
          "schema" : {
            "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。offset必须是limit的整数倍。",
            "type" : "string",
            "default" : "0"
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "查询记录数。默认为100,不能为负数,最小值为1,最大值为100。",
          "required" : false,
          "schema" : {
            "description" : "查询记录数。默认为100,不能为负数,最小值为1,最大值为100。",
            "type" : "string",
            "default" : "100"
          }
        }, {
          "name" : "show_instance_info",
          "in" : "query",
          "description" : "是否返回实例级别数据,取值:true或者false",
          "required" : false,
          "schema" : {
            "description" : "是否返回实例级别数据,取值:true或者false",
            "type" : "string",
            "default" : "true"
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "引擎类型",
          "required" : true,
          "schema" : {
            "description" : "引擎类型",
            "type" : "string",
            "enum" : [ "MySQL", "GaussDB(for MySQL)", "SQLServer" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListSpaceAnalysis",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/space-analysis"
    },
    "/ExportSlowSqlTrendDetails" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "导出慢SQL数量趋势",
        "description" : "慢SQL开关打开后,导出慢SQL数量趋势。免费实例仅支持查看最近一小时数据。查询时间间隔最长一天。",
        "operationId" : "ExportSlowSqlTrendDetails",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SlowSqlTrendDetailsResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID。",
          "required" : true,
          "schema" : {
            "description" : "实例ID。",
            "type" : "string"
          }
        }, {
          "name" : "start_at",
          "in" : "query",
          "description" : "开始时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "开始时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "end_at",
          "in" : "query",
          "description" : "结束时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "结束时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型。支持MySQL和GaussDB(for MySQL)。",
          "required" : true,
          "schema" : {
            "description" : "数据库类型。支持MySQL和GaussDB(for MySQL)。",
            "type" : "string"
          }
        }, {
          "name" : "node_id",
          "in" : "query",
          "description" : "节点ID。",
          "required" : false,
          "schema" : {
            "description" : "节点ID。",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
          "required" : false,
          "schema" : {
            "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "每页记录数,默认为20,最大取值100。",
          "required" : false,
          "schema" : {
            "description" : "每页记录数,默认为20,最大取值100。",
            "type" : "integer",
            "format" : "int32"
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ExportSlowSqlTrendDetails",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/slow-sql-trend"
    },
    "/ParseSqlLimitRules" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "根据原始SQL生成SQL限流关键字",
        "description" : "根据原始SQL生成SQL限流关键字,目前支持MySQL、MariaDB、GaussDB(for MySQL)三种引擎。",
        "operationId" : "ParseSqlLimitRules",
        "responses" : {
          "200" : {
            "description" : "生成SQL限流关键字返回",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ParseSqlLimitingRuleResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/ParseSqlLimitRulesReq"
              }
            }
          },
          "required" : false
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ParseSqlLimitRules",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/sql-limit/parse"
    },
    "/ListInstanceMultiNodesSingleMetric" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "获取多节点单指标数据",
        "description" : "获取多节点单指标数据",
        "operationId" : "ListInstanceMultiNodesSingleMetric",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/MultiNodesSingleMetric"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/ListInstanceMultiNodesSingleMetric"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListInstanceMultiNodesSingleMetric",
      "x-url" : "{endpoint}/v3/{project_id}/multi-nodes/single-metric"
    },
    "/ListMetadataLocks" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询元数据锁列表",
        "description" : "查询元数据锁列表。",
        "operationId" : "ListMetadataLocks",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/QueryMetadataLockResp"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "db_user_id",
          "in" : "query",
          "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
          "required" : true,
          "schema" : {
            "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
            "type" : "string"
          }
        }, {
          "name" : "thread_id",
          "in" : "query",
          "description" : "会话ID",
          "required" : false,
          "schema" : {
            "description" : "会话ID",
            "type" : "string"
          }
        }, {
          "name" : "database",
          "in" : "query",
          "description" : "数据库名称",
          "required" : false,
          "schema" : {
            "description" : "数据库名称",
            "type" : "string"
          }
        }, {
          "name" : "table",
          "in" : "query",
          "description" : "表名",
          "required" : false,
          "schema" : {
            "description" : "表名",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListMetadataLocks",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/metadata-locks"
    },
    "/ListRiskTrend" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询资源风险实例风险趋势",
        "description" : "查询资源风险实例风险趋势",
        "operationId" : "ListRiskTrend",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/QueryRiskTrend"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型",
          "required" : true,
          "schema" : {
            "description" : "数据库类型",
            "type" : "string"
          }
        }, {
          "name" : "start_at",
          "in" : "query",
          "description" : "开始时间",
          "required" : true,
          "schema" : {
            "description" : "开始时间",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "end_at",
          "in" : "query",
          "description" : "结束时间",
          "required" : true,
          "schema" : {
            "description" : "结束时间",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "metric_code",
          "in" : "query",
          "description" : "指标码",
          "required" : true,
          "schema" : {
            "description" : "指标码",
            "type" : "string"
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListRiskTrend",
      "x-url" : "{endpoint}/v3/{project_id}/instances/risk-trend"
    },
    "/UpdateDbUser" : {
      "put" : {
        "tags" : [ "云DBA" ],
        "summary" : "修改数据库用户",
        "description" : "修改注册在DAS里的数据库用户名和密码。此接口不会修改数据库实例上的数据库用户对象的用户名和密码。请确保输入的用户名和密码是已经存在并且是正确的。",
        "operationId" : "UpdateDbUser",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/UpdateDbUserResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "db_user_id",
          "in" : "path",
          "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
          "required" : true,
          "schema" : {
            "description" : "数据库用户ID。用户使用数据库账号与数据库建立的连接ID(数据库用户ID由注册数据库用户接口创建)。",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpdateDbUserRequestBody"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "put",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "UpdateDbUser",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/db-users/{db_user_id}"
    },
    "/ListHealthReportTask" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询实例健康诊断报告列表",
        "description" : "查询实例健康诊断报告列表。",
        "operationId" : "ListHealthReportTask",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/HealthReportTaskListResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string",
            "maxLength" : 1024,
            "minLength" : 1
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID。",
          "required" : true,
          "schema" : {
            "description" : "实例ID。",
            "type" : "string",
            "maxLength" : 1024,
            "minLength" : 1
          }
        }, {
          "name" : "start_at",
          "in" : "query",
          "description" : "开始时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "开始时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "end_at",
          "in" : "query",
          "description" : "结束时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "结束时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
          "required" : false,
          "schema" : {
            "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
            "type" : "integer",
            "format" : "int32",
            "maximum" : 5000,
            "minimum" : 0
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "每页记录数,默认为10,最大取值200。",
          "required" : false,
          "schema" : {
            "description" : "每页记录数,默认为10,最大取值200。",
            "type" : "integer",
            "format" : "int32",
            "maximum" : 200,
            "minimum" : 0
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListHealthReportTask",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/get-instance-health-report-task-list"
    },
    "/ShowSqlLimitJobInfo" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询SQL限流任务",
        "description" : "查询指定ID的SQL限流任务信息",
        "operationId" : "ShowSqlLimitJobInfo",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SqlLimitJobResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        }, {
          "name" : "job_id",
          "in" : "query",
          "description" : "SQL限流任务ID",
          "required" : true,
          "schema" : {
            "description" : "SQL限流任务ID",
            "type" : "string"
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowSqlLimitJobInfo",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/sql-limit/job"
    },
    "/ExportTopRiskInstances" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "导出TOP风险实例列表",
        "description" : "导出TOP风险实例列表,支持查看最近24小时数据。",
        "operationId" : "ExportTopRiskInstances",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/TopRiskResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string",
            "maxLength" : 1024,
            "minLength" : 1
          }
        }, {
          "name" : "start_at",
          "in" : "query",
          "description" : "开始时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "开始时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "end_at",
          "in" : "query",
          "description" : "结束时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "结束时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型。",
          "required" : true,
          "schema" : {
            "description" : "数据库类型。",
            "type" : "string"
          }
        }, {
          "name" : "num",
          "in" : "query",
          "description" : "返回TOP风险实例数量。",
          "required" : false,
          "schema" : {
            "description" : "返回TOP风险实例数量。",
            "type" : "integer",
            "enum" : [ 10, 20, 30 ]
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        }, {
          "name" : "metric_code",
          "in" : "query",
          "description" : "指标码",
          "required" : false,
          "schema" : {
            "description" : "指标码",
            "type" : "string"
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ExportTopRiskInstances",
      "x-url" : "{endpoint}/v3/{project_id}/instances/top-risk"
    },
    "/AddFullSqlTask" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "创建全量SQL明细解析任务",
        "description" : "创建全量SQL明细解析任务",
        "operationId" : "AddFullSqlTask",
        "responses" : {
          "200" : {
            "description" : "任务ID",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/AddFullSqlTaskResp"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/AddFullSqlTaskBody"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "AddFullSqlTask",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/full-sql/add-task"
    },
    "/ListInstanceDistribution" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询实例分布情况",
        "description" : "查询实例分布情况",
        "operationId" : "ListInstanceDistribution",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/InstanceEngineDistributionList"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型",
          "required" : false,
          "schema" : {
            "description" : "数据库类型",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListInstanceDistribution",
      "x-url" : "{endpoint}/v3/{project_id}/instances/distribution"
    },
    "/ShowInstanceHealthReport" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "获取实例健康诊断报告内容",
        "description" : "获取实例健康诊断报告内容。",
        "operationId" : "ShowInstanceHealthReport",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/InstanceHealthReportResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string",
            "maxLength" : 1024,
            "minLength" : 1
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID。",
          "required" : true,
          "schema" : {
            "description" : "实例ID。",
            "type" : "string",
            "maxLength" : 1024,
            "minLength" : 1
          }
        }, {
          "name" : "task_id",
          "in" : "query",
          "description" : "任务ID。",
          "required" : true,
          "schema" : {
            "description" : "任务ID。",
            "type" : "string",
            "maxLength" : 1024,
            "minLength" : 1
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowInstanceHealthReport",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/get-instance-health-report"
    },
    "/ShowSqlLimitSwitchStatus" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查看SQL限流开关状态",
        "description" : "查询SQL限流的开关状态。目前仅支持MySQL实例",
        "operationId" : "ShowSqlLimitSwitchStatus",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SqlLimitSwitchStatusResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型",
          "required" : true,
          "schema" : {
            "description" : "数据库类型",
            "type" : "string",
            "enum" : [ "MySQL", "PostgreSQL" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowSqlLimitSwitchStatus",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/sql-limit/switch"
    },
    "/ListApiVersions" : {
      "get" : {
        "tags" : [ "获取API版本" ],
        "summary" : "查询API版本列表",
        "description" : "查询API版本列表",
        "operationId" : "ListApiVersions",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ListApiVersionResp"
                }
              }
            }
          }
        }
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListApiVersions",
      "x-url" : "{endpoint}/das"
    },
    "/ListTransactions" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "查询历史事务列表",
        "description" : "查询历史事务列表。",
        "operationId" : "ListTransactions",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/GetTransactionListResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型。仅支持MySQL",
          "required" : true,
          "schema" : {
            "description" : "数据库类型。仅支持MySQL",
            "type" : "string",
            "enum" : [ "MySQL" ]
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        }, {
          "name" : "start_at",
          "in" : "query",
          "description" : "采集开始时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "采集开始时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "end_at",
          "in" : "query",
          "description" : "采集结束时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "采集结束时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "page_num",
          "in" : "query",
          "description" : "页数",
          "required" : false,
          "schema" : {
            "description" : "页数",
            "type" : "integer",
            "format" : "int32",
            "default" : 1
          }
        }, {
          "name" : "page_size",
          "in" : "query",
          "description" : "页大小",
          "required" : false,
          "schema" : {
            "description" : "页大小",
            "type" : "integer",
            "format" : "int32",
            "default" : 10
          }
        }, {
          "name" : "order",
          "in" : "query",
          "description" : "排序字段",
          "required" : false,
          "schema" : {
            "description" : "排序字段",
            "type" : "string",
            "default" : "collectTime",
            "enum" : [ "occurrenceTime", "lastSec", "waitLockStructCount", "holdLockStructCount", "collectTime" ]
          }
        }, {
          "name" : "order_by",
          "in" : "query",
          "description" : "升序|降序",
          "required" : false,
          "schema" : {
            "description" : "升序|降序",
            "type" : "string",
            "default" : "desc",
            "enum" : [ "asc", "desc" ]
          }
        }, {
          "name" : "last_sec_min",
          "in" : "query",
          "description" : "持续时间下限",
          "required" : false,
          "schema" : {
            "description" : "持续时间下限",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "last_sec_max",
          "in" : "query",
          "description" : "持续时间上限",
          "required" : false,
          "schema" : {
            "description" : "持续时间上限",
            "type" : "integer",
            "format" : "int64"
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListTransactions",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/transaction"
    },
    "/ChangeSqlLimitSwitchStatus" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "设置SQL限流开关状态",
        "description" : "设置SQL限流开关状态。目前仅支持MySQL数据库。",
        "operationId" : "ChangeSqlLimitSwitchStatus",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ChangeSqlLimitSwitchStatusResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/ChangeSqlLimitSwitchStatusBody"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ChangeSqlLimitSwitchStatus",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/sql-limit/switch"
    },
    "/UpdateSqlLimitRules" : {
      "put" : {
        "tags" : [ "云DBA" ],
        "summary" : "修改SQL限流规则",
        "description" : "修改SQL限流规则。目前仅支持PostgreSQL数据库",
        "operationId" : "UpdateSqlLimitRules",
        "responses" : {
          "200" : {
            "description" : "Success"
          },
          "400" : {
            "description" : "Client error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpdateSqlLimitRulesBody"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "put",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "UpdateSqlLimitRules",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/sql-limit/rules"
    },
    "/ListInstanceNodesInfo" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "获取单个实例节点信息",
        "description" : "获取单个实例节点信息",
        "operationId" : "ListInstanceNodesInfo",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/InstanceNodesInfo"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        }, {
          "name" : "instance_id",
          "in" : "query",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "description" : "实例ID",
            "type" : "string"
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型",
          "required" : true,
          "schema" : {
            "description" : "数据库类型",
            "type" : "string"
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListInstanceNodesInfo",
      "x-url" : "{endpoint}/v3/{project_id}/instance/nodes-info"
    },
    "/CreateHealthReportTask" : {
      "post" : {
        "tags" : [ "云DBA" ],
        "summary" : "创建实例健康诊断任务",
        "description" : "创建实例健康诊断任务。",
        "operationId" : "CreateHealthReportTask",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/CreateHealthReportResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string",
            "maxLength" : 1024,
            "minLength" : 1
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID。",
          "required" : true,
          "schema" : {
            "description" : "实例ID。",
            "type" : "string",
            "maxLength" : 1024,
            "minLength" : 1
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateHealthReportReq"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "CreateHealthReportTask",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/create-instance-health-report-task"
    },
    "/ListConnections" : {
      "get" : {
        "tags" : [ "开发工具" ],
        "summary" : "查询实例连接列表",
        "description" : "查询实例连接列表",
        "operationId" : "ListConnections",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ApiListConnectionsInfoResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string",
            "maxLength" : 1024,
            "minLength" : 1
          }
        }, {
          "name" : "condition",
          "in" : "query",
          "description" : "数据库实例地址/实例名称/备注等关键字",
          "required" : false,
          "schema" : {
            "description" : "数据库实例地址/实例名称/备注等关键字",
            "type" : "string",
            "maxLength" : 1024,
            "minLength" : 1
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
          "required" : false,
          "schema" : {
            "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "查询记录数。默认为100,不能为负数,最小值为1,最大值为200。",
          "required" : false,
          "schema" : {
            "description" : "查询记录数。默认为100,不能为负数,最小值为1,最大值为200。",
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "network_type",
          "in" : "query",
          "description" : "数据库来源",
          "required" : false,
          "schema" : {
            "description" : "数据库来源",
            "type" : "string",
            "enum" : [ "gaussdb", "dds", "rds", "ecs", "gemini", "ddm" ]
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库引擎。",
          "required" : false,
          "schema" : {
            "description" : "数据库引擎。",
            "type" : "string"
          }
        }, {
          "name" : "connection_type",
          "in" : "query",
          "description" : "连接类型,NORMAL-创建的连接,SHARE-他人共享给我的连接。",
          "required" : false,
          "schema" : {
            "description" : "连接类型,NORMAL-创建的连接,SHARE-他人共享给我的连接。",
            "type" : "string",
            "enum" : [ "NORMAL", "SHARE" ]
          }
        }, {
          "name" : "instance_id",
          "in" : "query",
          "description" : "实例ID。",
          "required" : false,
          "schema" : {
            "description" : "实例ID。",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListConnections",
      "x-url" : "{endpoint}/v3/{project_id}/list-connections"
    },
    "/ShowMetricNamesSupport" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "多节点单指标支持指标信息",
        "description" : "多节点单指标支持指标信息",
        "operationId" : "ShowMetricNamesSupport",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SupportMetricNameList"
                }
              }
            }
          },
          "400" : {
            "description" : "BadRequest.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "InternalServerError.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID",
          "required" : true,
          "schema" : {
            "description" : "项目ID",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户token",
          "required" : true,
          "schema" : {
            "description" : "用户token",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "语言",
          "required" : false,
          "schema" : {
            "description" : "语言",
            "type" : "string",
            "enum" : [ "zh-cn", "en-us" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowMetricNamesSupport",
      "x-url" : "{endpoint}/v3/{project_id}/metric-names/support"
    },
    "/ExportTopSqlTemplatesDetails" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "导出TopSQL模板列表",
        "description" : "TopSQL开关打开后,导出TopSQL模板列表。该功能仅支持付费实例。查询时间间隔最长一小时。",
        "operationId" : "ExportTopSqlTemplatesDetails",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/TopSqlTemplatesDetailsResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID。",
          "required" : true,
          "schema" : {
            "description" : "实例ID。",
            "type" : "string"
          }
        }, {
          "name" : "start_at",
          "in" : "query",
          "description" : "开始时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "开始时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "end_at",
          "in" : "query",
          "description" : "结束时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "结束时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型。支持MySQL和GaussDB(for MySQL)。",
          "required" : true,
          "schema" : {
            "description" : "数据库类型。支持MySQL和GaussDB(for MySQL)。",
            "type" : "string"
          }
        }, {
          "name" : "node_id",
          "in" : "query",
          "description" : "节点ID。",
          "required" : false,
          "schema" : {
            "description" : "节点ID。",
            "type" : "string"
          }
        }, {
          "name" : "sort",
          "in" : "query",
          "description" : "排序字段(executeNum:执行次数, totalCost:总耗时, avgCost:平均耗时, totalScan: 总扫描行数, avgScan:平均扫描行数)。",
          "required" : false,
          "schema" : {
            "description" : "排序字段(executeNum:执行次数, totalCost:总耗时, avgCost:平均耗时, totalScan: 总扫描行数, avgScan:平均扫描行数)。",
            "type" : "string",
            "default" : "avgCost",
            "enum" : [ "executeNum", "totalCost", "avgCost", "totalScan", "avgScan" ]
          }
        }, {
          "name" : "asc",
          "in" : "query",
          "description" : "排序顺序(true:正序, false:逆序)。",
          "required" : false,
          "schema" : {
            "description" : "排序顺序(true:正序, false:逆序)。",
            "type" : "boolean",
            "default" : false
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
          "required" : false,
          "schema" : {
            "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "每页记录数,默认为20,最大取值100。",
          "required" : false,
          "schema" : {
            "description" : "每页记录数,默认为20,最大取值100。",
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ExportTopSqlTemplatesDetails",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/top-sql-templates"
    },
    "/ExportSlowSqlTemplatesDetails" : {
      "get" : {
        "tags" : [ "云DBA" ],
        "summary" : "导出慢SQL模板列表",
        "description" : "慢SQL开关打开后,导出慢SQL模板列表。免费实例仅支持查看最近一小时数据。查询时间间隔最长一天。",
        "operationId" : "ExportSlowSqlTemplatesDetails",
        "responses" : {
          "200" : {
            "description" : "Success.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SlowSqlTemplatesDetailsResp"
                }
              }
            }
          },
          "400" : {
            "description" : "Client error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          },
          "500" : {
            "description" : "Server error.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResp"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "name" : "project_id",
          "in" : "path",
          "description" : "项目ID。",
          "required" : true,
          "schema" : {
            "description" : "项目ID。",
            "type" : "string"
          }
        }, {
          "name" : "instance_id",
          "in" : "path",
          "description" : "实例ID。",
          "required" : true,
          "schema" : {
            "description" : "实例ID。",
            "type" : "string"
          }
        }, {
          "name" : "start_at",
          "in" : "query",
          "description" : "开始时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "开始时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "end_at",
          "in" : "query",
          "description" : "结束时间(Unix timestamp),单位:毫秒。",
          "required" : true,
          "schema" : {
            "description" : "结束时间(Unix timestamp),单位:毫秒。",
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "datastore_type",
          "in" : "query",
          "description" : "数据库类型。支持MySQL和GaussDB(for MySQL)。",
          "required" : true,
          "schema" : {
            "description" : "数据库类型。支持MySQL和GaussDB(for MySQL)。",
            "type" : "string"
          }
        }, {
          "name" : "db_name",
          "in" : "query",
          "description" : "数据库名称。",
          "required" : false,
          "schema" : {
            "description" : "数据库名称。",
            "type" : "string"
          }
        }, {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "X-Language",
          "in" : "header",
          "description" : "请求语言类型。",
          "required" : false,
          "schema" : {
            "description" : "请求语言类型。",
            "type" : "string",
            "enum" : [ "en-us", "zh-cn" ]
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
          "required" : false,
          "schema" : {
            "description" : "偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。",
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "每页记录数,默认为20,最大取值100。",
          "required" : false,
          "schema" : {
            "description" : "每页记录数,默认为20,最大取值100。",
            "type" : "integer",
            "format" : "int32"
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ExportSlowSqlTemplatesDetails",
      "x-url" : "{endpoint}/v3/{project_id}/instances/{instance_id}/slow-sql-templates"
    }
  }
}