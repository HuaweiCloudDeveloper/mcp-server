{
  "openapi" : "3.0.0",
  "info" : {
    "description" : "CloudPipeline-流水线管理--新",
    "title" : "CloudPipeline",
    "version" : "2025-06-13",
    "x-host_prefix": "cloudpipeline-ext"
  },
  "servers" : [ {
    "url" : "/"
  } ],
  "components" : {
    "parameters" : {
      "X-Auth-Token" : {
        "name" : "X-Auth-Token",
        "in" : "header",
        "description" : "用户Token。",
        "required" : true,
        "schema" : {
          "example" : "MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX...",
          "description" : "用户Token。",
          "type" : "string"
        },
        "type" : "object"
      },
      "Path-Project-Id" : {
        "name" : "project_id",
        "in" : "path",
        "description" : "项目ID",
        "required" : true,
        "schema" : {
          "description" : "项目ID",
          "type" : "string",
          "maxLength" : 32,
          "minLength" : 32
        },
        "type" : "object"
      },
      "Path-Pipeline-Run-Id" : {
        "name" : "pipeline_run_id",
        "in" : "path",
        "description" : "流水线运行实例ID",
        "required" : true,
        "schema" : {
          "description" : "流水线运行实例ID",
          "type" : "string",
          "maxLength" : 32,
          "minLength" : 32
        },
        "type" : "object"
      },
      "Path-Pipeline-Id" : {
        "name" : "pipeline_id",
        "in" : "path",
        "description" : "流水线ID",
        "required" : true,
        "schema" : {
          "example" : "8025ba36a87a4dd5af496708c2961817",
          "description" : "流水线ID",
          "type" : "string",
          "maxLength" : 32,
          "minLength" : 32
        },
        "type" : "object"
      }
    },
    "schemas" : {
      "PipelineId" : {
        "type" : "object",
        "properties" : {
          "pipeline_id" : {
            "type" : "string",
            "description" : "流水线ID"
          }
        },
        "description" : "流水线ID"
      },
      "PipelineByTemplateDTO" : {
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string",
            "description" : "流水线名称"
          },
          "description" : {
            "type" : "string",
            "description" : "流水线描述"
          },
          "is_publish" : {
            "type" : "boolean",
            "description" : "是否为变更流水线"
          },
          "sources" : {
            "type" : "array",
            "description" : "流水线源",
            "items" : {
              "$ref" : "#/components/schemas/CodeSource"
            }
          }
        }
      },
      "CodeSource" : {
        "type" : "object",
        "properties" : {
          "type" : {
            "type" : "string",
            "example" : "code",
            "description" : "流水线源类型"
          },
          "params" : {
            "description" : "源参数",
            "properties" : {
              "git_type" : {
                "type" : "string",
                "example" : "codehub",
                "description" : "代码仓类型"
              },
              "codehub_id" : {
                "type" : "string",
                "example" : 2111694089,
                "description" : "codehub代码仓ID"
              },
              "endpoint_id" : {
                "type" : "string",
                "example" : "",
                "description" : "扩展点ID"
              },
              "default_branch" : {
                "type" : "string",
                "example" : "master",
                "description" : "默认分支"
              },
              "git_url" : {
                "type" : "string",
                "example" : "https://codehub.devcloud.cn-north-7.ulanqab.huawei.com/UnionSdkcsxm-wd00001/demo.git",
                "description" : "代码仓https地址"
              },
              "ssh_git_url" : {
                "type" : "string",
                "example" : "git@codehub.devcloud.cn-north-7.ulanqab.huawei.com:UnionSdkcsxm-wd00001/demo.git",
                "description" : "代码仓ssh地址"
              },
              "web_url" : {
                "type" : "string",
                "example" : "",
                "description" : "代码仓页面地址"
              },
              "repo_name" : {
                "type" : "string",
                "example" : "demo",
                "description" : "代码仓名称"
              },
              "alias" : {
                "type" : "string",
                "example" : "",
                "description" : "代码仓别名"
              }
            }
          }
        }
      },
      "ListPipelineTemplatesQuery" : {
        "type" : "object",
        "properties" : {
          "language" : {
            "type" : "string",
            "description" : "创建模板时,用户选择的语言"
          },
          "is_system" : {
            "type" : "boolean",
            "description" : "是否系统模板"
          },
          "name" : {
            "type" : "string",
            "description" : "模板名称"
          },
          "offset" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "偏移量,表示从此偏移量开始查询,offset大于等于0,默认为0"
          },
          "limit" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "每次查询的条目数量"
          },
          "sort_key" : {
            "type" : "string",
            "description" : "用于排序的字段,非必选。取值为:name,create_time"
          },
          "sort_dir" : {
            "type" : "string",
            "description" : "排序类型,非必选。asc按排序字段升序,desc按排序字段降序"
          }
        }
      },
      "PipelineTemplateSimpleVO" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "example" : "e908740fe06e44a28f30c0f3c81b2ad5",
            "description" : "模板ID"
          },
          "name" : {
            "type" : "string",
            "example" : "Serverless-maven编译部署",
            "description" : "模板名称"
          },
          "icon" : {
            "type" : "string",
            "example" : "maven60",
            "description" : "模板图标"
          },
          "manifest_version" : {
            "type" : "string",
            "example" : 3.0,
            "description" : "流水线结构定义版本,新版默认为3.0"
          },
          "language" : {
            "type" : "string",
            "example" : "Java",
            "description" : "模板语言"
          },
          "description" : {
            "type" : "string",
            "example" : "Serverless-maven编译构建、打包部署模板",
            "description" : "模板描述"
          },
          "is_system" : {
            "type" : "boolean",
            "example" : true,
            "description" : "是否系统模板"
          },
          "region" : {
            "type" : "string",
            "example" : "Cloud Pipeline",
            "description" : "模板局点"
          },
          "domain_id" : {
            "type" : "string",
            "example" : "Cloud Pipeline",
            "description" : "模板所属租户ID"
          },
          "creator_id" : {
            "type" : "string",
            "example" : "Cloud Pipeline",
            "description" : "模板创建人ID"
          },
          "creator_name" : {
            "type" : "string",
            "example" : "Cloud Pipeline",
            "description" : "模板创建人名称"
          },
          "updater_id" : {
            "type" : "string",
            "example" : "e908740fe06e44a28f30c0f3c81b2ad5",
            "description" : "模板更新人ID"
          },
          "create_time" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1671172288000,
            "description" : "创建时间"
          },
          "update_time" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1677640980000,
            "description" : "更新时间"
          },
          "is_collect" : {
            "type" : "boolean",
            "example" : true,
            "description" : "是否收藏"
          },
          "is_show_source" : {
            "type" : "string",
            "example" : null,
            "description" : "是否展示流水线源"
          },
          "stages" : {
            "items" : {
              "properties" : {
                "name" : {
                  "type" : "string",
                  "example" : "构建和检查",
                  "description" : "阶段名称"
                },
                "sequence" : {
                  "type" : "integer",
                  "format" : "int32",
                  "example" : 0,
                  "description" : "序列号"
                }
              }
            },
            "type" : "array",
            "description" : "模板编排stages"
          }
        }
      },
      "PipelineTemplatePageResult" : {
        "type" : "object",
        "properties" : {
          "offset" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "起始偏移"
          },
          "limit" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "每页大小"
          },
          "total" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "总数"
          },
          "templates" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/PipelineTemplateSimpleVO"
            }
          }
        }
      },
      "ErrorResponse" : {
        "type" : "object",
        "properties" : {
          "error_msg" : {
            "type" : "string",
            "description" : "错误信息"
          },
          "error_code" : {
            "type" : "string",
            "description" : "错误码"
          }
        },
        "example" : {
          "error_msg" : "The format of message is error",
          "error_code" : "DEVCP.00000001"
        }
      },
      "PipelineParam" : {
        "required" : [ "name", "value", "description", "param_type", "is_static", "is_default" ],
        "properties" : {
          "name" : {
            "type" : "string",
            "description" : "流水线参数名字"
          },
          "value" : {
            "type" : "string",
            "description" : "流水线参数值"
          },
          "description" : {
            "type" : "string",
            "description" : "流水线参数描述"
          },
          "param_type" : {
            "type" : "string",
            "description" : "流水线参数类型"
          },
          "is_static" : {
            "type" : "boolean",
            "description" : "是否静态参数"
          },
          "is_default" : {
            "type" : "boolean",
            "description" : "是否默认参数"
          }
        },
        "description" : "流水线参数",
        "example" : {
          "name" : "pipeline2020",
          "value" : "cloudpipeline",
          "description" : "这是一个文本参数",
          "paramtype" : "normal",
          "is_static" : true,
          "is_default" : true
        },
        "type" : "object"
      },
      "Workflow" : {
        "required" : [ "parameter", "source", "name", "project_id", "project_name" ],
        "properties" : {
          "parameter" : {
            "type" : "array",
            "description" : "任务类型,list类型数据",
            "items" : {
              "$ref" : "#/components/schemas/PipelineParam"
            }
          },
          "source" : {
            "type" : "array",
            "description" : "源码仓,list类型数据",
            "items" : {
              "$ref" : "#/components/schemas/Source"
            }
          },
          "name" : {
            "type" : "string",
            "description" : "流水线名字"
          },
          "project_id" : {
            "type" : "string",
            "description" : "项目ID"
          },
          "project_name" : {
            "type" : "string",
            "description" : "项目名字"
          }
        },
        "example" : {
          "parameter" : [ {
            "$ref" : "#/components/schemas/PipelineParam/example"
          } ],
          "source" : [ {
            "$ref" : "#/components/schemas/Source/example"
          } ],
          "name" : "pipeline-20200316144601",
          "project_id" : "3560a08e3c5143c5bb0236e0ef910926",
          "project_name" : "CloudPipeline专用测试"
        },
        "description" : "流水线参数详情",
        "type" : "object"
      },
      "TemplateCddl" : {
        "required" : [ "flow", "states", "workflow" ],
        "properties" : {
          "flow" : {
            "type" : "object",
            "description" : "编排flow详情,描述流水线内各阶段任务的串并行关系。map类型数据,key为阶段名字,默认第一阶段initial,最后阶段为final,其余名字以'state_数字'标识。value为该阶段内任务(以'Task_数字'标识)以及后续阶段的标识。本字段为描述流水线基础编排数据之一,建议可通过流水线真实界面基于模板创建接口中获取",
            "additionalProperties" : {
              "type" : "object",
              "additionalProperties" : {
                "type" : "string"
              }
            }
          },
          "states" : {
            "type" : "object",
            "description" : "编排State详情,map类型数据。本字段为描述流水线基础编排数据之一,建议可通过流水线真实界面基于模板创建接口中获取",
            "additionalProperties" : {
              "$ref" : "#/components/schemas/TemplateState"
            }
          },
          "workflow" : {
            "type" : "object",
            "description" : "参数详情",
            "$ref" : "#/components/schemas/Workflow"
          }
        },
        "description" : "创建流水线接口入参",
        "type" : "object"
      },
      "Source" : {
        "type" : "object",
        "required" : [ "codehub_name", "branches", "scm_type", "hook_flag", "branch", "git_url", "codehub_id", "web_url", "branch_list", "init_id", "disable" ],
        "properties" : {
          "codehub_name" : {
            "type" : "string",
            "description" : "源码仓名字"
          },
          "branches" : {
            "type" : "array",
            "description" : "触发分支",
            "items" : {
              "type" : "string"
            }
          },
          "scm_type" : {
            "type" : "string",
            "description" : "源码仓来源"
          },
          "hook_flag" : {
            "type" : "boolean",
            "description" : "是否开启触发执行流水线功能"
          },
          "branch" : {
            "type" : "string",
            "description" : "触发分支"
          },
          "git_url" : {
            "type" : "string",
            "description" : "源码仓ssh地址"
          },
          "codehub_id" : {
            "type" : "string",
            "description" : "源码仓ID"
          },
          "web_url" : {
            "type" : "string",
            "description" : "源码仓首页url"
          },
          "branch_list" : {
            "type" : "array",
            "description" : "分支列表",
            "items" : {
              "type" : "string"
            }
          },
          "init_id" : {
            "type" : "string",
            "description" : "初始化ID"
          },
          "disable" : {
            "type" : "boolean",
            "description" : "是否废弃"
          }
        },
        "description" : "源码仓库参数",
        "example" : {
          "codehub_name" : "aabbccdd",
          "branches" : [ ],
          "scm_type" : "codehub",
          "hook_flag" : false,
          "branch" : "",
          "git_url" : "git@xxx/aabbccdd.git",
          "codehub_id" : "487938",
          "web_url" : "https://xxx/codehub/487938/home",
          "branch_list" : [ ],
          "init_id" : 1,
          "disable" : true
        }
      },
      "TemplateState" : {
        "required" : [ "type", "name", "module_or_template_id", "module_or_template_name", "display_name", "dsl_method", "parameters", "is_manual_execution", "job_parameter_validate", "is_show_codehub_url", "is_execute", "job_id", "job_name", "project_id", "execution_mode" ],
        "properties" : {
          "type" : {
            "type" : "string",
            "description" : "任务类型"
          },
          "name" : {
            "type" : "string",
            "description" : "任务名字"
          },
          "module_or_template_id" : {
            "type" : "string",
            "description" : "模板任务ID"
          },
          "module_or_template_name" : {
            "type" : "string",
            "description" : "模板任务名字"
          },
          "display_name" : {
            "type" : "string",
            "description" : "任务在流水线页面展示名字"
          },
          "dsl_method" : {
            "type" : "string",
            "description" : "流水线可挂载任务类型"
          },
          "parameters" : {
            "type" : "object",
            "description" : "任务参数,map类型数据",
            "additionalProperties" : {
              "type" : "object"
            }
          },
          "is_manual_execution" : {
            "type" : "boolean",
            "description" : "是否手动执行"
          },
          "job_parameter_validate" : {
            "type" : "boolean",
            "description" : "任务参数是否校验"
          },
          "is_show_codehub_url" : {
            "type" : "boolean",
            "description" : "是否显示代码仓URL"
          },
          "is_execute" : {
            "type" : "boolean",
            "description" : "是否执行"
          },
          "job_id" : {
            "type" : "string",
            "description" : "执行任务ID"
          },
          "job_name" : {
            "type" : "string",
            "description" : "执行任务名字"
          },
          "project_id" : {
            "type" : "string",
            "description" : "任务所属项目ID"
          },
          "execution_mode" : {
            "type" : "string",
            "description" : "控制阶段下任务的串并行(type是task的execution_mode值为null,type是stage的execution_mode可选parallel(并行)或者serial(串行))"
          }
        },
        "example" : {
          "type" : "task",
          "name" : "Task_2",
          "module_or_template_id" : "00012",
          "module_or_template_name" : "Maven",
          "display_name" : "默认任务",
          "dsl_method" : "buildJob",
          "parameters" : { },
          "is_manual_execution" : false,
          "job_parameter_validate" : false,
          "is_show_codehub_url" : false,
          "is_execute" : true,
          "job_id" : "00012",
          "job_name" : "Maven",
          "project_id" : "3560a08e3c5143c5bb0236e0ef910926",
          "execution_mode" : "parallel"
        },
        "description" : "子任务参数",
        "type" : "object"
      },
      "InstanceResponse" : {
        "required" : [ "task_id" ],
        "properties" : {
          "task_id" : {
            "type" : "string",
            "description" : "实例ID",
            "example" : "eafaff0bf9094d3d8456d13dddf67b40"
          }
        },
        "description" : "流水线创建响应体",
        "type" : "object"
      },
      "PipelineBuildPageResult" : {
        "required" : [ "offset", "limit", "total", "build_results", "pipeline_id" ],
        "properties" : {
          "offset" : {
            "type" : "integer",
            "description" : "偏移量,表示从此偏移量开始查询,offset大于等于0"
          },
          "limit" : {
            "type" : "integer",
            "description" : "每次查询的条目数量"
          },
          "total" : {
            "type" : "integer",
            "description" : "总条目数量"
          },
          "build_results" : {
            "type" : "array",
            "description" : "执行状况数据列表",
            "items" : {
              "$ref" : "#/components/schemas/PipelineBuildResult"
            }
          }
        },
        "example" : {
          "offset" : 0,
          "limit" : 10,
          "total" : 100,
          "build_results" : [ {
            "status" : "completed",
            "outcome" : "error",
            "pipeline_id" : "414591be22c846e0a4d813ab874293dd",
            "pipeline_name" : "pipeline-sdfsdfooo-copytesatest",
            "build_id" : "78",
            "start_time" : "2020-07-01 00:00:01",
            "end_time" : "2020-07-01 00:00:03",
            "elapse_time" : "1542"
          }, {
            "status" : "suspending",
            "outcome" : "success",
            "pipeline_id" : "ccf64a1faf9c44d4bdd31a4eacf44f01",
            "pipeline_name" : "pipeline-20200701100725",
            "build_id" : "1",
            "start_time" : "2020-07-01 10:07:51",
            "end_time" : "2020-07-01 10:07:53",
            "elapse_time" : "1268"
          } ]
        },
        "type" : "object"
      },
      "PipelineBuildResult" : {
        "required" : [ "pipeline_id", "pipeline_name", "build_id", "start_time", "end_time", "elapsed_time", "status", "outcome" ],
        "properties" : {
          "build_id" : {
            "type" : "string",
            "description" : "执行ID"
          },
          "elapse_time" : {
            "type" : "string",
            "description" : "运行耗时"
          },
          "end_time" : {
            "type" : "string",
            "description" : "执行结束时间"
          },
          "outcome" : {
            "type" : "string",
            "description" : "运行结果"
          },
          "pipeline_id" : {
            "type" : "string",
            "description" : "流水线id"
          },
          "pipeline_name" : {
            "type" : "string",
            "description" : "流水线名称"
          },
          "start_time" : {
            "type" : "string",
            "description" : "执行开始时间"
          },
          "status" : {
            "type" : "string",
            "description" : "运行状态"
          }
        },
        "example" : {
          "pipeline_id" : "26a88d0d248c43e39bf9feb1882bb2b5",
          "pipeline_name" : "流水线02",
          "build_id" : "2",
          "status" : "completed",
          "outcome" : "success",
          "start_time" : "2020-06-09 15:18:04",
          "end_time" : "2020-06-09 15:18:04",
          "elapsed_time" : "0"
        },
        "type" : "object"
      },
      "StartPipelineParameters" : {
        "type" : "object",
        "properties" : {
          "build_params" : {
            "type" : "array",
            "description" : "启动流水线时的构建参数",
            "items" : {
              "$ref" : "#/components/schemas/StartPipelineBuildParams"
            }
          }
        }
      },
      "StartPipelineBuildParams" : {
        "required" : [ "name", "value" ],
        "properties" : {
          "name" : {
            "type" : "string",
            "description" : "构建参数名"
          },
          "value" : {
            "type" : "string",
            "description" : "构建参数值,最大长度为8192"
          }
        },
        "type" : "object"
      },
      "PipelineActionResult" : {
        "required" : [ "pipeline_id", "build_id" ],
        "properties" : {
          "pipeline_id" : {
            "type" : "string",
            "description" : "流水线ID"
          },
          "build_id" : {
            "type" : "string",
            "description" : "流水线构建ID"
          }
        },
        "description" : "",
        "example" : {
          "pipeline_id" : "8ea695be977c4556bde87f28bdcc33b3",
          "build_id" : "11"
        },
        "type" : "object"
      },
      "SuccessResp" : {
        "type" : "object",
        "properties" : {
          "success" : {
            "type" : "boolean",
            "description" : "操作是否成功"
          }
        },
        "description" : "操作是否成功"
      },
      "ListPipelinesPage" : {
        "type" : "object",
        "properties" : {
          "offset" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 0,
            "description" : "起始偏移"
          },
          "limit" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 10,
            "description" : "查询大小"
          },
          "total" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 14355,
            "description" : "总数"
          },
          "pipelines" : {
            "items" : {
              "properties" : {
                "pipeline_id" : {
                  "type" : "string",
                  "example" : "6d7fcc4192b14d928dd86dcc0ab5a88f",
                  "description" : "流水线ID"
                },
                "name" : {
                  "type" : "string",
                  "example" : "git-mvn-upload-演示demo勿动",
                  "description" : "流水线名称"
                },
                "project_id" : {
                  "type" : "string",
                  "example" : "958a367001a24870a1002349e2e35914",
                  "description" : "项目ID"
                },
                "component_id" : {
                  "type" : "string",
                  "example" : "",
                  "description" : "组件ID"
                },
                "is_publish" : {
                  "type" : "boolean",
                  "example" : false,
                  "description" : "是否为变更流水线"
                },
                "is_collect" : {
                  "type" : "boolean",
                  "example" : true,
                  "description" : "是否收藏此流水线"
                },
                "manifest_version" : {
                  "type" : "string",
                  "example" : 3.0,
                  "description" : "流水线版本"
                },
                "create_time" : {
                  "type" : "integer",
                  "format" : "int64",
                  "example" : 1674893313000,
                  "description" : "创建时间"
                },
                "latest_run" : {
                  "properties" : {
                    "pipeline_id" : {
                      "type" : "string",
                      "example" : "6d7fcc4192b14d928dd86dcc0ab5a88f",
                      "description" : "流水线ID"
                    },
                    "pipeline_run_id" : {
                      "type" : "string",
                      "example" : "6fd46591ad9f46dda269af2868e27f41",
                      "description" : "流水线运行实例ID"
                    },
                    "executor_id" : {
                      "type" : "string",
                      "example" : "847a5317086c41798469d0868535943a",
                      "description" : "执行人ID"
                    },
                    "executor_name" : {
                      "type" : "string",
                      "example" : "beta环境账号",
                      "description" : "执行人名称"
                    },
                    "stage_status_list" : {
                      "items" : {
                        "properties" : {
                          "name" : {
                            "type" : "string",
                            "example" : "阶段_1",
                            "description" : "阶段名"
                          },
                          "sequence" : {
                            "type" : "integer",
                            "format" : "int32",
                            "example" : 0,
                            "description" : "序列号"
                          },
                          "status" : {
                            "type" : "string",
                            "example" : "FAILED",
                            "description" : "状态"
                          },
                          "start_time" : {
                            "type" : "string",
                            "example" : "2023-01-29 11:19:59",
                            "description" : "开始时间"
                          },
                          "end_time" : {
                            "type" : "string",
                            "example" : "2023-01-29 11:20:23",
                            "description" : "结束时间"
                          }
                        }
                      },
                      "type" : "array",
                      "description" : "阶段信息列表"
                    },
                    "status" : {
                      "type" : "string",
                      "example" : "FAILED",
                      "description" : "状态"
                    },
                    "run_number" : {
                      "type" : "integer",
                      "format" : "int32",
                      "example" : 11,
                      "description" : "运行序号"
                    },
                    "trigger_type" : {
                      "type" : "string",
                      "example" : "Manual",
                      "description" : "触发类型"
                    },
                    "build_params" : {
                      "properties" : {
                        "action" : {
                          "type" : "string",
                          "example" : null,
                          "description" : "合并请求事件类型"
                        },
                        "build_type" : {
                          "type" : "string",
                          "example" : "branch",
                          "description" : "基于分支还是tag运行"
                        },
                        "commit_id" : {
                          "type" : "string",
                          "example" : "984404f1a7cff7c0d01925dc1eaec00aacf0dcd4",
                          "description" : "代码仓提交ID"
                        },
                        "event_type" : {
                          "type" : "string",
                          "example" : "Manual",
                          "description" : "运行事件类型"
                        },
                        "merge_id" : {
                          "type" : "string",
                          "example" : null,
                          "description" : "合并请求ID"
                        },
                        "message" : {
                          "type" : "string",
                          "example" : "更新 readme2.md",
                          "description" : "代码仓提交信息"
                        },
                        "source_branch" : {
                          "type" : "string",
                          "example" : null,
                          "description" : "源分支"
                        },
                        "tag" : {
                          "type" : "string",
                          "example" : null,
                          "description" : "标签"
                        },
                        "target_branch" : {
                          "type" : "string",
                          "example" : "master",
                          "description" : "目标分支"
                        },
                        "codehub_id" : {
                          "type" : "string",
                          "example" : 2111669099,
                          "description" : "codehub仓库ID"
                        },
                        "git_url" : {
                          "type" : "string",
                          "example" : "https://codehub.devcloud.cn-north-7.ulanqab.huawei.com/0915-demo-build-lint00001/build-codecheck-example.git",
                          "description" : "代码仓https地址"
                        }
                      },
                      "description" : "构建参数"
                    },
                    "artifact_params" : {
                      "example" : null,
                      "properties" : {
                        "version" : {
                          "type" : "string",
                          "description" : "包版本"
                        },
                        "branch_filter" : {
                          "type" : "string",
                          "description" : "过滤分支"
                        },
                        "package_name" : {
                          "type" : "string",
                          "description" : "包名称"
                        },
                        "organization" : {
                          "type" : "string",
                          "description" : "docker组织"
                        }
                      },
                      "description" : "制品源参数"
                    },
                    "start_time" : {
                      "type" : "integer",
                      "format" : "int64",
                      "example" : 1674962399000,
                      "description" : "开始时间"
                    },
                    "end_time" : {
                      "type" : "integer",
                      "format" : "int64",
                      "example" : 1674962423000,
                      "description" : "结束时间"
                    }
                  },
                  "description" : "最近一次运行信息"
                }
              }
            },
            "type" : "array",
            "description" : "流水线"
          }
        },
        "description" : "查询流水线列表返回体"
      },
      "ListPipelineQuery" : {
        "type" : "object",
        "properties" : {
          "project_ids" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "项目ID列表"
          },
          "component_id" : {
            "type" : "string",
            "description" : "组件ID"
          },
          "name" : {
            "type" : "string",
            "description" : "流水线名称"
          },
          "status" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "状态"
          },
          "is_publish" : {
            "type" : "boolean",
            "description" : "是否为变更流水线"
          },
          "creator_ids" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "创建人ID列表"
          },
          "executor_ids" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "执行人ID列表"
          },
          "start_time" : {
            "type" : "string",
            "description" : "开始时间"
          },
          "end_time" : {
            "type" : "string",
            "description" : "结束时间"
          },
          "offset" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "起始偏移"
          },
          "limit" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "查询数量"
          },
          "sort_key" : {
            "type" : "string",
            "description" : "排序字段名称"
          },
          "sort_dir" : {
            "type" : "string",
            "description" : "排序规则"
          }
        },
        "description" : "查询流水线列表请求体"
      },
      "PipelineStateStatus" : {
        "required" : [ "id", "name", "type", "start_time", "end_time", "elapsed_time", "status", "outcome", "error_code", "error_msg", "children", "detail_url" ],
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "阶段或任务标识"
          },
          "name" : {
            "type" : "string",
            "description" : "阶段或任务名称"
          },
          "type" : {
            "type" : "string",
            "description" : "类别(阶段/任务)"
          },
          "start_time" : {
            "type" : "string",
            "description" : "执行开始时间"
          },
          "end_time" : {
            "type" : "string",
            "description" : "执行结束时间"
          },
          "elapsed_time" : {
            "type" : "string",
            "description" : "运行耗时"
          },
          "status" : {
            "type" : "string",
            "description" : "运行状态"
          },
          "outcome" : {
            "type" : "string",
            "description" : "运行结果"
          },
          "error_code" : {
            "type" : "string",
            "description" : "错误码"
          },
          "error_msg" : {
            "type" : "string",
            "description" : "错误信息"
          },
          "children" : {
            "type" : "array",
            "description" : "子任务运行信息(对任务来说是空的)",
            "items" : {
              "$ref" : "#/components/schemas/PipelineStateStatus"
            }
          },
          "detail_url" : {
            "type" : "string",
            "description" : "任务运行记录跳转链接"
          }
        },
        "example" : {
          "id" : "initial",
          "name" : "源代码",
          "type" : "stage",
          "status" : "completed",
          "outcome" : "success",
          "children" : [ ],
          "start_time" : "2020-06-09 15:18:04",
          "end_time" : "2020-06-09 15:18:04",
          "elapsed_time" : "0",
          "error_code" : null,
          "error_msg" : null
        },
        "type" : "object"
      },
      "PipelineParameter" : {
        "required" : [ "name", "value" ],
        "properties" : {
          "name" : {
            "type" : "string",
            "description" : "参数名称"
          },
          "value" : {
            "type" : "string",
            "description" : "参数值"
          }
        },
        "example" : {
          "name" : "serviceName",
          "value" : "pipeline-20200424154438"
        },
        "type" : "object"
      },
      "PipelineStatusDetail" : {
        "required" : [ "pipeline_id", "pipeline_name", "executor", "build_id", "start_time", "end_time", "elapsed_time", "status", "outcome", "detail_url", "parameters", "states" ],
        "properties" : {
          "pipeline_id" : {
            "type" : "string",
            "description" : "流水线ID"
          },
          "pipeline_name" : {
            "type" : "string",
            "description" : "流水线名称"
          },
          "executor" : {
            "type" : "string",
            "description" : "执行人"
          },
          "build_id" : {
            "type" : "string",
            "description" : "流水线执行ID"
          },
          "start_time" : {
            "type" : "string",
            "description" : "开始执行时间"
          },
          "end_time" : {
            "type" : "string",
            "description" : "结束执行时间"
          },
          "parameters" : {
            "type" : "array",
            "description" : "流水线参数",
            "items" : {
              "$ref" : "#/components/schemas/PipelineParameter"
            }
          },
          "states" : {
            "type" : "array",
            "description" : "流水线执行情况",
            "items" : {
              "$ref" : "#/components/schemas/PipelineStateStatus"
            }
          },
          "elapsed_time" : {
            "type" : "string",
            "description" : "执行耗时"
          },
          "status" : {
            "type" : "string",
            "description" : "流水线运行状态"
          },
          "outcome" : {
            "type" : "string",
            "description" : "流水线执行结果"
          },
          "detail_url" : {
            "type" : "string",
            "description" : "流水线详情页地址"
          }
        },
        "example" : {
          "executor" : "devcloud_devcloud_h00485561_01",
          "status" : "waiting",
          "outcome" : "error",
          "pipeline_id" : "36ec78d912d6428bbe4a3a8ed357d176",
          "pipeline_name" : "pipeline-202004241544382",
          "build_id" : "22",
          "start_time" : "2020-06-11 11:54:08",
          "end_time" : "2020-06-11 11:54:23\"",
          "elapsed_time" : "14",
          "detail_url" : "https://alpha.devcloud.inhuawei.com/pipeline/detail/36ec78d912d6428bbe4a3a8ed357d176",
          "parameters" : [ {
            "$ref" : "#/components/schemas/PipelineParameter/example"
          } ],
          "states" : [ {
            "$ref" : "#/components/schemas/PipelineStateStatus/example"
          } ]
        },
        "description" : "根据流水线ID和执行ID获取流水线运行状态信息",
        "type" : "object"
      },
      "PipelineInfoResponse" : {
        "required" : [ "pipeline_id", "pipeline_name" ],
        "properties" : {
          "pipeline_id" : {
            "type" : "string",
            "description" : "流水线ID"
          },
          "pipeline_name" : {
            "type" : "string",
            "description" : "流水线名字"
          }
        },
        "description" : "流水线基本信息",
        "example" : {
          "pipeline_id" : "8ea695be977c4556bde87f28bdcc33b3",
          "pipeline_name" : "接口测试流水线_80611"
        },
        "type" : "object"
      },
      "PipelineLatestRun" : {
        "type" : "object",
        "properties" : {
          "pipeline_id" : {
            "type" : "string",
            "example" : "bfbc13d216c344ab9905716a0c88f9c6",
            "description" : "流水线ID"
          },
          "pipeline_run_id" : {
            "type" : "string",
            "example" : "dd6dca8c68974640b9ce4fe6dbc8089f",
            "description" : "流水线运行实例ID"
          },
          "executor_id" : {
            "type" : "string",
            "example" : "847a5317086c41798469d0868535943a",
            "description" : "执行人ID"
          },
          "executor_name" : {
            "type" : "string",
            "example" : null,
            "description" : "执行人名称"
          },
          "stage_status_list" : {
            "items" : {
              "properties" : {
                "name" : {
                  "type" : "string",
                  "example" : "构建和检查",
                  "description" : "阶段名"
                },
                "sequence" : {
                  "type" : "integer",
                  "format" : "int32",
                  "example" : 0,
                  "description" : "阶段序列号"
                },
                "status" : {
                  "type" : "string",
                  "example" : "UNSELECTED",
                  "description" : "阶段状态"
                },
                "start_time" : {
                  "type" : "string",
                  "example" : null,
                  "description" : "阶段开始时间"
                },
                "end_time" : {
                  "type" : "string",
                  "example" : null,
                  "description" : "阶段结束时间"
                }
              }
            },
            "type" : "array",
            "description" : "阶段状态信息"
          },
          "status" : {
            "type" : "string",
            "example" : "FAILED",
            "description" : "流水线状态"
          },
          "run_number" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 42,
            "description" : "运行序号"
          },
          "trigger_type" : {
            "type" : "string",
            "example" : "Manual",
            "description" : "触发类型"
          },
          "build_params" : {
            "properties" : {
              "action" : {
                "type" : "string",
                "example" : null,
                "description" : "合并请求的事件类型"
              },
              "build_type" : {
                "type" : "string",
                "example" : "branch",
                "description" : "基于分支还是tag触发"
              },
              "commit_id" : {
                "type" : "string",
                "example" : "0cfeedae26b21e79cee71fea6497db329f06ea8e",
                "description" : "代码库提交ID"
              },
              "event_type" : {
                "type" : "string",
                "example" : "Manual",
                "description" : "触发的事件类型"
              },
              "merge_id" : {
                "type" : "string",
                "example" : null,
                "description" : "合并请求的ID"
              },
              "message" : {
                "type" : "string",
                "example" : "更新 file.md",
                "description" : "代码库提交信息"
              },
              "source_branch" : {
                "type" : "string",
                "example" : null,
                "description" : "合并请求的源分支"
              },
              "tag" : {
                "type" : "string",
                "example" : null,
                "description" : "标签"
              },
              "target_branch" : {
                "type" : "string",
                "example" : "master",
                "description" : "目标分支"
              },
              "codehub_id" : {
                "type" : "string",
                "example" : 2111679719,
                "description" : "codehub代码仓ID"
              },
              "git_url" : {
                "type" : "string",
                "example" : "https://codehub.devcloud.cn-north-7.ulanqab.huawei.com/CloudPipelinezycs00001/2000.git",
                "description" : "代码仓https地址"
              }
            },
            "description" : "运行构建参数"
          },
          "artifact_params" : {
            "example" : null,
            "description" : "运行制品源参数",
            "properties" : {
              "version" : {
                "type" : "string",
                "description" : "包版本"
              },
              "branch_filter" : {
                "type" : "string",
                "description" : "过滤分支"
              },
              "package_name" : {
                "type" : "string",
                "description" : "包名称"
              },
              "organization" : {
                "type" : "string",
                "description" : "docker组织信息"
              }
            }
          },
          "start_time" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1674958376000,
            "description" : "开始时间"
          },
          "end_time" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1674958429000,
            "description" : "结束时间"
          }
        },
        "description" : "流水线及其最近一次运行信息"
      },
      "ListPipelineRunsPage" : {
        "type" : "object",
        "properties" : {
          "offset" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 0,
            "description" : "起始偏移"
          },
          "limit" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 10,
            "description" : "查询大小"
          },
          "total" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 11,
            "description" : "总数"
          },
          "pipeline_runs" : {
            "items" : {
              "properties" : {
                "pipeline_id" : {
                  "type" : "string",
                  "example" : "6d7fcc4192b14d928dd86dcc0ab5a88f",
                  "description" : "流水线ID"
                },
                "pipeline_run_id" : {
                  "type" : "string",
                  "example" : "6fd46591ad9f46dda269af2868e27f41",
                  "description" : "流水线运行实例ID"
                },
                "executor_id" : {
                  "type" : "string",
                  "example" : "847a5317086c41798469d0868535943a",
                  "description" : "执行人ID"
                },
                "executor_name" : {
                  "type" : "string",
                  "example" : "beta环境账号",
                  "description" : "执行人名称"
                },
                "stage_status_list" : {
                  "items" : {
                    "properties" : {
                      "name" : {
                        "type" : "string",
                        "example" : "阶段_1",
                        "description" : "阶段名称"
                      },
                      "sequence" : {
                        "type" : "integer",
                        "format" : "int32",
                        "example" : 0,
                        "description" : "序列号"
                      },
                      "status" : {
                        "type" : "string",
                        "example" : "FAILED",
                        "description" : "状态"
                      },
                      "start_time" : {
                        "type" : "string",
                        "example" : null,
                        "description" : "开始时间"
                      },
                      "end_time" : {
                        "type" : "string",
                        "example" : null,
                        "description" : "结束时间"
                      }
                    }
                  },
                  "type" : "array",
                  "description" : "阶段信息"
                },
                "status" : {
                  "type" : "string",
                  "example" : "FAILED",
                  "description" : "状态"
                },
                "run_number" : {
                  "type" : "integer",
                  "format" : "int32",
                  "example" : 11,
                  "description" : "运行序号"
                },
                "trigger_type" : {
                  "type" : "string",
                  "example" : "Manual",
                  "description" : "触发类型"
                },
                "build_params" : {
                  "properties" : {
                    "action" : {
                      "type" : "string",
                      "example" : null,
                      "description" : "合并请求事件类型"
                    },
                    "build_type" : {
                      "type" : "string",
                      "example" : "branch",
                      "description" : "基于分支还是tag触发"
                    },
                    "commit_id" : {
                      "type" : "string",
                      "example" : "984404f1a7cff7c0d01925dc1eaec00aacf0dcd4",
                      "description" : "代码仓提交ID"
                    },
                    "event_type" : {
                      "type" : "string",
                      "example" : "Manual",
                      "description" : "运行事件类型"
                    },
                    "merge_id" : {
                      "type" : "string",
                      "example" : null,
                      "description" : "合并请求ID"
                    },
                    "message" : {
                      "type" : "string",
                      "example" : "更新 readme2.md",
                      "description" : "代码仓提交信息"
                    },
                    "source_branch" : {
                      "type" : "string",
                      "example" : null,
                      "description" : "源分支"
                    },
                    "tag" : {
                      "type" : "string",
                      "example" : null,
                      "description" : "标签"
                    },
                    "target_branch" : {
                      "type" : "string",
                      "example" : "master",
                      "description" : "目标分支"
                    },
                    "codehub_id" : {
                      "type" : "string",
                      "example" : 2111669099,
                      "description" : "codehub代码仓ID"
                    },
                    "git_url" : {
                      "type" : "string",
                      "example" : "https://codehub.devcloud.cn-north-7.ulanqab.huawei.com/0915-demo-build-lint00001/build-codecheck-example.git",
                      "description" : "代码仓https地址"
                    }
                  },
                  "description" : "构建参数"
                },
                "artifact_params" : {
                  "example" : null,
                  "description" : "制品源参数",
                  "properties" : {
                    "version" : {
                      "type" : "string",
                      "description" : "包版本"
                    },
                    "branch_filter" : {
                      "type" : "string",
                      "description" : "过滤分支"
                    },
                    "package_name" : {
                      "type" : "string",
                      "description" : "包名称"
                    },
                    "organization" : {
                      "type" : "string",
                      "description" : "docker组织"
                    }
                  }
                },
                "start_time" : {
                  "type" : "integer",
                  "format" : "int64",
                  "example" : 1674962399000,
                  "description" : "开始时间"
                },
                "end_time" : {
                  "type" : "integer",
                  "format" : "int64",
                  "example" : 1674962423000,
                  "description" : "结束时间"
                }
              }
            },
            "type" : "array",
            "description" : "流水线运行信息"
          }
        },
        "description" : "查询流水线运行历史列表返回体"
      },
      "ListPipelineRunsQuery" : {
        "type" : "object",
        "properties" : {
          "status" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "状态"
          },
          "start_time" : {
            "type" : "string",
            "description" : "开始时间"
          },
          "end_time" : {
            "type" : "string",
            "description" : "结束时间"
          },
          "offset" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "起始偏移"
          },
          "limit" : {
            "type" : "integer",
            "format" : "int64",
            "description" : "查询大小"
          },
          "sort_key" : {
            "type" : "string",
            "description" : "排序字段名称"
          },
          "sort_dir" : {
            "type" : "string",
            "description" : "排序规则"
          }
        },
        "description" : "查询流水线运行历史请求体"
      },
      "InstanceStatus" : {
        "required" : [ "task_id", "task_status", "pipeline_id", "pipeline_name", "pipeline_url" ],
        "properties" : {
          "task_id" : {
            "type" : "string",
            "description" : "实例ID"
          },
          "task_status" : {
            "type" : "string",
            "description" : "实例创建状态,取值和含义:initializing:初始化中;processing:处理中;finished:已完成;succeeded:成功"
          },
          "pipeline_id" : {
            "type" : "string",
            "description" : "流水线ID"
          },
          "pipeline_name" : {
            "type" : "string",
            "description" : "流水线名字"
          },
          "pipeline_url" : {
            "type" : "string",
            "description" : "流水线详情页面url"
          }
        },
        "description" : "流水线创建状态响应体",
        "example" : {
          "task_id" : "eafaff0bf9094d3d8456d13dddf67b40",
          "task_status" : "succeeded",
          "pipeline_id" : "4f73c81f5d98455eab7a2fda2f3d2434",
          "pipeline_name" : "pipeline-20200316144601",
          "pipeline_url" : "https://xxx/3560a08e3c5143c5bb0236e0ef910926/pipeline/detail/4f73c81f5d98455eab7a2fda2f3d2434"
        },
        "type" : "object"
      },
      "Stages" : {
        "required" : [ "result", "status", "name", "parameters", "order", "dsl_method", "display_name" ],
        "properties" : {
          "result" : {
            "type" : "string",
            "description" : "阶段执行结果。取值及含义:success:成功;error:失败;aborted:终止"
          },
          "status" : {
            "type" : "string",
            "description" : "阶段执行状态。取值和含义:waiting:等待;running:执行中;verifying:待审核;suspending:挂起;completed:完成"
          },
          "name" : {
            "type" : "string",
            "description" : "阶段名字"
          },
          "parameters" : {
            "type" : "object",
            "description" : "-"
          },
          "order" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "阶段顺序"
          },
          "dsl_method" : {
            "type" : "string",
            "description" : "阶段类型"
          },
          "display_name" : {
            "type" : "string",
            "description" : "阶段显示名称"
          }
        },
        "description" : "流水线阶段执行信息",
        "example" : {
          "result" : "success",
          "status" : "completed",
          "name" : "initial",
          "parameters" : {
            "display" : "hidden"
          },
          "order" : 1,
          "dsl_method" : "initial",
          "display_name" : "源代码"
        },
        "type" : "object"
      },
      "PipelineExecuteStates" : {
        "required" : [ "result", "status", "stages", "executor", "pipeline_name", "pipeline_id", "build_id", "detail_url", "modify_url", "start_time", "end_time" ],
        "properties" : {
          "result" : {
            "type" : "string",
            "description" : "流水线执行结果。取值及含义:success:成功;error:失败;aborted:终止"
          },
          "status" : {
            "type" : "string",
            "description" : "流水线执行状态.取值和含义:waiting:等待;running:执行中;verifying:待审核;suspending:挂起;completed:完成"
          },
          "stages" : {
            "type" : "array",
            "description" : "阶段执行情况",
            "items" : {
              "$ref" : "#/components/schemas/Stages"
            }
          },
          "executor" : {
            "type" : "string",
            "description" : "执行人"
          },
          "pipeline_name" : {
            "type" : "string",
            "description" : "流水线名字"
          },
          "pipeline_id" : {
            "type" : "string",
            "description" : "流水线ID"
          },
          "build_id" : {
            "type" : "string",
            "description" : "流水线执行ID"
          },
          "detail_url" : {
            "type" : "string",
            "description" : "流水线详情页URL"
          },
          "modify_url" : {
            "type" : "string",
            "description" : "流水线编辑页URL"
          },
          "start_time" : {
            "type" : "string",
            "description" : "开始执行时间"
          },
          "end_time" : {
            "type" : "string",
            "description" : "结束执行时间"
          }
        },
        "description" : "流水线执行结果",
        "example" : {
          "result" : "error",
          "status" : "completed",
          "stages" : [ {
            "result" : null,
            "status" : null,
            "name" : "initial",
            "parameters" : {
              "display" : "hidden"
            },
            "order" : 1,
            "dsl_method" : "initial",
            "display_name" : "源代码"
          }, {
            "result" : null,
            "status" : null,
            "name" : "state_3",
            "parameters" : null,
            "order" : 2,
            "dsl_method" : "source",
            "display_name" : "源代码"
          }, {
            "result" : null,
            "status" : null,
            "name" : "state_4",
            "parameters" : null,
            "order" : 3,
            "dsl_method" : "build",
            "display_name" : "构建"
          } ],
          "executor" : "devcloud_devcloud_h00485561_01",
          "pipeline_name" : "test",
          "pipeline_id" : "b1c0e2a948614a17af3bf077265f6e80",
          "build_id" : "1",
          "detail_url" : "https://xxx/detail/b1c0e2a948614a17af3bf077265f6e80",
          "modify_url" : "https://xxx/b1c0e2a948614a17af3bf077265f6e80",
          "start_time" : "2020-03-11 18:29:45.0",
          "end_time" : "2020-03-11 18:29:53.0"
        },
        "type" : "object"
      },
      "ListPipelineSimpleInfoRequestBody" : {
        "properties" : {
          "pipeline_name" : {
            "type" : "string",
            "description" : "流水线名字。参数存在,则进行模糊匹配"
          },
          "project_ids" : {
            "type" : "string",
            "description" : "devCloud项目ids。该参数存在,则获取对应项目下的流水线列表,逗号分隔,id个数取值[0,10];如果不存在,则获取调用方所属租户的流水线列表"
          },
          "creator_ids" : {
            "type" : "string",
            "description" : "创建人id。该参数存在,逗号分隔,id个数取值[0,10]"
          },
          "executor_ids" : {
            "type" : "string",
            "description" : "执行人id。该参数存在,逗号分隔,id个数取值[0,10];"
          },
          "status" : {
            "type" : "string",
            "description" : "流水线运行状态。取值范围:waiting,running,verifying,handling,suspending,completed"
          },
          "outcome" : {
            "type" : "string",
            "description" : "流水线结果,标记流水线。error、success、aborted"
          },
          "sort_key" : {
            "type" : "string",
            "description" : "用于排序的字段。取值为:pipeline_name,create_time,start_time"
          },
          "sort_dir" : {
            "type" : "string",
            "description" : "排序类型。asc按排序字段升序,desc按排序字段降序"
          },
          "git_url" : {
            "type" : "string",
            "description" : "codehub搜索链接:git@codehub.XXX.git;gitee搜索链接:git@gitee.com.XXX.git;github搜索链接:git@github.com.XXX.git等"
          },
          "offset" : {
            "type" : "integer",
            "description" : "偏移量。表示从此偏移量开始查询,offset大于等于0,默认取值为0"
          },
          "limit" : {
            "type" : "integer",
            "description" : "每次查询的条目数量。取值[10-50],默认取值为10"
          }
        },
        "description" : "查询流水线信息对象",
        "example" : {
          "pipeline_name" : "XXX",
          "project_ids" : "XXX",
          "creator_ids" : "XXX",
          "executor_ids" : "XXX",
          "status" : "completed",
          "outcome" : "success",
          "sort_key" : "create_time",
          "sort_dir" : "asc",
          "git_url" : "ssh://git@XXX.git",
          "offset" : 0,
          "limit" : 10
        },
        "type" : "object"
      },
      "PipelinePageResult" : {
        "required" : [ "offset", "limit", "total", "result" ],
        "properties" : {
          "offset" : {
            "type" : "integer",
            "description" : "偏移量,表示从此偏移量开始查询,offset大于等于0"
          },
          "limit" : {
            "type" : "integer",
            "description" : "每次查询的条目数量"
          },
          "total" : {
            "type" : "integer",
            "description" : "总条目数量"
          },
          "result" : {
            "type" : "array",
            "description" : "执行状况数据列表",
            "items" : {
              "$ref" : "#/components/schemas/PipelineBasicInfo"
            }
          }
        },
        "example" : {
          "offset" : 0,
          "limit" : 10,
          "total" : 100,
          "result" : [ {
            "watched" : "true",
            "project_id" : "XXX",
            "project_name" : "XXX",
            "pipeline_id" : "XXX",
            "pipeline_name" : "XXX",
            "creator_id" : "XXX",
            "creator_name" : "XXX",
            "executor_id" : "XXX",
            "executor_name" : "XXX",
            "start_time" : "2020-10-16 10:28:16",
            "create_time" : "2020-10-15 17:12:11"
          }, {
            "watched" : "false",
            "project_id" : "XXX",
            "project_name" : "XXX",
            "pipeline_id" : "XXX",
            "pipeline_name" : "XXX",
            "creator_id" : "XXX",
            "creator_name" : "XXX",
            "executor_id" : "XXX",
            "executor_name" : "XXX",
            "start_time" : "2020-10-15 15:02:30",
            "create_time" : "2020-10-15 14:08:11"
          } ]
        },
        "type" : "object"
      },
      "PipelineBasicInfo" : {
        "required" : [ "project_id", "project_name", "pipeline_id", "pipeline_name", "creator_id", "creator_name", "executor_id", "executor_name", "start_time", "create_time", "watched" ],
        "properties" : {
          "project_id" : {
            "type" : "string",
            "description" : "devCloud项目id"
          },
          "project_name" : {
            "type" : "string",
            "description" : "devCloud项目名字"
          },
          "pipeline_id" : {
            "type" : "string",
            "description" : "流水线id"
          },
          "pipeline_name" : {
            "type" : "string",
            "description" : "流水线名字"
          },
          "creator_id" : {
            "type" : "string",
            "description" : "流水线创建人id"
          },
          "creator_name" : {
            "type" : "string",
            "description" : "流水线创建人名字"
          },
          "executor_id" : {
            "type" : "string",
            "description" : "流水线创建人id"
          },
          "executor_name" : {
            "type" : "string",
            "description" : "流水线执行人名字"
          },
          "start_time" : {
            "type" : "string",
            "description" : "启动时间"
          },
          "create_time" : {
            "type" : "string",
            "description" : "创建时间"
          },
          "watched" : {
            "type" : "string",
            "description" : "用户是否关注流水线:true(关注),false(未关注)"
          }
        },
        "example" : "project_id :'XXX' project_name :'XXX' pipeline_id :'XXX' pipeline_name :'XXX' creator_id :'XXX' creator_name :'XXX' executor_id :'XXX' executor_name :'XXX' start_time :'2020-10-15 14:08:11' create_time :'2020-10-15 14:08:11' watched :'true'",
        "type" : "object"
      },
      "TemplateParam" : {
        "required" : [ "required", "visible", "name", "value", "description", "paramtype", "display_type", "display_name", "is_static", "is_default", "limits", "constraints" ],
        "properties" : {
          "required" : {
            "type" : "string",
            "description" : "是否必须"
          },
          "visible" : {
            "type" : "string",
            "description" : "是否可见"
          },
          "name" : {
            "type" : "string",
            "description" : "流水线参数名字"
          },
          "value" : {
            "type" : "string",
            "description" : "流水线参数值"
          },
          "description" : {
            "type" : "string",
            "description" : "流水线参数描述"
          },
          "paramtype" : {
            "type" : "string",
            "description" : "流水线参数类型"
          },
          "display_type" : {
            "type" : "string",
            "description" : "流水线参数展示类型"
          },
          "display_name" : {
            "type" : "string",
            "description" : "流水线参数展示名字"
          },
          "is_static" : {
            "type" : "boolean",
            "description" : "是否静态参数"
          },
          "is_default" : {
            "type" : "boolean",
            "description" : "是否默认参数"
          },
          "limits" : {
            "type" : "array",
            "description" : "array类型数据",
            "items" : {
              "$ref" : "#/components/schemas/ParamTypeLimits"
            }
          },
          "constraints" : {
            "type" : "array",
            "description" : "array类型数据",
            "items" : {
              "$ref" : "#/components/schemas/Constraint"
            }
          }
        },
        "description" : "流水线参数",
        "example" : {
          "required" : true,
          "visible" : true,
          "name" : "service_port",
          "value" : "",
          "description" : "在这里输入服务端口",
          "paramtype" : "String",
          "display_type" : "text",
          "display_name" : "service_port",
          "is_static" : false,
          "is_default" : false,
          "limits" : [ {
            "$ref" : "#/components/schemas/ParamTypeLimits/example"
          } ],
          "constraints" : [ {
            "$ref" : "#/components/schemas/Constraint/example"
          } ]
        },
        "type" : "object"
      },
      "Constraint" : {
        "required" : [ "type", "value", "errormsg" ],
        "properties" : {
          "type" : {
            "type" : "string",
            "description" : "校验规则类型"
          },
          "value" : {
            "type" : "string",
            "description" : "校验规则"
          },
          "errormsg" : {
            "type" : "string",
            "description" : "校验失败描述"
          }
        },
        "description" : "任务参数校验参数",
        "example" : {
          "value" : "^(?![\\s\\S]*(\\{[\\{#%]))[\\s\\S]*$",
          "type" : "regex",
          "errormsg" : "参数值不能为空,且不支持<,>,{{,}}和\\\\(1-2000个字符)"
        },
        "type" : "object"
      },
      "TemplateView" : {
        "required" : [ "template_id", "template_name", "template_type", "template_url", "user_id", "user_name", "domain_id", "domain_name", "is_build_in", "region", "project_id", "project_name", "create_time", "last_modify_time", "is_watch", "description", "parameter", "flow", "states", "can_update", "can_delete", "need_hub" ],
        "properties" : {
          "template_id" : {
            "type" : "string",
            "description" : "模板ID"
          },
          "template_name" : {
            "type" : "string",
            "description" : "模板名字"
          },
          "template_type" : {
            "type" : "string",
            "description" : "模板类型"
          },
          "template_url" : {
            "type" : "string",
            "description" : "模板编辑URL"
          },
          "user_id" : {
            "type" : "string",
            "description" : "用户ID"
          },
          "user_name" : {
            "type" : "string",
            "description" : "用户名字"
          },
          "domain_id" : {
            "type" : "string",
            "description" : "租户ID"
          },
          "domain_name" : {
            "type" : "string",
            "description" : "租户名字"
          },
          "is_build_in" : {
            "type" : "boolean",
            "description" : "是否内置模板"
          },
          "region" : {
            "type" : "string",
            "description" : "系统模板region为Cloud Pipeline。自定义模板region为实际region"
          },
          "project_id" : {
            "type" : "string",
            "description" : "项目ID"
          },
          "project_name" : {
            "type" : "string",
            "description" : "项目名字"
          },
          "create_time" : {
            "type" : "string",
            "description" : "创建时间"
          },
          "last_modify_time" : {
            "type" : "string",
            "description" : "修改时间"
          },
          "is_watch" : {
            "type" : "boolean",
            "description" : "是否关注"
          },
          "description" : {
            "type" : "string",
            "description" : "模板描述"
          },
          "parameter" : {
            "type" : "array",
            "description" : "模板参数",
            "items" : {
              "$ref" : "#/components/schemas/TemplateParam"
            }
          },
          "flow" : {
            "type" : "object",
            "description" : "编排flow详情,描述流水线内各阶段任务的串并行关系。map类型数据,key为阶段名字,默认第一阶段initial,最后阶段为final,其余名字以'state_数字'标识。value为该阶段内任务(以'Task_数字'标识)以及后续阶段的标识。本字段为描述流水线基础编排数据之一,建议可通过流水线真实界面基于模板创建接口中获取",
            "additionalProperties" : {
              "type" : "object",
              "additionalProperties" : {
                "type" : "string"
              }
            }
          },
          "states" : {
            "type" : "object",
            "description" : "编排State详情,map类型数据。本字段为描述流水线基础编排数据之一,建议可通过流水线真实界面基于模板创建接口中获取",
            "additionalProperties" : {
              "$ref" : "#/components/schemas/TemplateState"
            }
          },
          "can_update" : {
            "type" : "boolean",
            "description" : "是否可以修改"
          },
          "can_delete" : {
            "type" : "boolean",
            "description" : "是否可以删除"
          },
          "need_hub" : {
            "type" : "boolean",
            "description" : "是否需要代码仓库"
          }
        },
        "description" : "流水线创建状态响应体",
        "example" : {
          "template_id" : "6efb0b24e2e9489eb0e53ee12904a19e",
          "template_name" : "SpringBoot应用部署",
          "template_type" : "deployMan",
          "template_url" : "https://xxx/workflow/edit/f1dc5d4081aa4f09aac716dbca803b93",
          "user_id" : "",
          "user_name" : "",
          "domain_id" : "",
          "domain_name" : "",
          "is_build_in" : true,
          "region" : "cn-north-7",
          "project_id" : null,
          "project_name" : null,
          "is_watch" : false,
          "description" : "在主机上部署springboot的jar包,并启动该服务",
          "parameter" : [ {
            "$ref" : "#/components/schemas/TemplateParam/example"
          } ],
          "flow" : null,
          "states" : null
        },
        "type" : "object"
      },
      "ParamTypeLimits" : {
        "required" : [ "disable", "name", "displayname", "id", "language" ],
        "properties" : {
          "disable" : {
            "type" : "string",
            "description" : "是否废弃"
          },
          "name" : {
            "type" : "string",
            "description" : "语言名字"
          },
          "displayname" : {
            "type" : "string",
            "description" : "语言展示名字"
          },
          "id" : {
            "type" : "string",
            "description" : "规则集ID"
          },
          "language" : {
            "type" : "string",
            "description" : "扫描语言"
          }
        },
        "description" : "CodeCheck任务语言参数",
        "example" : {
          "disable" : null,
          "name" : "C/C++",
          "displayname" : "C/C++",
          "id" : "beeb7b7eb05c4f998c6503925a4635a7",
          "language" : "cpp"
        },
        "type" : "object"
      },
      "PageView" : {
        "required" : [ "total", "page_number", "page_size", "content" ],
        "properties" : {
          "total" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "总数"
          },
          "page_number" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "页码数"
          },
          "page_size" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "每页显示数"
          },
          "content" : {
            "type" : "array",
            "description" : "模板数据,list类型数据",
            "items" : {
              "$ref" : "#/components/schemas/TemplateView"
            }
          }
        },
        "description" : "流水线参数详情",
        "example" : {
          "total" : 1,
          "page_number" : 1,
          "page_size" : 10,
          "content" : [ {
            "$ref" : "#/components/schemas/TemplateView/example"
          } ]
        },
        "type" : "object"
      },
      "PipelineTemplateVO" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "example" : "deb18013bb6c4659b160b15fd7468644",
            "description" : "模板ID"
          },
          "name" : {
            "type" : "string",
            "example" : "新建流水线模板-20230112115711",
            "description" : "模板名称"
          },
          "icon" : {
            "type" : "string",
            "example" : null,
            "description" : "模板图标"
          },
          "manifest_version" : {
            "type" : "string",
            "example" : 3.0,
            "description" : "流水线结构定义版本,新版默认为3.0"
          },
          "language" : {
            "type" : "string",
            "example" : "none",
            "description" : "模板语言"
          },
          "description" : {
            "type" : "string",
            "example" : "",
            "description" : "模板描述"
          },
          "is_system" : {
            "type" : "boolean",
            "example" : false,
            "description" : "是否系统模板"
          },
          "region" : {
            "type" : "string",
            "example" : "cn-north-5",
            "description" : "所属局点"
          },
          "domain_id" : {
            "type" : "string",
            "example" : "70ffec613024477bbaf266128bd9778d",
            "description" : "所属租户ID"
          },
          "variables" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/CustomVariable"
            },
            "description" : "使用的自定义参数"
          },
          "creator_id" : {
            "type" : "string",
            "example" : "5ffd41c9df9d4506862ce27e209bb106",
            "description" : "创建人ID"
          },
          "updater_id" : {
            "type" : "string",
            "example" : "5ffd41c9df9d4506862ce27e209bb106",
            "description" : "编辑人ID"
          },
          "create_time" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1673495851000,
            "description" : "创建日期"
          },
          "update_time" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1673495851000,
            "description" : "更新日期"
          },
          "is_collect" : {
            "type" : "string",
            "example" : null,
            "description" : "是否收藏"
          },
          "is_show_source" : {
            "type" : "boolean",
            "example" : true,
            "description" : "是否显示流水线源"
          },
          "definition" : {
            "type" : "string",
            "example" : {
              "stages" : [ {
                "name" : "阶段_1",
                "sequence" : "0",
                "jobs" : [ {
                  "stage_id" : 1673495831907,
                  "identifier" : "16734958501367554c26c-561b-4831-a906-e88316c8e674",
                  "name" : "新建任务",
                  "depends_on" : [ ],
                  "timeout" : "",
                  "timeout_unit" : "",
                  "steps" : [ ],
                  "exec_type" : "AGENTLESS_JOB",
                  "sequence" : 0
                } ],
                "identifier" : "0",
                "pre" : [ {
                  "task" : "official_devcloud_autoTrigger",
                  "sequence" : 0
                } ],
                "post" : null,
                "depends_on" : [ ],
                "run_always" : false
              } ]
            },
            "description" : "模板编排json,包含stages"
          }
        }
      },
      "CustomVariable" : {
        "type" : "object",
        "properties" : {
          "pipeline_id" : {
            "type" : "string",
            "description" : "流水线ID"
          },
          "name" : {
            "type" : "string",
            "description" : "自定义参数名称"
          },
          "sequence" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "自定义参数顺序"
          },
          "type" : {
            "type" : "string",
            "description" : "自定义参数类型"
          },
          "value" : {
            "type" : "string",
            "description" : "自定义参数默认值"
          },
          "is_secret" : {
            "type" : "boolean",
            "description" : "是否私密参数"
          },
          "description" : {
            "type" : "string",
            "description" : "自定义参数描述"
          },
          "is_runtime" : {
            "type" : "boolean",
            "description" : "是否运行时设置"
          },
          "limits" : {
            "type" : "array",
            "items" : {
              "type" : "object"
            },
            "description" : "参数限制"
          },
          "is_reset" : {
            "type" : "boolean",
            "description" : "是否重置"
          },
          "latest_value" : {
            "type" : "string",
            "description" : "最近一次参数值"
          },
          "runtime_value" : {
            "type" : "string",
            "description" : "运行时传入值"
          }
        }
      },
      "TemplateDetail" : {
        "required" : [ "template_id", "template_name", "template_type", "user_id", "user_name", "domain_id", "domain_name", "is_build_in", "region", "project_id", "project_name", "create_time", "last_modify_time", "is_watch", "description", "parameter", "flow", "states" ],
        "properties" : {
          "template_id" : {
            "type" : "string",
            "description" : "模板ID"
          },
          "template_name" : {
            "type" : "string",
            "description" : "模板名字"
          },
          "template_type" : {
            "type" : "string",
            "description" : "模板类型"
          },
          "user_id" : {
            "type" : "string",
            "description" : "用户ID"
          },
          "user_name" : {
            "type" : "string",
            "description" : "用户名字"
          },
          "domain_id" : {
            "type" : "string",
            "description" : "租户ID"
          },
          "domain_name" : {
            "type" : "string",
            "description" : "租户名字"
          },
          "is_build_in" : {
            "type" : "boolean",
            "description" : "是否内置模板"
          },
          "region" : {
            "type" : "string",
            "description" : "region"
          },
          "project_id" : {
            "type" : "string",
            "description" : "项目ID"
          },
          "project_name" : {
            "type" : "string",
            "description" : "项目名字"
          },
          "create_time" : {
            "type" : "string",
            "description" : "创建时间"
          },
          "last_modify_time" : {
            "type" : "string",
            "description" : "修改时间"
          },
          "is_watch" : {
            "type" : "boolean",
            "description" : "是否关注"
          },
          "description" : {
            "type" : "string",
            "description" : "模板描述"
          },
          "parameter" : {
            "type" : "array",
            "description" : "模板参数",
            "items" : {
              "$ref" : "#/components/schemas/TemplateParam"
            }
          },
          "flow" : {
            "type" : "object",
            "description" : "编排flow详情,描述流水线内各阶段任务的串并行关系。map类型数据,key为阶段名字,默认第一阶段initial,最后阶段为final,其余名字以'state_数字'标识。value为该阶段内任务(以'Task_数字'标识)以及后续阶段的标识。本字段为描述流水线基础编排数据之一,建议可通过流水线真实界面基于模板创建接口中获取",
            "additionalProperties" : {
              "type" : "object",
              "additionalProperties" : {
                "type" : "string"
              }
            }
          },
          "states" : {
            "type" : "object",
            "description" : "编排State详情,map类型数据。本字段为描述流水线基础编排数据之一,建议可通过流水线真实界面基于模板创建接口中获取",
            "additionalProperties" : {
              "$ref" : "#/components/schemas/TemplateState"
            }
          }
        },
        "description" : "流水线创建状态响应体",
        "example" : {
          "template_id" : "6efb0b24e2e9489eb0e53ee12904a19e",
          "template_name" : "SpringBoot应用部署",
          "template_type" : "deployMan",
          "template_url" : "https://xxx/workflow/edit/f1dc5d4081aa4f09aac716dbca803b93",
          "user_id" : "",
          "user_name" : "",
          "domain_id" : "",
          "domain_name" : "",
          "is_build_in" : true,
          "region" : "cn-north-7",
          "project_id" : null,
          "project_name" : null,
          "is_watch" : false,
          "description" : "在主机上部署springboot的jar包,并启动该服务",
          "parameter" : [ {
            "$ref" : "#/components/schemas/TemplateParam/example"
          } ],
          "flow" : null,
          "states" : null
        },
        "type" : "object"
      },
      "JobRun" : {
        "type" : "object",
        "description" : "任务运行信息",
        "properties" : {
          "id" : {
            "type" : "string",
            "example" : "9844c5c7cca449498b208d3adeb0e315",
            "description" : "任务ID"
          },
          "category" : {
            "type" : "string",
            "example" : null,
            "description" : "任务类型"
          },
          "sequence" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 0,
            "description" : "序列号"
          },
          "async" : {
            "type" : "string",
            "example" : null,
            "description" : "是否异步"
          },
          "name" : {
            "type" : "string",
            "example" : "clone-build-upload",
            "description" : "任务名称"
          },
          "identifier" : {
            "type" : "string",
            "example" : "16748933105556458214f-3795-44d3-86bb-691d1b5d4a1f",
            "description" : "任务唯一标识"
          },
          "depends_on" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "依赖"
          },
          "condition" : {
            "type" : "string",
            "example" : null,
            "description" : "运行条件"
          },
          "resource" : {
            "type" : "string",
            "example" : null,
            "description" : "执行资源"
          },
          "is_select" : {
            "type" : "boolean",
            "example" : true,
            "description" : "是否选中"
          },
          "timeout" : {
            "type" : "string",
            "example" : "",
            "description" : "任务超时设置"
          },
          "last_dispatch_id" : {
            "type" : "string",
            "example" : "b79ce1bacbe64a42a020270671d9b473",
            "description" : "任务上次下发ID"
          },
          "status" : {
            "type" : "string",
            "example" : "COMPLETED",
            "description" : "状态"
          },
          "message" : {
            "type" : "string",
            "example" : null,
            "description" : "错误信息"
          },
          "start_time" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1674998128000,
            "description" : "开始时间"
          },
          "end_time" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1674998165000,
            "description" : "结束时间"
          },
          "steps" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/StepRun"
            },
            "description" : "步骤"
          }
        }
      },
      "RunPipelineSource" : {
        "type" : "object",
        "description" : "流水线运行源参数",
        "properties" : {
          "type" : {
            "type" : "string",
            "example" : "code",
            "description" : "源类型"
          },
          "params" : {
            "description" : "源参数",
            "properties" : {
              "git_type" : {
                "type" : "string",
                "example" : "codehub",
                "description" : "代码仓类型"
              },
              "git_url" : {
                "type" : "string",
                "example" : "https://codehub.devcloud.cn-north-7.ulanqab.huawei.com/0915-demo-build-lint00001/build-codecheck-example.git",
                "description" : "代码仓https地址"
              },
              "ssh_git_url" : {
                "type" : "string",
                "example" : "git@codehub.devcloud.cn-north-7.ulanqab.huawei.com:0915-demo-build-lint00001/build-codecheck-example.git",
                "description" : "代码仓ssh地址"
              },
              "web_url" : {
                "type" : "string",
                "example" : "",
                "description" : "代码仓页面地址"
              },
              "repo_name" : {
                "type" : "string",
                "example" : "build-codecheck-example",
                "description" : "代码仓名"
              },
              "default_branch" : {
                "type" : "string",
                "example" : "master",
                "description" : "默认分支"
              },
              "endpoint_id" : {
                "type" : "string",
                "example" : "da10df00fb364236bc59549020a9076e",
                "description" : "扩展点ID"
              },
              "codehub_id" : {
                "type" : "string",
                "example" : 2111669099,
                "description" : "codehub代码仓ID"
              },
              "alias" : {
                "type" : "string",
                "example" : "",
                "description" : "代码仓别名"
              },
              "build_params" : {
                "description" : "构建参数",
                "properties" : {
                  "action" : {
                    "type" : "string",
                    "example" : null,
                    "description" : "合并请求事件类型"
                  },
                  "build_type" : {
                    "type" : "string",
                    "example" : "branch",
                    "description" : "基于分支还是tag运行"
                  },
                  "commit_id" : {
                    "type" : "string",
                    "example" : "04a87f451e7b5ca46593c9997d3fa8b7720007cc",
                    "description" : "代码仓提交ID"
                  },
                  "event_type" : {
                    "type" : "string",
                    "example" : "Manual",
                    "description" : "运行事件类型"
                  },
                  "merge_id" : {
                    "type" : "string",
                    "example" : null,
                    "description" : "合并请求ID"
                  },
                  "message" : {
                    "type" : "string",
                    "example" : "更新 readme2.md",
                    "description" : "代码仓提交信息"
                  },
                  "source_branch" : {
                    "type" : "string",
                    "example" : null,
                    "description" : "源分支"
                  },
                  "tag" : {
                    "type" : "string",
                    "example" : null,
                    "description" : "标签"
                  },
                  "target_branch" : {
                    "type" : "string",
                    "example" : "master",
                    "description" : "目标分支"
                  },
                  "codehub_id" : {
                    "type" : "string",
                    "example" : 2111669099,
                    "description" : "codehub代码仓ID"
                  }
                }
              }
            }
          }
        }
      },
      "PackageInfo" : {
        "type" : "object",
        "description" : "流水线产物",
        "properties" : {
          "name" : {
            "type" : "string",
            "description" : "产物名"
          },
          "packageType" : {
            "type" : "string",
            "description" : "产物类型"
          },
          "version" : {
            "type" : "string",
            "description" : "产物版本号"
          },
          "downloadUrl" : {
            "type" : "string",
            "description" : "产物下载地址"
          }
        }
      },
      "StepRun" : {
        "type" : "object",
        "description" : "步骤运行信息",
        "properties" : {
          "name" : {
            "type" : "string",
            "example" : "人工审核",
            "description" : "步骤名称"
          },
          "task" : {
            "type" : "string",
            "example" : "official_devcloud_checkpoint",
            "description" : "步骤插件"
          },
          "business_type" : {
            "type" : "string",
            "example" : "Normal",
            "description" : "插件业务类型"
          },
          "inputs" : {
            "items" : {
              "properties" : {
                "key" : {
                  "type" : "string",
                  "example" : "approvers",
                  "description" : "输入参数名"
                },
                "value" : {
                  "type" : "object",
                  "example" : "847a5317086c41798469d0868535943a",
                  "description" : "输入参数值"
                }
              }
            },
            "description" : "输入参数",
            "type" : "array"
          },
          "sequence" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 0,
            "description" : "序列号"
          },
          "official_task_version" : {
            "type" : "string",
            "example" : null,
            "description" : "官方插件版本号"
          },
          "identifier" : {
            "type" : "string",
            "example" : null,
            "description" : "唯一标识符"
          },
          "multi_step_editable" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 0,
            "description" : "是否可编辑"
          },
          "id" : {
            "type" : "string",
            "example" : "ed3063666ad0487aaec3aa6267186471",
            "description" : "步骤ID"
          },
          "endpoint_ids" : {
            "type" : "string",
            "example" : null,
            "description" : "扩展点"
          },
          "last_dispatch_id" : {
            "type" : "string",
            "example" : "dc2068e5e230408fbb3eb9e04ae7dc8e",
            "description" : "上次下发任务ID"
          },
          "status" : {
            "type" : "string",
            "example" : "COMPLETED",
            "description" : "状态"
          },
          "message" : {
            "type" : "string",
            "example" : null,
            "description" : "错误消息"
          },
          "start_time" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1674907506000,
            "description" : "开始时间"
          },
          "end_time" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1674907513000,
            "description" : "结束时间"
          }
        }
      },
      "StageRun" : {
        "type" : "object",
        "description" : "阶段运行信息",
        "properties" : {
          "id" : {
            "type" : "string",
            "example" : "ade35e3345ed46579aa7e637547c74ea",
            "description" : "阶段ID"
          },
          "category" : {
            "type" : "string",
            "example" : null,
            "description" : "阶段类型"
          },
          "name" : {
            "type" : "string",
            "example" : "阶段_1",
            "description" : "阶段名称"
          },
          "identifier" : {
            "type" : "string",
            "example" : 0,
            "description" : "唯一标识"
          },
          "run_always" : {
            "type" : "boolean",
            "example" : false,
            "description" : "是否总是运行"
          },
          "parallel" : {
            "type" : "string",
            "example" : null,
            "description" : "是否并行"
          },
          "is_select" : {
            "type" : "boolean",
            "example" : true,
            "description" : "是否选中"
          },
          "sequence" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 0,
            "description" : "序列号"
          },
          "depends_on" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "description" : "依赖"
          },
          "condition" : {
            "type" : "string",
            "example" : null,
            "description" : "运行条件"
          },
          "status" : {
            "type" : "string",
            "example" : "COMPLETED",
            "description" : "状态"
          },
          "start_time" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1674998127000,
            "description" : "开始时间"
          },
          "end_time" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1674998165000,
            "description" : "结束时间"
          },
          "pre" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/StepRun"
            },
            "description" : "阶段准入"
          },
          "post" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/StepRun"
            },
            "description" : "阶段准出"
          },
          "jobs" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/JobRun"
            },
            "description" : "任务"
          }
        }
      },
      "PipelineRun" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "example" : "7ba7be7de80c4b819f4c9e3c8ea79c7b",
            "description" : "流水线运行实例ID"
          },
          "pipeline_id" : {
            "type" : "string",
            "example" : "7bcedd0f556a4baead77105f8b238dde",
            "description" : "流水线ID"
          },
          "manifest_version" : {
            "type" : "string",
            "example" : 3.0,
            "description" : "流水线版本"
          },
          "name" : {
            "type" : "string",
            "example" : "测试父流水线",
            "description" : "流水线名称"
          },
          "description" : {
            "type" : "string",
            "example" : "",
            "description" : "运行描述"
          },
          "is_publish" : {
            "type" : "boolean",
            "example" : false,
            "description" : "是否为变更流水线"
          },
          "executor_id" : {
            "type" : "string",
            "example" : "847a5317086c41798469d0868535943a",
            "description" : "运行人ID"
          },
          "executor_name" : {
            "type" : "string",
            "example" : "beta环境账号",
            "description" : "运行人名称"
          },
          "status" : {
            "type" : "string",
            "example" : "COMPLETED",
            "description" : "状态"
          },
          "trigger_type" : {
            "type" : "string",
            "example" : "Manual",
            "description" : "触发类型"
          },
          "run_number" : {
            "type" : "integer",
            "format" : "int32",
            "example" : 1,
            "description" : "运行序号"
          },
          "start_time" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1674907575000,
            "description" : "开始时间"
          },
          "end_time" : {
            "type" : "integer",
            "format" : "int64",
            "example" : 1674907589000,
            "description" : "结束时间"
          },
          "stages" : {
            "items" : {
              "$ref" : "#/components/schemas/StageRun"
            },
            "type" : "array",
            "description" : "阶段信息"
          },
          "domain_id" : {
            "type" : "string",
            "example" : "ce8df55870164338a72d7e828a966a2a",
            "description" : "租户ID"
          },
          "project_id" : {
            "type" : "string",
            "example" : "6428c2e2b4b64affa14ec80896695c49",
            "description" : "项目ID"
          },
          "region" : {
            "type" : "string",
            "example" : "cn-north-7",
            "description" : "局点"
          },
          "component_id" : {
            "type" : "string",
            "example" : "",
            "description" : "组件ID"
          },
          "language" : {
            "type" : "string",
            "example" : "zh-cn",
            "description" : "语言"
          },
          "sources" : {
            "items" : {
              "$ref" : "#/components/schemas/RunPipelineSource"
            },
            "type" : "array",
            "description" : "运行源信息"
          },
          "artifacts" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/PackageInfo"
            },
            "description" : "流水线运行产物"
          },
          "subject_id" : {
            "type" : "string",
            "example" : "7ba7be7de80c4b819f4c9e3c8ea79c7b",
            "description" : "流水线运行实例ID"
          }
        },
        "description" : "流水线运行信息"
      },
      "PipelineRunId" : {
        "type" : "object",
        "description" : "流水线运行实例ID",
        "properties" : {
          "pipeline_run_id" : {
            "type" : "string",
            "example" : "1ee78c63431f48b49cd727b49d47a4be"
          }
        }
      },
      "RunPipelineDTO" : {
        "type" : "object",
        "description" : "运行流水线请求体",
        "properties" : {
          "sources" : {
            "items" : {
              "properties" : {
                "type" : {
                  "type" : "string",
                  "example" : "code",
                  "description" : "源类型"
                },
                "params" : {
                  "properties" : {
                    "git_type" : {
                      "type" : "string",
                      "example" : "codehub",
                      "description" : "代码仓类型"
                    },
                    "codehub_id" : {
                      "type" : "string",
                      "example" : 2111679719,
                      "description" : "codehub代码库ID"
                    },
                    "default_branch" : {
                      "type" : "string",
                      "example" : "master",
                      "description" : "默认分支"
                    },
                    "git_url" : {
                      "type" : "string",
                      "example" : "https://codehub.devcloud.cn-north-7.ulanqab.huawei.com/CloudPipelinezycs00001/2000.git",
                      "description" : "git仓库https地址"
                    },
                    "endpoint_id" : {
                      "type" : "string",
                      "example" : null,
                      "description" : "扩展点ID"
                    },
                    "build_params" : {
                      "properties" : {
                        "build_type" : {
                          "type" : "string",
                          "example" : "branch",
                          "description" : "分支还是tag触发"
                        },
                        "target_branch" : {
                          "type" : "string",
                          "example" : "master",
                          "description" : "运行分支"
                        },
                        "tag" : {
                          "type" : "string",
                          "example" : null,
                          "description" : "运行tag"
                        },
                        "event_type" : {
                          "type" : "string",
                          "description" : "触发事件类型",
                          "example" : "Manual"
                        }
                      },
                      "description" : "具体构建参数"
                    }
                  },
                  "description" : "源参数"
                }
              }
            },
            "type" : "array",
            "description" : "使用的源"
          },
          "description" : {
            "type" : "string",
            "example" : "版本发布",
            "description" : "运行描述"
          },
          "variables" : {
            "items" : {
              "properties" : {
                "name" : {
                  "type" : "string",
                  "example" : "dfssda",
                  "description" : "参数名"
                },
                "value" : {
                  "type" : "string",
                  "example" : "fsaafsd",
                  "description" : "参数值"
                }
              }
            },
            "type" : "array",
            "description" : "使用的自定义参数"
          },
          "choose_jobs" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "example" : [ "1671505863593ad534b54-204e-4eff-8781-c6dfe3edd195" ],
            "description" : "选择的任务"
          }
        }
      }
    },
    "securitySchemes" : { }
  },
  "paths" : {
    "/CreatePipelineByTemplateId" : {
      "post" : {
        "tags" : [ "流水线管理--新" ],
        "summary" : "基于模板创建流水线",
        "description" : "基于模板创建流水线",
        "operationId" : "CreatePipelineByTemplateId",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PipelineId"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "$ref" : "#/components/parameters/Path-Project-Id"
        }, {
          "name" : "template_id",
          "in" : "path",
          "description" : "模板ID",
          "required" : true,
          "schema" : {
            "example" : "9640a0d5a3be4eb8828d53cccb475db4",
            "description" : "模板ID",
            "type" : "string",
            "maxLength" : 32,
            "minLength" : 5
          }
        }, {
          "$ref" : "#/components/parameters/X-Auth-Token"
        }, {
          "name" : "component_id",
          "in" : "query",
          "description" : "微服务ID",
          "required" : false,
          "schema" : {
            "description" : "微服务ID",
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/PipelineByTemplateDTO"
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "CreatePipelineByTemplateId",
      "x-url" : "{endpoint}/v5/{project_id}/api/pipeline-templates/{template_id}/create-pipeline"
    },
    "/ListPipelineTemplates" : {
      "post" : {
        "tags" : [ "流水线模板管理--新" ],
        "summary" : "查询模板列表",
        "description" : "查询流水线模板列表",
        "operationId" : "ListPipelineTemplates",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PipelineTemplatePageResult"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "name" : "tenant_id",
          "in" : "path",
          "description" : "租户ID",
          "required" : true,
          "schema" : {
            "description" : "租户ID",
            "type" : "string"
          }
        }, {
          "$ref" : "#/components/parameters/X-Auth-Token"
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/ListPipelineTemplatesQuery"
              }
            }
          },
          "required" : false
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListPipelineTemplates",
      "x-url" : "{endpoint}/v5/{tenant_id}/api/pipeline-templates/list"
    },
    "/CreatePipelineByTemplate" : {
      "post" : {
        "tags" : [ "流水线管理" ],
        "summary" : "基于模板快速创建流水线及流水线内任务",
        "description" : "基于模板快速创建流水线及流水线内任务",
        "operationId" : "CreatePipelineByTemplate",
        "deprecated" : false,
        "responses" : {
          "201" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/InstanceResponse"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : false,
          "schema" : {
            "example" : "MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX...",
            "description" : "用户Token。",
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/TemplateCddl"
              }
            }
          },
          "required" : true
        },
        "security" : [ {
          "apig-auth-iam" : [ ]
        } ]
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "CreatePipelineByTemplate",
      "x-url" : "{endpoint}/v3/templates/task"
    },
    "/ListPipleineBuildResult" : {
      "get" : {
        "tags" : [ "流水线管理" ],
        "summary" : "获取项目下流水线执行状况",
        "description" : "获取项目下流水线执行状况",
        "operationId" : "ListPipleineBuildResult",
        "deprecated" : false,
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PipelineBuildPageResult"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : false,
          "schema" : {
            "example" : "MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...",
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "project_id",
          "in" : "query",
          "description" : "项目id",
          "required" : true,
          "schema" : {
            "example" : "8025ba36a87a4dd5af496708c2961817",
            "description" : "项目id",
            "type" : "string",
            "maxLength" : 32,
            "minLength" : 32
          }
        }, {
          "name" : "start_date",
          "in" : "query",
          "description" : "起始日期,起始日期和结束日期间隔不超过一个月,查询包含起始日期",
          "required" : true,
          "schema" : {
            "example" : "2020-08-24",
            "description" : "起始日期,起始日期和结束日期间隔不超过一个月,查询包含起始日期",
            "type" : "string"
          }
        }, {
          "name" : "end_date",
          "in" : "query",
          "description" : "结束日期,起始日期和结束日期间隔不超过一个月,查询包含结束日期",
          "required" : true,
          "schema" : {
            "example" : "2020-08-01",
            "description" : "结束日期,起始日期和结束日期间隔不超过一个月,查询包含结束日期",
            "type" : "string"
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "description" : "偏移量,表示从此偏移量开始查询,offset大于等于0",
          "required" : true,
          "schema" : {
            "example" : 10,
            "description" : "偏移量,表示从此偏移量开始查询,offset大于等于0",
            "type" : "integer",
            "maximum" : 200000,
            "minimum" : 0
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "每次查询的条目数量",
          "required" : true,
          "schema" : {
            "example" : 10,
            "description" : "每次查询的条目数量",
            "type" : "integer",
            "maximum" : 500,
            "minimum" : 10
          }
        } ],
        "security" : [ {
          "apig-auth-iam" : [ ]
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListPipleineBuildResult",
      "x-url" : "{endpoint}/v3/pipelines/build-result"
    },
    "/StartNewPipeline" : {
      "post" : {
        "tags" : [ "流水线管理" ],
        "summary" : "启动流水线",
        "description" : "启动流水线",
        "operationId" : "StartNewPipeline",
        "deprecated" : false,
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PipelineActionResult"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token,通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。",
          "required" : true,
          "schema" : {
            "example" : "MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...",
            "description" : "用户Token,通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。",
            "type" : "string"
          }
        }, {
          "name" : "pipeline_id",
          "in" : "path",
          "description" : "流水线ID",
          "required" : true,
          "schema" : {
            "example" : "8025ba36a87a4dd5af496708c2961817",
            "description" : "流水线ID",
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/StartPipelineParameters"
              }
            }
          },
          "required" : false
        },
        "security" : [ {
          "apig-auth-iam" : [ ]
        } ]
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "StartNewPipeline",
      "x-url" : "{endpoint}/v3/pipelines/{pipeline_id}/start"
    },
    "/StopPipelineRun" : {
      "post" : {
        "tags" : [ "流水线管理--新" ],
        "summary" : "停止流水线",
        "description" : "停止流水线",
        "operationId" : "StopPipelineRun",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SuccessResp"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "$ref" : "#/components/parameters/Path-Project-Id"
        }, {
          "$ref" : "#/components/parameters/Path-Pipeline-Id"
        }, {
          "$ref" : "#/components/parameters/Path-Pipeline-Run-Id"
        }, {
          "$ref" : "#/components/parameters/X-Auth-Token"
        } ]
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "StopPipelineRun",
      "x-url" : "{endpoint}/v5/{project_id}/api/pipelines/{pipeline_id}/pipeline-runs/{pipeline_run_id}/stop"
    },
    "/ListPipelines" : {
      "post" : {
        "tags" : [ "流水线管理--新" ],
        "summary" : "获取流水线列表/获取项目下流水线执行状况",
        "description" : "获取流水线列表/获取项目下流水线执行状况",
        "operationId" : "ListPipelines",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ListPipelinesPage"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "$ref" : "#/components/parameters/Path-Project-Id"
        }, {
          "$ref" : "#/components/parameters/X-Auth-Token"
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/ListPipelineQuery"
              }
            }
          },
          "required" : false
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListPipelines",
      "x-url" : "{endpoint}/v5/{project_id}/api/pipelines/list"
    },
    "/ShowPipleineStatus" : {
      "get" : {
        "tags" : [ "流水线管理" ],
        "summary" : "获取流水线状态",
        "description" : "获取流水线状态,阶段及任务信息",
        "operationId" : "ShowPipleineStatus",
        "deprecated" : false,
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PipelineStatusDetail"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : true,
          "schema" : {
            "example" : "MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...",
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "pipeline_id",
          "in" : "path",
          "description" : "要获取状态的流水线ID",
          "required" : true,
          "schema" : {
            "example" : "8025ba36a87a4dd5af496708c2961817",
            "description" : "要获取状态的流水线ID",
            "type" : "string",
            "maxLength" : 32,
            "minLength" : 32
          }
        }, {
          "name" : "build_id",
          "in" : "query",
          "description" : "要获取状态的执行ID",
          "required" : false,
          "schema" : {
            "example" : "2",
            "description" : "要获取状态的执行ID",
            "type" : "string",
            "maxLength" : 10,
            "minLength" : 1
          }
        } ],
        "security" : [ {
          "apig-auth-iam" : [ ]
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowPipleineStatus",
      "x-url" : "{endpoint}/v3/pipelines/{pipeline_id}/status"
    },
    "/RemovePipeline" : {
      "delete" : {
        "tags" : [ "流水线管理" ],
        "summary" : "删除流水线",
        "description" : "根据id删除流水线",
        "operationId" : "RemovePipeline",
        "deprecated" : false,
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PipelineInfoResponse"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : false,
          "schema" : {
            "example" : "MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...",
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "pipeline_id",
          "in" : "path",
          "description" : "要删除的流水线ID",
          "required" : true,
          "schema" : {
            "example" : "8025ba36a87a4dd5af496708c2961817",
            "description" : "要删除的流水线ID",
            "type" : "string",
            "maxLength" : 32,
            "minLength" : 5
          }
        } ],
        "security" : [ {
          "apig-auth-iam" : [ ]
        } ]
      },
      "x-method" : "delete",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "RemovePipeline",
      "x-url" : "{endpoint}/v3/pipelines/{pipeline_id}"
    },
    "/StopPipelineNew" : {
      "post" : {
        "tags" : [ "流水线管理" ],
        "summary" : "停止流水线",
        "description" : "停止流水线",
        "operationId" : "StopPipelineNew",
        "deprecated" : false,
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PipelineInfoResponse"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : false,
          "schema" : {
            "example" : "MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...",
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "pipeline_id",
          "in" : "path",
          "description" : "流水线ID",
          "required" : true,
          "schema" : {
            "example" : "8025ba36a87a4dd5af496708c2961817",
            "description" : "流水线ID",
            "type" : "string",
            "maxLength" : 32,
            "minLength" : 32
          }
        }, {
          "name" : "build_id",
          "in" : "query",
          "description" : "流水线执行ID",
          "required" : true,
          "schema" : {
            "example" : "1",
            "description" : "流水线执行ID",
            "type" : "string",
            "maxLength" : 10,
            "minLength" : 1
          }
        } ],
        "security" : [ {
          "apig-auth-iam" : [ ]
        } ]
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "StopPipelineNew",
      "x-url" : "{endpoint}/v3/pipelines/{pipeline_id}/stop"
    },
    "/BatchShowPipelinesLatestStatus" : {
      "post" : {
        "tags" : [ "流水线管理--新" ],
        "summary" : "批量获取流水线状态",
        "description" : "批量获取流水线状态",
        "operationId" : "BatchShowPipelinesLatestStatus",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/PipelineLatestRun"
                  }
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "$ref" : "#/components/parameters/Path-Project-Id"
        }, {
          "$ref" : "#/components/parameters/X-Auth-Token"
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "properties" : {
                  "pipeline_ids" : {
                    "description" : "流水线ID列表",
                    "type" : "array",
                    "items" : {
                      "type" : "string"
                    }
                  }
                }
              }
            }
          },
          "required" : true
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "BatchShowPipelinesLatestStatus",
      "x-url" : "{endpoint}/v5/{project_id}/api/pipelines/status"
    },
    "/ListPipelineRuns" : {
      "post" : {
        "tags" : [ "流水线管理--新" ],
        "summary" : "获取流水线执行记录",
        "description" : "获取流水线执行记录",
        "operationId" : "ListPipelineRuns",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ListPipelineRunsPage"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "$ref" : "#/components/parameters/Path-Project-Id"
        }, {
          "$ref" : "#/components/parameters/Path-Pipeline-Id"
        }, {
          "$ref" : "#/components/parameters/X-Auth-Token"
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/ListPipelineRunsQuery"
              }
            }
          },
          "required" : false
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListPipelineRuns",
      "x-url" : "{endpoint}/v5/{project_id}/api/pipelines/{pipeline_id}/pipeline-runs/list"
    },
    "/ShowInstanceStatus" : {
      "get" : {
        "tags" : [ "流水线管理" ],
        "summary" : "检查流水线创建状态",
        "description" : "检查流水线创建状态",
        "operationId" : "ShowInstanceStatus",
        "deprecated" : false,
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/InstanceStatus"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : false,
          "schema" : {
            "example" : "MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX...",
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "task_id",
          "in" : "path",
          "description" : "实例ID",
          "required" : true,
          "schema" : {
            "example" : "eafaff0bf9094d3d8456d13dddf67b40",
            "description" : "实例ID",
            "type" : "string",
            "maxLength" : 32,
            "minLength" : 5
          }
        } ],
        "security" : [ {
          "apig-auth-iam" : [ ]
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowInstanceStatus",
      "x-url" : "{endpoint}/v3/templates/{task_id}/status"
    },
    "/DeletePipeline" : {
      "delete" : {
        "tags" : [ "流水线管理--新" ],
        "summary" : "删除流水线",
        "description" : "删除流水线",
        "operationId" : "DeletePipeline",
        "responses" : {
          "200" : {
            "description" : "",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PipelineId"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "$ref" : "#/components/parameters/Path-Project-Id"
        }, {
          "$ref" : "#/components/parameters/Path-Pipeline-Id"
        }, {
          "$ref" : "#/components/parameters/X-Auth-Token"
        } ]
      },
      "x-method" : "delete",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "DeletePipeline",
      "x-url" : "{endpoint}/v5/{project_id}/api/pipelines/{pipeline_id}"
    },
    "/BatchShowPipelinesStatus" : {
      "get" : {
        "tags" : [ "流水线管理" ],
        "summary" : "批量获取流水线状态",
        "description" : "批量获取流水线状态和阶段信息",
        "operationId" : "BatchShowPipelinesStatus",
        "deprecated" : false,
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/PipelineExecuteStates"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : false,
          "schema" : {
            "example" : "MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...",
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "pipeline_ids",
          "in" : "query",
          "description" : "要获取状态的流水线ID,用逗号隔开",
          "required" : true,
          "schema" : {
            "example" : "8025ba36a87a4dd5af496708c2961817,413937e669914f95bed293617886c6c1",
            "description" : "要获取状态的流水线ID,用逗号隔开",
            "type" : "string",
            "maxLength" : 3300,
            "minLength" : 0
          }
        } ],
        "security" : [ {
          "apig-auth-iam" : [ ]
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "BatchShowPipelinesStatus",
      "x-url" : "{endpoint}/v3/pipelines/status"
    },
    "/ListPipelineSimpleInfo" : {
      "post" : {
        "tags" : [ "流水线管理" ],
        "summary" : "获取流水线列表接口",
        "description" : "获取流水线列表接口",
        "operationId" : "ListPipelineSimpleInfo",
        "deprecated" : false,
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PipelinePageResult"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : false,
          "schema" : {
            "example" : "MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...",
            "description" : "用户Token。",
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/ListPipelineSimpleInfoRequestBody"
              }
            }
          },
          "required" : false
        },
        "security" : [ {
          "apig-auth-iam" : [ ]
        } ]
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListPipelineSimpleInfo",
      "x-url" : "{endpoint}/v3/pipelines/list"
    },
    "/ListTemplates" : {
      "get" : {
        "tags" : [ "模板管理" ],
        "summary" : "查询模板列表",
        "description" : "查询模板列表,支持分页查询,支持模板名字模糊查询",
        "operationId" : "ListTemplates",
        "deprecated" : false,
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PageView"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : false,
          "schema" : {
            "example" : "MIIDkgYJKoZIhvIIDgzCCXXXXXX...",
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "template_type",
          "in" : "query",
          "description" : "模板类型",
          "required" : true,
          "schema" : {
            "example" : "pipeline",
            "description" : "模板类型",
            "type" : "string",
            "maxLength" : 64,
            "minLength" : 1
          }
        }, {
          "name" : "is_build_in",
          "in" : "query",
          "description" : "是否内置模板",
          "required" : true,
          "schema" : {
            "example" : false,
            "description" : "是否内置模板",
            "type" : "string"
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "description" : "偏移量,表示从此偏移量开始查询,offset大于等于0",
          "required" : false,
          "schema" : {
            "example" : 0,
            "description" : "偏移量,表示从此偏移量开始查询,offset大于等于0",
            "type" : "integer",
            "format" : "int32",
            "maximum" : 100,
            "minimum" : 0
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "每页显示的条目数量",
          "required" : false,
          "schema" : {
            "example" : 20,
            "description" : "每页显示的条目数量",
            "type" : "integer",
            "format" : "int32",
            "maximum" : 100,
            "minimum" : 1
          }
        }, {
          "name" : "name",
          "in" : "query",
          "description" : "模板名称,匹配规则为模糊匹配",
          "required" : false,
          "schema" : {
            "example" : "test",
            "description" : "模板名称,匹配规则为模糊匹配",
            "type" : "string",
            "maxLength" : 60,
            "minLength" : 1
          }
        }, {
          "name" : "sort",
          "in" : "query",
          "description" : "排序字段",
          "required" : false,
          "schema" : {
            "example" : "template_name",
            "description" : "排序字段",
            "type" : "string",
            "maxLength" : 64,
            "minLength" : 1
          }
        }, {
          "name" : "asc",
          "in" : "query",
          "description" : "是否正序",
          "required" : false,
          "schema" : {
            "example" : true,
            "description" : "是否正序",
            "type" : "string"
          }
        } ],
        "security" : [ {
          "apig-auth-iam" : [ ]
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ListTemplates",
      "x-url" : "{endpoint}/v3/templates"
    },
    "/ShowPipelineTemplateDetail" : {
      "get" : {
        "tags" : [ "流水线模板管理--新" ],
        "summary" : "查询模板详情",
        "description" : "查询模板详情",
        "operationId" : "ShowPipelineTemplateDetail",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PipelineTemplateVO"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "name" : "tenant_id",
          "in" : "path",
          "description" : "租户ID",
          "required" : true,
          "schema" : {
            "description" : "租户ID",
            "type" : "string"
          }
        }, {
          "name" : "template_id",
          "in" : "path",
          "description" : "模板ID",
          "required" : true,
          "schema" : {
            "description" : "模板ID",
            "type" : "string"
          }
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowPipelineTemplateDetail",
      "x-url" : "{endpoint}/v5/{tenant_id}/api/pipeline-templates/{template_id}"
    },
    "/ShowTemplateDetail" : {
      "get" : {
        "tags" : [ "模板管理" ],
        "summary" : "查询模板详情",
        "description" : "查询模板详情",
        "operationId" : "ShowTemplateDetail",
        "deprecated" : false,
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/TemplateDetail"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "name" : "X-Auth-Token",
          "in" : "header",
          "description" : "用户Token。",
          "required" : false,
          "schema" : {
            "example" : "MIIDkgYJKoZIhvIIDgzCCXXXXXX...",
            "description" : "用户Token。",
            "type" : "string"
          }
        }, {
          "name" : "template_id",
          "in" : "path",
          "description" : "模板ID",
          "required" : true,
          "schema" : {
            "example" : "9640a0d5a3be4eb8828d53cccb475db4",
            "description" : "模板ID",
            "type" : "string",
            "maxLength" : 32,
            "minLength" : 5
          }
        }, {
          "name" : "template_type",
          "in" : "query",
          "description" : "模板类型",
          "required" : true,
          "schema" : {
            "example" : "pipeline",
            "description" : "模板类型",
            "type" : "string",
            "maxLength" : 64,
            "minLength" : 1
          }
        }, {
          "name" : "source",
          "in" : "query",
          "description" : "接口调用方",
          "required" : false,
          "schema" : {
            "example" : "devstar",
            "description" : "接口调用方",
            "type" : "string",
            "maxLength" : 64,
            "minLength" : 1
          }
        } ],
        "security" : [ {
          "apig-auth-iam" : [ ]
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowTemplateDetail",
      "x-url" : "{endpoint}/v3/templates/{template_id}"
    },
    "/ShowPipelineRunDetail" : {
      "get" : {
        "tags" : [ "流水线管理--新" ],
        "summary" : "获取流水线状态/获取流水线执行详情",
        "description" : "获取流水线状态/获取流水线执行详情",
        "operationId" : "ShowPipelineRunDetail",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PipelineRun"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "$ref" : "#/components/parameters/Path-Project-Id"
        }, {
          "$ref" : "#/components/parameters/Path-Pipeline-Id"
        }, {
          "name" : "pipeline_run_id",
          "in" : "query",
          "description" : "流水线运行实例ID",
          "required" : false,
          "schema" : {
            "description" : "流水线运行实例ID",
            "type" : "string"
          }
        }, {
          "$ref" : "#/components/parameters/X-Auth-Token"
        } ]
      },
      "x-method" : "get",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "ShowPipelineRunDetail",
      "x-url" : "{endpoint}/v5/{project_id}/api/pipelines/{pipeline_id}/pipeline-runs/detail"
    },
    "/RunPipeline" : {
      "post" : {
        "tags" : [ "流水线管理--新" ],
        "summary" : "启动流水线",
        "description" : "启动流水线",
        "operationId" : "RunPipeline",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PipelineRunId"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized"
          },
          "403" : {
            "description" : "Forbidden"
          },
          "404" : {
            "description" : "Not Found"
          }
        },
        "parameters" : [ {
          "$ref" : "#/components/parameters/Path-Project-Id"
        }, {
          "$ref" : "#/components/parameters/Path-Pipeline-Id"
        }, {
          "$ref" : "#/components/parameters/X-Auth-Token"
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/RunPipelineDTO"
              }
            }
          },
          "required" : false
        }
      },
      "x-method" : "post",
      "x-content-type" : "application/json;charset=UTF-8",
      "x-operationId" : "RunPipeline",
      "x-url" : "{endpoint}/v5/{project_id}/api/pipelines/{pipeline_id}/run"
    }
  }
}